const _0x2d30c4=_0x4c02;(function(_0x30bb5c,_0x5556ec){const _0x1826f0=_0x4c02,_0x260a2e=_0x30bb5c();while(!![]){try{const _0x45c6f1=-parseInt(_0x1826f0(0x1f1))/0x1*(-parseInt(_0x1826f0(0x233))/0x2)+parseInt(_0x1826f0(0x21c))/0x3*(parseInt(_0x1826f0(0x1c0))/0x4)+parseInt(_0x1826f0(0x12b))/0x5*(-parseInt(_0x1826f0(0x27b))/0x6)+parseInt(_0x1826f0(0x212))/0x7+parseInt(_0x1826f0(0x2fc))/0x8+-parseInt(_0x1826f0(0x13b))/0x9*(parseInt(_0x1826f0(0x2ac))/0xa)+-parseInt(_0x1826f0(0x253))/0xb*(parseInt(_0x1826f0(0x197))/0xc);if(_0x45c6f1===_0x5556ec)break;else _0x260a2e['push'](_0x260a2e['shift']());}catch(_0x9938de){_0x260a2e['push'](_0x260a2e['shift']());}}}(_0x18e3,0x5d981));import*as _0x1cf020 from'three';function _0x4c02(_0x4eac26,_0x22d303){const _0x18e3e6=_0x18e3();return _0x4c02=function(_0x4c029b,_0x510d77){_0x4c029b=_0x4c029b-0x129;let _0x177554=_0x18e3e6[_0x4c029b];return _0x177554;},_0x4c02(_0x4eac26,_0x22d303);}import{PointerLockControls}from'PointerLockControls';function _0x18e3(){const _0x296389=['previewContainer','animationMixer','shareLinkInput\x20not\x20found','renderer','screenshotStatus','45412vVktxq','warn','gallery_view.png','ExtrudeGeometry','setFromEuler','near','setVolume','location','clickDelay','move','animateObjectsBtn','updateCameraState','normalMap','addLighting','.webm','placeholder2.jpg','showAvatarInstructions','key','split','setPixelRatio','isSliderActive','Screenshots\x20captured\x20for\x20','Share\x20link\x20generated','auto','ceilingLights','innerHTML','length','isAvatar','has','Duplicate\x20image\x20content\x20detected\x20for\x20','aspect','Slider\x20closed;\x20click\x20canvas\x20to\x20re-lock\x20pointer\x20if\x20desired','22VJcPPR','spot','max-width:\x20100px;\x20max-height:\x20100px;\x20margin:\x205px;\x20object-fit:\x20cover;','dataset','No\x20images\x20available\x20for\x20sharing','No\x20shareUrl\x20available','left','setFromCamera','image-preview','screenshots','classList','uploadForm','previousCameraState','value','description','.control-panel','ledMaterial','RepeatWrapping','toggle','Link\x20copied\x20to\x20clipboard','createObjectURL','autoRotateBtn','sessionId','No\x20valid\x20screenshots\x20in\x20response,\x20using\x20fallback','display','backgroundAudio','scene','Failed\x20to\x20upload\x20images','animate','ownerDocument','MeshPhysicalMaterial','removeAttribute','forEach','data-tooltip','updateProjectionMatrix','\x22\x20placeholder=\x22Image\x20Title\x22\x20value=\x22','movementX','url','keys','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','6bXgvrF','step','Close\x20button\x20not\x20found\x20in\x20DOM','Updated\x20metadata\x20with\x20backend\x20filenames:','querySelector','Mesh','onMouseMove','YXZ','keydown','wrapT','clipAction','audioListener','min','handleDownload','‚ùå\x20Error\x20fetching\x20images\x20(attempt\x20','unlock','showStatus','lineTo','onKeyUp','setSensitivity','pointerlockerror','.children[4].rotation[z]','/api/capture','createAvatar','animationSpeedSlider','geometry','üóëÔ∏è\x20Scene\x20cleared','Fetch\x20response\x20status:','updateAvatarPosition','rooms','updateSliderDisplay','getHex','isControlPressed','sensitivityValue','toISOString','bias','wallLights','SphereGeometry','stringify','dir','toggleControlsBtn','getWorldDirection','play','updateLighting','recordedFrames','mesh','Sharing\x20with\x20htmlPath:\x20','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22title-','filePaths','100KtBEdu','zoom','toggleAutoRotate','getElementById','trim','focusImage','Share\x20modal\x20closed','clientX','drawImage','filename','Vector3','data','src','filter','isFocused','clearScene','Shape','showShareLink\x20called\x20with\x20shareUrl:','lookAt','style','Modal\x20displayed:','WebGLRenderer','crossVectors','Error\x20uploading\x20files:','prevImage','isLocked','stopPropagation','onKeyDown','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','description-','metadataModal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>','checkCollisions','mouse','material','updateAutoRotate','string','<i\x20class=\x22fas\x20fa-exclamation-triangle\x22></i>','imagesToLoad','getObject','shareStatus','test','Color','isRecording','canvas','Sanitized\x20imagesToLoad:','pop','image/','createImageData','currentRoom','setClearColor','video/webm','getMaxAnisotropy','color','pointerEvents','CircleGeometry','mapSize','controls','updateObjectAnimations','success','baseScale','Next\x20button\x20not\x20found\x20in\x20DOM','AudioListener','isPlaying','HTTP\x20error!\x20status:\x20','copy','MathUtils','Euler','rot','Fetch\x20result:','remove','ArrowRight','Max\x20retries\x20reached,\x20using\x20fallback','nextSliderImage','addEventListener','clipboard','emissiveIntensity','lastClickTime','startRecording','NumberKeyframeTrack','3482184Nmawzp','AnimationMixer','body','glassSpotlights','handleScreenshotSubmit','Path','appendChild','Unknown','shadowMap','MeshStandardMaterial','.slider-group:last-child','none','lock','loading','onload','userAgent','render','handleShare','controlsVisible','target','title','writeText','multiplyScalar','rotate','LinearFilter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Gallery\x20Controls</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Swipe\x20to\x20look\x20around.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Pinch\x20to\x20zoom\x20in/out.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Tap\x20an\x20artwork\x20to\x20focus,\x20tap\x20again\x20to\x20reset.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Double-tap\x20artwork\x20to\x20open\x20image\x20slider.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeInstructions\x22\x20style=\x22margin-top:10px;\x20padding:5px\x2010px;\x20background:#1e90ff;\x20border:none;\x20color:white;\x20border-radius:5px;\x20cursor:pointer;\x22>Close</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','position:absolute;\x20top:50%;\x20left:50%;\x20transform:translate(-50%,\x20-50%);\x20color:white;\x20background:rgba(0,0,0,0.7);\x20padding:20px;\x20border-radius:5px;\x20z-index:11;\x20text-align:center;','repeat','sliderIndex','showShareLink','application/json','onclick','Untitled','üé•\x20Recording\x20stopped','downloadBtn','Auto\x20Rotate','Stop\x20Rotation','minDistance','href','far','quaternion','max','showMessage','result','height','generateModernWallTexture','/api/share/','closeInstructions','1122695fUtEAJ','append','update','sliderImages','stop','Stop\x20Recording','textureLoader','setItem','artist-','pointerLockElement','POST','\x20with\x20hash\x20','camera','escape','/api/screenshots/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Gallery\x20Controls</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Click\x20to\x20lock\x20pointer\x20and\x20start\x20exploring.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Use\x20W,\x20A,\x20S,\x20D\x20to\x20move.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Use\x20Q\x20and\x20E\x20to\x20rotate\x20left/right.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Mouse\x20to\x20look\x20up/down.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Double-click\x20an\x20artwork\x20to\x20focus\x20and\x20open\x20slider.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Hold\x20Control\x20key\x20to\x20cycle\x20through\x20images\x20in\x20slider.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeInstructions\x22\x20style=\x22margin-top:10px;\x20padding:5px\x2010px;\x20background:#1e90ff;\x20border:none;\x20color:white;\x20border-radius:5px;\x20cursor:pointer;\x22>Close</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','646875ffDwxO','findIndex','preventDefault','message','handleUploadSubmit','toggleObjectAnimation','.slider-content','querySelectorAll','setupAudio','add','closeSlider','error','animationSpeed','Share\x20button\x20clicked,\x20sessionId:\x20','üîÑ\x20Auto-rotation\x20disabled','stopRecording','innerWidth','Pointer\x20lock\x20state\x20changed:','sub','generateNoiseCanvas','json','needsUpdate','sweet.mp3','Stop\x20Animating','isAutoRotating','scaleImage','autoRotateSpeed','Hide\x20Controls','block','Failed\x20to\x20display\x20share\x20modal','rotation','‚úÖ\x20Share\x20button\x20listener\x20attached','change','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>','sensitivitySlider','setupEventListeners','className','right','Fallback\x20metadata:','üöÄ\x20Virtual\x20Gallery\x20loaded','map','handleZoom','isMoving','putImageData','Clicked\x20image:\x20','Audio','copyShareLink\x20button\x20not\x20found','size','setLoop','lerpVectors','avatarGroup','input','degToRad','hidden','showMetadataModal','Fallback\x20imagesToLoad:','shareUrl','log','rotationSpeed','nextImage','castShadow','status','imageSliderContainer','push','ontouchstart','scale','images','shareBtn','setupAvatarAnimation','getImageData','raycaster','No\x20files\x20or\x20metadata\x20to\x20upload','sin','toLowerCase','recordBtn','SpotLight','image','setAttribute','distanceTo','openSlider','innerHeight','parent','MeshBasicMaterial','type','createGallery','uniforms','Please\x20enter\x20a\x20valid\x20URL','LinearMipmapLinearFilter','position','isArray','shareLinkInput','AnimationClip','4279668BttiUP','textContent','LoopRepeat','üé¨\x20Object\x20animation\x20enabled','üîÑ\x20Auto-rotation\x20enabled','load','Texture','updateImageEffects','cssText','new','https://via.placeholder.com/350x250','start','isAnimatingObjects','clone','Animate\x20Objects','image/png','intersectObjects','init','submit','bind','sliderMetadata','set','/api/upload','cos','setFromQuaternion','capabilities','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Great!\x20Now\x20move\x20around:<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20‚Ä¢\x20<strong>W</strong>:\x20Forward<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20‚Ä¢\x20<strong>A</strong>:\x20Left<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20‚Ä¢\x20<strong>S</strong>:\x20Back<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20‚Ä¢\x20<strong>D</strong>:\x20Right<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Try\x20it!\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','computeImageHash','loadImages','receiveShadow','Escape','\x20/\x20','readAsDataURL','keyup','\x22\x20target=\x22_blank\x22>','artist','captureStream','shadow','sensitivity','shareModal','children','60vbBnhN','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Url:</strong>\x20','moveSpeed','createElement','avatarWave','devicePixelRatio','resetCamera','mediaRecorder','abs','üñ•Ô∏è\x20Controls\x20visible','fas\x20fa-eye','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Welcome\x20to\x20your\x203D\x20Gallery!<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Click\x20anywhere\x20to\x20start\x20exploring!\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pendingFiles','Failed\x20to\x20share:\x20','<a\x20href=\x22','toggleControls','Error\x20loading\x20image\x20','updateTutorialOnAction','enableZoom','fas\x20fa-eye-slash','moveTo','Locked','anisotropy','PlaneGeometry','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Good\x20job!\x20More\x20tips:<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20‚Ä¢\x20Double-click\x20art\x20to\x20zoom\x20in<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20‚Ä¢\x20Press\x20<strong>Esc</strong>\x20to\x20exit\x20zoom<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20‚Ä¢\x20Click\x20the\x20avatar\x20for\x20help<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Enjoy\x20exploring!\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20sharing\x20gallery:','normalScale','prevSliderImage','width','addScaledVector','Slider\x20images\x20with\x20metadata:','üé•\x20Recording\x20started','wrapS','setHSL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20map;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20time;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color\x20=\x20texture2D(map,\x20vUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(color.a\x20<\x200.5)\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(color.rgb,\x20color.a\x20*\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointerlockchange','setSize','Start\x20Recording','BoxGeometry','Group','placeholder1.jpg','touchstart','userData','subVectors','domElement','metadata','submitMetadata','onCanvasClick','maxDistance','25IMfGdx','startsWith','currentSliderIndex','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22description-','getContext','object','ceil','PerspectiveCamera','dispose','loadAudio','img','displayImagesInGallery','Upload\x20failed','includes','zoomValue','isMobile','CylinderGeometry','roomCameraSettings','normalize','enabled','saveRecording','No\x20share\x20link\x20available','closeShareModal','time','title-','sliderImage','find','intensity','Error\x20loading\x20audio:','clientY','No\x20valid\x20images\x20to\x20load\x20after\x20sanitization','onstop','üì∏\x20Fetched\x20data\x20for\x20session','5020015CBoFjC','mousemove','div','No\x20images\x20in\x20the\x20gallery\x20to\x20share','color:\x20white;\x20background:\x20rgba(0,0,0,0.7);\x20padding:\x2010px;\x20border-radius:\x205px;\x20margin-top:\x2010px;','Slider\x20container\x20not\x20found\x20in\x20DOM','.children[3].rotation[z]','showImagePreviewsAndMetadataPrompt','clickSound','Failed\x20to\x20capture\x20screenshot:\x20','63972GqyIDe','pathname','holes','fov','click','None','now','toFixed','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Description:</strong>\x20','Displaying\x20metadata\x20for\x20image','Assigning\x20metadata\x20to\x20','Slider\x20elements\x20missing:','execCommand','opacity','name','recordStatus','Previous\x20button\x20not\x20found\x20in\x20DOM','TextureLoader'];_0x18e3=function(){return _0x296389;};return _0x18e3();}import{OrbitControls}from'OrbitControls';class CustomPointerLockControls extends PointerLockControls{constructor(_0x2ccf30,_0x539073){const _0x1ef20e=_0x4c02;super(_0x2ccf30,_0x539073),this[_0x1ef20e(0x1bd)]=0.001;}[_0x2d30c4(0x2d3)](){return this['camera'];}[_0x2d30c4(0x308)](){const _0x1334f8=_0x2d30c4;super[_0x1334f8(0x308)](),this[_0x1334f8(0x1ec)][_0x1334f8(0x270)][_0x1334f8(0x2f6)](_0x1334f8(0x213),this[_0x1334f8(0x281)][_0x1334f8(0x1aa)](this));}['unlock'](){const _0x57099f=_0x2d30c4;super['unlock'](),this['domElement'][_0x57099f(0x270)]['removeEventListener'](_0x57099f(0x213),this[_0x57099f(0x281)][_0x57099f(0x1aa)](this));}[_0x2d30c4(0x281)](_0x5d3036){const _0x1a035a=_0x2d30c4;if(this[_0x1a035a(0x2c5)]===!![]){const _0x566c85=_0x5d3036[_0x1a035a(0x277)]*this[_0x1a035a(0x1bd)],_0x4a0b8a=_0x5d3036['movementY']*this[_0x1a035a(0x1bd)],_0x26007c=new _0x1cf020[(_0x1a035a(0x2ef))](0x0,0x0,0x0,_0x1a035a(0x282));_0x26007c[_0x1a035a(0x1af)](this[_0x1a035a(0x137)][_0x1a035a(0x324)]),_0x26007c['y']-=_0x566c85,_0x26007c['x']-=_0x4a0b8a,_0x26007c['x']=Math['max'](-Math['PI']/0x2,Math[_0x1a035a(0x287)](Math['PI']/0x2,_0x26007c['x'])),this[_0x1a035a(0x137)][_0x1a035a(0x324)][_0x1a035a(0x237)](_0x26007c);}}[_0x2d30c4(0x28e)](_0x21a5fa){const _0x5e00da=_0x2d30c4;this[_0x5e00da(0x1bd)]=_0x21a5fa;}}class ThreeJSApp{constructor(){const _0x6dd27e=_0x2d30c4;this[_0x6dd27e(0x26d)]=new _0x1cf020['Scene'](),this[_0x6dd27e(0x137)]=new _0x1cf020[(_0x6dd27e(0x1f8))](0x4b,window[_0x6dd27e(0x14b)]/window[_0x6dd27e(0x18b)],0.1,0x3e8),this[_0x6dd27e(0x202)]=[{'position':new _0x1cf020['Vector3'](0x0,1.6,0xa),'lookAt':new _0x1cf020['Vector3'](0x0,1.6,0x0)}];const _0x4dc61a=this[_0x6dd27e(0x202)][0x0];this[_0x6dd27e(0x137)][_0x6dd27e(0x193)]['copy'](_0x4dc61a[_0x6dd27e(0x193)]),this['camera'][_0x6dd27e(0x2be)](_0x4dc61a[_0x6dd27e(0x2be)]),this['renderer']=new _0x1cf020[(_0x6dd27e(0x2c1))]({'alpha':![],'antialias':!![],'preserveDrawingBuffer':!![]}),this['renderer'][_0x6dd27e(0x2de)](0x0,0x1),this[_0x6dd27e(0x231)][_0x6dd27e(0x304)][_0x6dd27e(0x204)]=!![],this[_0x6dd27e(0x231)][_0x6dd27e(0x304)][_0x6dd27e(0x18e)]=_0x1cf020['PCFSoftShadowMap'],this['renderer'][_0x6dd27e(0x246)](window[_0x6dd27e(0x1c5)]),this[_0x6dd27e(0x231)][_0x6dd27e(0x1e4)](window[_0x6dd27e(0x14b)],window['innerHeight']),document[_0x6dd27e(0x2fe)][_0x6dd27e(0x302)](this['renderer'][_0x6dd27e(0x1ec)]),this[_0x6dd27e(0x247)]=![],this[_0x6dd27e(0x1f3)]=0x0,this[_0x6dd27e(0x12e)]=[],this[_0x6dd27e(0x29b)]=![],this['pendingFiles']=[],this['metadata']=[],this[_0x6dd27e(0x200)]=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i[_0x6dd27e(0x2d5)](navigator[_0x6dd27e(0x30b)])||_0x6dd27e(0x17b)in window,this[_0x6dd27e(0x200)]?(this[_0x6dd27e(0x2e5)]=new OrbitControls(this['camera'],this[_0x6dd27e(0x231)][_0x6dd27e(0x1ec)]),this[_0x6dd27e(0x2e5)]['target'][_0x6dd27e(0x2ed)](_0x4dc61a[_0x6dd27e(0x2be)]),this['controls']['enableDamping']=!![],this['controls']['dampingFactor']=0.05,this[_0x6dd27e(0x2e5)][_0x6dd27e(0x321)]=0x1,this['controls'][_0x6dd27e(0x1f0)]=0x14,this[_0x6dd27e(0x2e5)]['enablePan']=!![],this[_0x6dd27e(0x2e5)][_0x6dd27e(0x1d2)]=!![]):(this[_0x6dd27e(0x2e5)]=new CustomPointerLockControls(this['camera'],this['renderer']['domElement']),this[_0x6dd27e(0x2e5)][_0x6dd27e(0x2d3)]()[_0x6dd27e(0x193)][_0x6dd27e(0x2ed)](_0x4dc61a[_0x6dd27e(0x193)])),this[_0x6dd27e(0x17d)]=[],this[_0x6dd27e(0x269)]=localStorage['getItem'](_0x6dd27e(0x269)),this[_0x6dd27e(0x131)]=new _0x1cf020['TextureLoader'](),this[_0x6dd27e(0x286)]=new _0x1cf020[(_0x6dd27e(0x2ea))](),this[_0x6dd27e(0x137)][_0x6dd27e(0x144)](this['audioListener']),this[_0x6dd27e(0x26c)]=new _0x1cf020[(_0x6dd27e(0x168))](this[_0x6dd27e(0x286)]),this[_0x6dd27e(0x21a)]=new _0x1cf020[(_0x6dd27e(0x168))](this[_0x6dd27e(0x286)]),this[_0x6dd27e(0x181)]=new _0x1cf020['Raycaster'](),this[_0x6dd27e(0x2cd)]=new _0x1cf020['Vector2'](),this['selectedMesh']=null,this[_0x6dd27e(0x298)]=[],this[_0x6dd27e(0x2dd)]=0x0,this[_0x6dd27e(0x165)]=![],this[_0x6dd27e(0x2ba)]=![],this['isLocked']=![],this['previousCameraState']={'position':this[_0x6dd27e(0x137)][_0x6dd27e(0x193)][_0x6dd27e(0x1a4)](),'rotation':this['camera']['rotation'][_0x6dd27e(0x1a4)](),'target':_0x4dc61a['lookAt'][_0x6dd27e(0x1a4)]()},this[_0x6dd27e(0x2f9)]=0x0,this[_0x6dd27e(0x23b)]=0x12c,this[_0x6dd27e(0x1c2)]=0.15,this[_0x6dd27e(0x175)]=0.05,this['keys']={'w':![],'a':![],'s':![],'d':![],'q':![],'e':![]},this[_0x6dd27e(0x208)]=0x0,this[_0x6dd27e(0x29f)]=[],this['glassSpotlights']=[],this[_0x6dd27e(0x24b)]=[],this[_0x6dd27e(0x263)]=null,this[_0x6dd27e(0x2d7)]=![],this[_0x6dd27e(0x2a7)]=[],this[_0x6dd27e(0x1c7)]=null,this[_0x6dd27e(0x155)]=0.5,this['isAutoRotating']=![],this[_0x6dd27e(0x22e)]=document[_0x6dd27e(0x2af)](_0x6dd27e(0x22e)),this[_0x6dd27e(0x22f)]=new _0x1cf020[(_0x6dd27e(0x2fd))](this[_0x6dd27e(0x26d)]),this[_0x6dd27e(0x1a3)]=![],this['animationSpeed']=0x1,this['addLighting'](),this[_0x6dd27e(0x18f)](),this[_0x6dd27e(0x143)](),this[_0x6dd27e(0x15e)](),this[_0x6dd27e(0x292)]();}[_0x2d30c4(0x240)](){const _0x5b63bb=_0x2d30c4,_0x5128d7=new _0x1cf020['AmbientLight'](0xffffff,0.5);this['scene']['add'](_0x5128d7);const _0x221819=new _0x1cf020['DirectionalLight'](0xffffff,0.8);_0x221819[_0x5b63bb(0x193)][_0x5b63bb(0x1ac)](0x0,0x14,0x14),_0x221819[_0x5b63bb(0x177)]=!![],_0x221819[_0x5b63bb(0x1bc)][_0x5b63bb(0x2e4)][_0x5b63bb(0x1dc)]=0x800,_0x221819['shadow'][_0x5b63bb(0x2e4)][_0x5b63bb(0x328)]=0x800,_0x221819[_0x5b63bb(0x1bc)][_0x5b63bb(0x137)][_0x5b63bb(0x238)]=0.5,_0x221819[_0x5b63bb(0x1bc)]['camera'][_0x5b63bb(0x323)]=0x64,this[_0x5b63bb(0x26d)]['add'](_0x221819);}['createGallery'](){const _0x4c09c6=_0x2d30c4,_0x5b2f4c=new _0x1cf020[(_0x4c09c6(0x22d))](),_0x1179c7=new _0x1cf020[(_0x4c09c6(0x305))]({'color':0xf0e8e0,'roughness':0.3,'metalness':0.1}),_0x503e5a=new _0x1cf020[(_0x4c09c6(0x19d))](this['generateNoiseCanvas'](0x100,0x100));_0x503e5a['needsUpdate']=!![],_0x503e5a[_0x4c09c6(0x1e0)]=_0x503e5a['wrapT']=_0x1cf020[_0x4c09c6(0x264)],_0x503e5a[_0x4c09c6(0x317)][_0x4c09c6(0x1ac)](0x10,0x10),_0x1179c7['map']=_0x503e5a;const _0xa947c2=new _0x1cf020['MeshStandardMaterial']({'color':0xe0e0e0,'roughness':0.3,'metalness':0.2}),_0x39735d=new _0x1cf020[(_0x4c09c6(0x271))]({'color':0x90a4ae,'transparent':!![],'opacity':0.5,'roughness':0.1,'metalness':0.4,'transmission':0.9,'clearcoat':0.5}),_0x49fbf4=new _0x1cf020[(_0x4c09c6(0x305))]({'color':0x212121,'roughness':0.3,'metalness':0.8}),_0x29e208=new _0x1cf020[(_0x4c09c6(0x305))]({'color':0xffffff,'roughness':0.3,'metalness':0x0}),_0x3a9526=new _0x1cf020[(_0x4c09c6(0x305))]({'color':0x424242,'roughness':0.4,'metalness':0.3}),_0x548645=new _0x1cf020[(_0x4c09c6(0x19d))](this['generateModernWallTexture'](0x100,0x100));_0x548645[_0x4c09c6(0x150)]=!![],_0x548645[_0x4c09c6(0x1e0)]=_0x548645[_0x4c09c6(0x284)]=_0x1cf020['RepeatWrapping'],_0x548645[_0x4c09c6(0x317)][_0x4c09c6(0x1ac)](0x4,0x4),_0x3a9526[_0x4c09c6(0x23f)]=_0x548645,_0x3a9526[_0x4c09c6(0x1da)][_0x4c09c6(0x1ac)](0.3,0.3),this[_0x4c09c6(0x263)]=new _0x1cf020[(_0x4c09c6(0x305))]({'color':0xe0e0e0,'emissive':0xe0e0e0,'emissiveIntensity':1.2,'roughness':0.2,'metalness':0.5});const _0x375236=new _0x1cf020['Group'](),_0x18138c=0x14,_0x589a91=0xc,_0x582f2d=new _0x1cf020['Mesh'](new _0x1cf020[(_0x4c09c6(0x2e3))](_0x18138c,0x40),_0x1179c7);_0x582f2d[_0x4c09c6(0x159)]['x']=-Math['PI']/0x2,_0x582f2d['position']['y']=0x0,_0x582f2d['receiveShadow']=!![],_0x375236[_0x4c09c6(0x144)](_0x582f2d);const _0x559cea=new _0x1cf020[(_0x4c09c6(0x1e7))](),_0xe8c6a0=0x2,_0x366fca=0.2,_0x3c1273=new _0x1cf020['CylinderGeometry'](_0xe8c6a0,_0xe8c6a0,_0x366fca,0x6);for(let _0x45583e=-0x4;_0x45583e<=0x4;_0x45583e++){for(let _0x4b9035=-0x4;_0x4b9035<=0x4;_0x4b9035++){const _0x1d1b99=new _0x1cf020[(_0x4c09c6(0x280))](_0x3c1273,_0xa947c2),_0x41e812=_0x4b9035*_0xe8c6a0*1.8+(_0x45583e%0x2===0x0?0x0:_0xe8c6a0*0.9),_0xcc8bad=_0x45583e*_0xe8c6a0*1.5;Math['sqrt'](_0x41e812*_0x41e812+_0xcc8bad*_0xcc8bad)<_0x18138c-0x2&&(_0x1d1b99[_0x4c09c6(0x193)][_0x4c09c6(0x1ac)](_0x41e812,_0x589a91-_0x366fca/0x2,_0xcc8bad),_0x1d1b99[_0x4c09c6(0x159)]['x']=Math['PI']/0x2,_0x1d1b99['receiveShadow']=!![],_0x559cea[_0x4c09c6(0x144)](_0x1d1b99));}}_0x375236[_0x4c09c6(0x144)](_0x559cea),this['ceilingLights']=[];for(let _0x300ed4=0x0;_0x300ed4<0x6;_0x300ed4++){const _0x2d227d=_0x300ed4/0x6*Math['PI']*0x2,_0x10e4b8=new _0x1cf020[(_0x4c09c6(0x201))](0.2,0.2,0.05,0x20),_0x37ec7a=new _0x1cf020['Mesh'](_0x10e4b8,this[_0x4c09c6(0x263)]);_0x37ec7a[_0x4c09c6(0x193)][_0x4c09c6(0x1ac)](Math['cos'](_0x2d227d)*(_0x18138c-0x4),_0x589a91-0.025,Math[_0x4c09c6(0x183)](_0x2d227d)*(_0x18138c-0x4)),_0x37ec7a[_0x4c09c6(0x159)]['x']=Math['PI']/0x2,_0x375236[_0x4c09c6(0x144)](_0x37ec7a);const _0x1325f1=new _0x1cf020['SpotLight'](0xffffff,1.5,0xf,Math['PI']/0x6,0.5);_0x1325f1[_0x4c09c6(0x193)]['set'](Math[_0x4c09c6(0x1ae)](_0x2d227d)*(_0x18138c-0x4),_0x589a91-0.1,Math[_0x4c09c6(0x183)](_0x2d227d)*(_0x18138c-0x4)),_0x1325f1[_0x4c09c6(0x30f)]['position'][_0x4c09c6(0x1ac)](Math['cos'](_0x2d227d)*(_0x18138c-0x4),0x0,Math[_0x4c09c6(0x183)](_0x2d227d)*(_0x18138c-0x4)),_0x1325f1['castShadow']=!![],_0x375236[_0x4c09c6(0x144)](_0x1325f1),_0x375236[_0x4c09c6(0x144)](_0x1325f1['target']),this[_0x4c09c6(0x24b)][_0x4c09c6(0x17a)]({'mesh':_0x37ec7a,'spot':_0x1325f1});}this[_0x4c09c6(0x2ff)]=[];const _0x32ceaa=0xc;for(let _0x2c5820=0x0;_0x2c5820<_0x32ceaa;_0x2c5820++){const _0x3ce89c=_0x2c5820/_0x32ceaa*Math['PI']*0x2,_0x4e46f9=Math['PI']*0x2*_0x18138c/_0x32ceaa,_0x3d4dc4=new _0x1cf020[(_0x4c09c6(0x2bc))]();_0x3d4dc4[_0x4c09c6(0x1d4)](-_0x4e46f9/0x2,0x0),_0x3d4dc4['lineTo'](_0x4e46f9/0x2,0x0),_0x3d4dc4['lineTo'](_0x4e46f9/0x2-0.5,_0x589a91-1.5),_0x3d4dc4[_0x4c09c6(0x28c)](-_0x4e46f9/0x2+0.5,_0x589a91-1.5),_0x3d4dc4[_0x4c09c6(0x28c)](-_0x4e46f9/0x2,0x0);const _0x27e2d1=new _0x1cf020['ExtrudeGeometry'](_0x3d4dc4,{'depth':0.1,'bevelEnabled':![]}),_0x59413b=new _0x1cf020[(_0x4c09c6(0x280))](_0x27e2d1,_0x39735d);_0x59413b[_0x4c09c6(0x193)]['set'](Math[_0x4c09c6(0x1ae)](_0x3ce89c)*_0x18138c,0x0,Math[_0x4c09c6(0x183)](_0x3ce89c)*_0x18138c),_0x59413b['rotation']['y']=_0x3ce89c+Math['PI']/0x2,_0x59413b[_0x4c09c6(0x177)]=!![],_0x59413b[_0x4c09c6(0x1b4)]=!![],_0x59413b[_0x4c09c6(0x1ea)]={'baseIntensity':0.8},_0x375236[_0x4c09c6(0x144)](_0x59413b);const _0x6dc0d=new _0x1cf020[(_0x4c09c6(0x1e6))](_0x4e46f9*0.95,0.2,0.2),_0x3d32a5=new _0x1cf020[(_0x4c09c6(0x280))](_0x6dc0d,_0x49fbf4);_0x3d32a5['position'][_0x4c09c6(0x1ac)](Math[_0x4c09c6(0x1ae)](_0x3ce89c)*_0x18138c,_0x589a91-0.1,Math[_0x4c09c6(0x183)](_0x3ce89c)*_0x18138c),_0x3d32a5[_0x4c09c6(0x159)]['y']=_0x3ce89c+Math['PI']/0x2,_0x3d32a5[_0x4c09c6(0x159)]['z']=Math['PI']/0xc,_0x3d32a5[_0x4c09c6(0x177)]=!![],_0x375236[_0x4c09c6(0x144)](_0x3d32a5);const _0x7d591f=new _0x1cf020[(_0x4c09c6(0x1e6))](0.15,_0x589a91-1.5,0.15),_0x14d15b=new _0x1cf020[(_0x4c09c6(0x280))](_0x7d591f,_0x49fbf4);_0x14d15b[_0x4c09c6(0x193)][_0x4c09c6(0x1ac)](Math[_0x4c09c6(0x1ae)](_0x3ce89c)*_0x18138c-Math['sin'](_0x3ce89c)*(_0x4e46f9/0x2-0.1),(_0x589a91-1.5)/0x2,Math[_0x4c09c6(0x183)](_0x3ce89c)*_0x18138c+Math[_0x4c09c6(0x1ae)](_0x3ce89c)*(_0x4e46f9/0x2-0.1)),_0x14d15b['rotation']['y']=_0x3ce89c+Math['PI']/0x2,_0x14d15b['castShadow']=!![],_0x375236[_0x4c09c6(0x144)](_0x14d15b);const _0x12c770=new _0x1cf020[(_0x4c09c6(0x280))](_0x7d591f,_0x49fbf4);_0x12c770[_0x4c09c6(0x193)]['set'](Math['cos'](_0x3ce89c)*_0x18138c+Math['sin'](_0x3ce89c)*(_0x4e46f9/0x2-0.1),(_0x589a91-1.5)/0x2,Math[_0x4c09c6(0x183)](_0x3ce89c)*_0x18138c-Math[_0x4c09c6(0x1ae)](_0x3ce89c)*(_0x4e46f9/0x2-0.1)),_0x12c770['rotation']['y']=_0x3ce89c+Math['PI']/0x2,_0x12c770['castShadow']=!![],_0x375236[_0x4c09c6(0x144)](_0x12c770);const _0xa9d806=new _0x1cf020[(_0x4c09c6(0x201))](0.1,0.1,0.3,0x20),_0x3c6f8d=new _0x1cf020[(_0x4c09c6(0x280))](_0xa9d806,this[_0x4c09c6(0x263)]);_0x3c6f8d[_0x4c09c6(0x193)][_0x4c09c6(0x1ac)](Math[_0x4c09c6(0x1ae)](_0x3ce89c)*_0x18138c,_0x589a91-0.4,Math[_0x4c09c6(0x183)](_0x3ce89c)*_0x18138c),_0x3c6f8d['rotation']['y']=_0x3ce89c+Math['PI']/0x2,_0x3c6f8d[_0x4c09c6(0x159)]['x']=-Math['PI']/0x4,_0x375236[_0x4c09c6(0x144)](_0x3c6f8d);const _0x3a70e1=new _0x1cf020[(_0x4c09c6(0x186))](0xffffff,0.8,0xa,Math['PI']/0x8,0.7);_0x3a70e1[_0x4c09c6(0x193)][_0x4c09c6(0x2ed)](_0x3c6f8d['position']),_0x3a70e1[_0x4c09c6(0x30f)][_0x4c09c6(0x193)]['set'](Math['cos'](_0x3ce89c)*_0x18138c,(_0x589a91-1.5)/0x2,Math[_0x4c09c6(0x183)](_0x3ce89c)*_0x18138c),_0x3a70e1[_0x4c09c6(0x177)]=!![],_0x375236[_0x4c09c6(0x144)](_0x3a70e1),_0x375236[_0x4c09c6(0x144)](_0x3a70e1[_0x4c09c6(0x30f)]),this[_0x4c09c6(0x2ff)]['push']({'mesh':_0x3c6f8d,'spot':_0x3a70e1,'position':_0x3a70e1['position'][_0x4c09c6(0x1a4)]()});}this[_0x4c09c6(0x29f)]=[];const _0x47f234=0x8,_0x155d44=0x4;for(let _0xdb2a17=0x0;_0xdb2a17<0x4;_0xdb2a17++){const _0x593f01=_0xdb2a17/0x4*Math['PI']*0x2+Math['PI']/0x8,_0x359773=new _0x1cf020[(_0x4c09c6(0x1e7))](),_0x2adc91=new _0x1cf020[(_0x4c09c6(0x1d7))](_0x155d44,_0x47f234),_0x5919d8=new _0x1cf020[(_0x4c09c6(0x280))](_0x2adc91,_0x3a9526);_0x5919d8[_0x4c09c6(0x193)][_0x4c09c6(0x1ac)](0x0,_0x47f234/0x2,0x0),_0x5919d8[_0x4c09c6(0x177)]=!![],_0x5919d8[_0x4c09c6(0x1b4)]=!![],_0x359773['add'](_0x5919d8);const _0x209fea=0.4,_0x5866f4=0.35,_0x18886c=new _0x1cf020[(_0x4c09c6(0x201))](_0x209fea,_0x209fea,_0x5866f4,0x6);for(let _0x3b8611=0x0;_0x3b8611<0x6;_0x3b8611++){for(let _0x351c16=0x0;_0x351c16<0x5;_0x351c16++){const _0x549177=new _0x1cf020[(_0x4c09c6(0x280))](_0x18886c,_0x3a9526),_0x195206=(_0x351c16-0x2)*_0x209fea*1.5+(_0x3b8611%0x2===0x0?0x0:_0x209fea*0.75),_0x5eae0b=(_0x3b8611-2.5)*_0x209fea*1.3;_0x549177['position'][_0x4c09c6(0x1ac)](_0x195206,_0x5eae0b+_0x47f234/0x2,_0x5866f4/0x2),_0x549177[_0x4c09c6(0x159)]['x']=Math['PI']/0x2,_0x549177[_0x4c09c6(0x177)]=!![],_0x549177[_0x4c09c6(0x1b4)]=!![],_0x359773[_0x4c09c6(0x144)](_0x549177);}}const _0x3e1624=new _0x1cf020['BoxGeometry'](0.1,_0x47f234*0.85,0.1),_0x2c9c01=new _0x1cf020[(_0x4c09c6(0x280))](_0x3e1624,this['ledMaterial']);_0x2c9c01[_0x4c09c6(0x193)]['set'](-_0x155d44/0x2+0.2,_0x47f234/0x2,_0x5866f4+0.05),_0x359773[_0x4c09c6(0x144)](_0x2c9c01);const _0x382f55=new _0x1cf020['Mesh'](_0x3e1624,this[_0x4c09c6(0x263)]);_0x382f55[_0x4c09c6(0x193)][_0x4c09c6(0x1ac)](_0x155d44/0x2-0.2,_0x47f234/0x2,_0x5866f4+0.05),_0x359773[_0x4c09c6(0x144)](_0x382f55),this[_0x4c09c6(0x29f)][_0x4c09c6(0x17a)]({'left':_0x2c9c01,'right':_0x382f55,'position':_0x359773['position'][_0x4c09c6(0x1a4)]()}),_0x359773[_0x4c09c6(0x193)]['set'](Math[_0x4c09c6(0x1ae)](_0x593f01)*(_0x18138c-0x2),0x0,Math[_0x4c09c6(0x183)](_0x593f01)*(_0x18138c-0x2)),_0x359773['rotation']['y']=_0x593f01+Math['PI']/0x2,_0x375236[_0x4c09c6(0x144)](_0x359773);}const _0x1dd5d1=new _0x1cf020[(_0x4c09c6(0x201))](0x1,0x1,_0x589a91,0x20),_0x446f06=new _0x1cf020['Mesh'](_0x1dd5d1,_0x29e208);_0x446f06['position'][_0x4c09c6(0x1ac)](0x0,_0x589a91/0x2,0x0),_0x446f06[_0x4c09c6(0x177)]=!![],_0x446f06[_0x4c09c6(0x1b4)]=!![],_0x375236[_0x4c09c6(0x144)](_0x446f06);const _0x198a6c=new _0x1cf020['CylinderGeometry'](0.3,0.3,0.7,0x20),_0x4d1af0=new _0x1cf020[(_0x4c09c6(0x305))]({'color':0x616161}),_0x5ba44f=new _0x1cf020[(_0x4c09c6(0x280))](_0x198a6c,_0x4d1af0);_0x5ba44f[_0x4c09c6(0x193)]['set'](0x0,0.85,-0xa),_0x375236[_0x4c09c6(0x144)](_0x5ba44f),_0x375236[_0x4c09c6(0x193)][_0x4c09c6(0x1ac)](0x0,0x0,0x0),this[_0x4c09c6(0x298)]['push'](_0x375236),this[_0x4c09c6(0x298)][_0x4c09c6(0x273)](_0x2db645=>this[_0x4c09c6(0x26d)][_0x4c09c6(0x144)](_0x2db645));}[_0x2d30c4(0x329)](_0xaee08b,_0x7c2f4a){const _0x31afee=_0x2d30c4,_0x21b074=document['createElement'](_0x31afee(0x2d8));_0x21b074['width']=_0xaee08b,_0x21b074[_0x31afee(0x328)]=_0x7c2f4a;const _0x1dd455=_0x21b074[_0x31afee(0x1f5)]('2d'),_0x74baa8=_0x1dd455[_0x31afee(0x2dc)](_0xaee08b,_0x7c2f4a);for(let _0x51fb8b=0x0;_0x51fb8b<_0xaee08b;_0x51fb8b++){for(let _0x5e0677=0x0;_0x5e0677<_0x7c2f4a;_0x5e0677++){const _0x2369b0=(_0x5e0677*_0xaee08b+_0x51fb8b)*0x4,_0xbed84b=Math[_0x31afee(0x183)](_0x51fb8b*0.05+_0x5e0677*0.05)*0.5+0.5;_0x74baa8[_0x31afee(0x2b7)][_0x2369b0]=_0xbed84b*0xff,_0x74baa8[_0x31afee(0x2b7)][_0x2369b0+0x1]=_0xbed84b*0xff,_0x74baa8[_0x31afee(0x2b7)][_0x2369b0+0x2]=0xff,_0x74baa8[_0x31afee(0x2b7)][_0x2369b0+0x3]=0xff;}}return _0x1dd455[_0x31afee(0x166)](_0x74baa8,0x0,0x0),_0x21b074;}[_0x2d30c4(0x14e)](_0x2a7963,_0x5ece63){const _0x35bb94=_0x2d30c4,_0x497c9f=document[_0x35bb94(0x1c3)](_0x35bb94(0x2d8));_0x497c9f[_0x35bb94(0x1dc)]=_0x2a7963,_0x497c9f[_0x35bb94(0x328)]=_0x5ece63;const _0x56c21d=_0x497c9f[_0x35bb94(0x1f5)]('2d'),_0x1dd215=_0x56c21d['createImageData'](_0x2a7963,_0x5ece63);for(let _0x4fe590=0x0;_0x4fe590<_0x1dd215['data'][_0x35bb94(0x24d)];_0x4fe590+=0x4){const _0x5ed75b=Math['random']()*0.1+0.9;_0x1dd215[_0x35bb94(0x2b7)][_0x4fe590]=0x88*_0x5ed75b,_0x1dd215[_0x35bb94(0x2b7)][_0x4fe590+0x1]=0x88*_0x5ed75b,_0x1dd215[_0x35bb94(0x2b7)][_0x4fe590+0x2]=0x88*_0x5ed75b,_0x1dd215['data'][_0x4fe590+0x3]=0xff;}return _0x56c21d['putImageData'](_0x1dd215,0x0,0x0),_0x497c9f;}['createAvatar'](){const _0x2b7477=_0x2d30c4;this[_0x2b7477(0x16d)]=new _0x1cf020[(_0x2b7477(0x1e7))]();const _0x465040=new _0x1cf020[(_0x2b7477(0x18d))]({'color':0xffffff,'transparent':!![],'opacity':0.3}),_0x55f24c=new _0x1cf020[(_0x2b7477(0x280))](new _0x1cf020[(_0x2b7477(0x1d7))](0.5,0.5),new _0x1cf020['MeshBasicMaterial']({'color':0xff00,'transparent':!![],'opacity':0x0}));_0x55f24c[_0x2b7477(0x193)]['set'](0x2,1.7,0x2),this['avatarGroup'][_0x2b7477(0x144)](_0x55f24c);const _0x32f9d6=new _0x1cf020[(_0x2b7477(0x280))](new _0x1cf020[(_0x2b7477(0x201))](0.3,0.3,0x1,0x20),_0x465040);_0x32f9d6[_0x2b7477(0x193)]['set'](0x2,0.5,0x2),this[_0x2b7477(0x16d)][_0x2b7477(0x144)](_0x32f9d6);const _0x455df1=new _0x1cf020['Mesh'](new _0x1cf020[(_0x2b7477(0x2a0))](0.2,0x20,0x20),_0x465040);_0x455df1[_0x2b7477(0x193)][_0x2b7477(0x1ac)](0x2,1.2,0x2),this[_0x2b7477(0x16d)]['add'](_0x455df1);const _0x3e7138=new _0x1cf020[(_0x2b7477(0x201))](0.1,0.1,0.5,0x20),_0x3a1f5c=new _0x1cf020[(_0x2b7477(0x280))](_0x3e7138,_0x465040);_0x3a1f5c[_0x2b7477(0x193)][_0x2b7477(0x1ac)](1.7,0.7,0x2),_0x3a1f5c[_0x2b7477(0x159)]['z']=Math['PI']/0x4,this[_0x2b7477(0x16d)]['add'](_0x3a1f5c);const _0x833cd8=new _0x1cf020[(_0x2b7477(0x280))](_0x3e7138,_0x465040);_0x833cd8[_0x2b7477(0x193)][_0x2b7477(0x1ac)](2.3,0.7,0x2),_0x833cd8[_0x2b7477(0x159)]['z']=-Math['PI']/0x4,this[_0x2b7477(0x16d)][_0x2b7477(0x144)](_0x833cd8);const _0x98bcc1=new _0x1cf020[(_0x2b7477(0x201))](0.1,0.1,0.5,0x20),_0x2a7b68=new _0x1cf020[(_0x2b7477(0x280))](_0x98bcc1,_0x465040);_0x2a7b68[_0x2b7477(0x193)][_0x2b7477(0x1ac)](1.8,0.25,0x2),this[_0x2b7477(0x16d)][_0x2b7477(0x144)](_0x2a7b68);const _0x2e62c0=new _0x1cf020[(_0x2b7477(0x280))](_0x98bcc1,_0x465040);_0x2e62c0[_0x2b7477(0x193)]['set'](2.2,0.25,0x2),this[_0x2b7477(0x16d)][_0x2b7477(0x144)](_0x2e62c0),this[_0x2b7477(0x16d)][_0x2b7477(0x1ea)]={'isAvatar':!![]},this[_0x2b7477(0x26d)][_0x2b7477(0x144)](this[_0x2b7477(0x16d)]),this['setupAvatarAnimation'](),this[_0x2b7477(0x297)]();}[_0x2d30c4(0x17f)](){const _0x58c132=_0x2d30c4,_0x50d10b=[0x0,0x1,0x2],_0xf55e4d=[[Math['PI']/0x4,-Math['PI']/0x4],[-Math['PI']/0x4,Math['PI']/0x4],[Math['PI']/0x4,-Math['PI']/0x4]],_0x31bf2e=new _0x1cf020['NumberKeyframeTrack'](_0x58c132(0x218),_0x50d10b,_0xf55e4d[_0x58c132(0x163)](_0x4a7b0b=>_0x4a7b0b[0x0])),_0x5c68bc=new _0x1cf020[(_0x58c132(0x2fb))](_0x58c132(0x290),_0x50d10b,_0xf55e4d[_0x58c132(0x163)](_0x5451a5=>_0x5451a5[0x1])),_0x5df03f=new _0x1cf020[(_0x58c132(0x196))](_0x58c132(0x1c4),0x2,[_0x31bf2e,_0x5c68bc]),_0x32f450=this[_0x58c132(0x22f)][_0x58c132(0x285)](_0x5df03f,this[_0x58c132(0x16d)]);_0x32f450[_0x58c132(0x16b)](_0x1cf020[_0x58c132(0x199)]),_0x32f450['play']();}['updateAvatarPosition'](){const _0x26eef3=_0x2d30c4;if(this[_0x26eef3(0x200)]){const _0x4ebfa1=this[_0x26eef3(0x298)][this[_0x26eef3(0x2dd)]][_0x26eef3(0x193)][_0x26eef3(0x1a4)]();this['avatarGroup']['position']['copy'](_0x4ebfa1),this['avatarGroup'][_0x26eef3(0x193)]['y']=0.5;}else{const _0xaeabed=new _0x1cf020[(_0x26eef3(0x2b6))]();this['camera'][_0x26eef3(0x2a4)](_0xaeabed),_0xaeabed['y']=0x0,_0xaeabed[_0x26eef3(0x203)]()[_0x26eef3(0x312)](0x3),this[_0x26eef3(0x16d)][_0x26eef3(0x193)][_0x26eef3(0x2ed)](this[_0x26eef3(0x137)][_0x26eef3(0x193)])[_0x26eef3(0x144)](_0xaeabed),this[_0x26eef3(0x16d)][_0x26eef3(0x193)]['y']=0.5;}}async[_0x2d30c4(0x143)](){const _0x52dec8=_0x2d30c4;try{const _0x475844=await this['loadAudio'](_0x52dec8(0x151));this[_0x52dec8(0x26c)]['setBuffer'](_0x475844),this[_0x52dec8(0x26c)][_0x52dec8(0x16b)](!![]),this[_0x52dec8(0x26c)][_0x52dec8(0x239)](0.2),this[_0x52dec8(0x26c)][_0x52dec8(0x2a5)]();const _0x225db2=await this['loadAudio'](_0x52dec8(0x151));this[_0x52dec8(0x21a)]['setBuffer'](_0x225db2),this['clickSound'][_0x52dec8(0x239)](0.5);}catch(_0x520ed0){console[_0x52dec8(0x146)](_0x52dec8(0x20d),_0x520ed0);}}[_0x2d30c4(0x1fa)](_0x3dbb77){return new Promise((_0x12817c,_0x424436)=>{const _0x59419c=_0x4c02,_0x4ecb89=new _0x1cf020['AudioLoader']();_0x4ecb89[_0x59419c(0x19c)](_0x3dbb77,_0x474952=>_0x12817c(_0x474952),undefined,_0x8b1a29=>_0x424436(_0x8b1a29));});}[_0x2d30c4(0x1a8)](){const _0x159b6e=_0x2d30c4;console[_0x159b6e(0x174)](_0x159b6e(0x162));if(this[_0x159b6e(0x269)])this[_0x159b6e(0x1b3)](this[_0x159b6e(0x269)]);this[_0x159b6e(0x26f)](),window[_0x159b6e(0x2f6)]('resize',()=>this['handleResize']());}[_0x2d30c4(0x26f)](){const _0x5ec122=_0x2d30c4;requestAnimationFrame(()=>this[_0x5ec122(0x26f)]());const _0x2896d4=0.016;this[_0x5ec122(0x208)]+=_0x2896d4,this['update'](),this[_0x5ec122(0x19e)](),this[_0x5ec122(0x2a6)](),this[_0x5ec122(0x231)][_0x5ec122(0x30c)](this[_0x5ec122(0x26d)],this[_0x5ec122(0x137)]);if(this[_0x5ec122(0x200)])this[_0x5ec122(0x2e5)]['update']();this[_0x5ec122(0x297)]();if(this[_0x5ec122(0x2d7)]){}this[_0x5ec122(0x22f)][_0x5ec122(0x12d)](_0x2896d4*this[_0x5ec122(0x147)]),this[_0x5ec122(0x2e6)]();}[_0x2d30c4(0x2fa)](){const _0x52d7a3=_0x2d30c4;if(this[_0x52d7a3(0x2d7)])return;this[_0x52d7a3(0x2d7)]=!![],this[_0x52d7a3(0x2a7)]=[];const _0x4b6a60=this['renderer'][_0x52d7a3(0x1ec)][_0x52d7a3(0x1bb)](0x1e);this[_0x52d7a3(0x1c7)]=new MediaRecorder(_0x4b6a60,{'mimeType':_0x52d7a3(0x2df)}),this[_0x52d7a3(0x1c7)]['ondataavailable']=_0x391edf=>{const _0x304eec=_0x52d7a3;_0x391edf['data'][_0x304eec(0x16a)]>0x0&&this[_0x304eec(0x2a7)][_0x304eec(0x17a)](_0x391edf[_0x304eec(0x2b7)]);},this[_0x52d7a3(0x1c7)][_0x52d7a3(0x210)]=()=>{const _0x5b3eaa=_0x52d7a3;this[_0x5b3eaa(0x205)]();},this[_0x52d7a3(0x1c7)]['start'](),document[_0x52d7a3(0x2af)]('recordStatus')['classList'][_0x52d7a3(0x2f2)](_0x52d7a3(0x170)),console[_0x52d7a3(0x174)](_0x52d7a3(0x1df));}[_0x2d30c4(0x14a)](){const _0x17ced7=_0x2d30c4;if(!this[_0x17ced7(0x2d7)]||!this['mediaRecorder'])return;this[_0x17ced7(0x2d7)]=![],this[_0x17ced7(0x1c7)][_0x17ced7(0x12f)](),document['getElementById'](_0x17ced7(0x22b))['classList']['add'](_0x17ced7(0x170)),console[_0x17ced7(0x174)](_0x17ced7(0x31d));}['saveRecording'](){const _0x282f47=_0x2d30c4,_0x17d7eb=new Blob(this['recordedFrames'],{'type':_0x282f47(0x2df)}),_0x27c332=URL[_0x282f47(0x267)](_0x17d7eb),_0x522866=document[_0x282f47(0x1c3)]('a');_0x522866[_0x282f47(0x322)]=_0x27c332,_0x522866['download']='gallery_recording_'+new Date()[_0x282f47(0x29d)]()+_0x282f47(0x241),_0x522866[_0x282f47(0x220)](),URL['revokeObjectURL'](_0x27c332),this['recordedFrames']=[];}[_0x2d30c4(0x2ae)](){const _0x2f0892=_0x2d30c4;this[_0x2f0892(0x153)]=!this['isAutoRotating'];const _0x482025=document['getElementById'](_0x2f0892(0x268));_0x482025[_0x2f0892(0x198)]=this[_0x2f0892(0x153)]?_0x2f0892(0x320):_0x2f0892(0x31f),console[_0x2f0892(0x174)](this[_0x2f0892(0x153)]?_0x2f0892(0x19b):_0x2f0892(0x149));}[_0x2d30c4(0x140)](){const _0x233363=_0x2d30c4;this[_0x233363(0x1a3)]=!this['isAnimatingObjects'];const _0x2c53e4=document[_0x233363(0x2af)](_0x233363(0x23d));_0x2c53e4[_0x233363(0x198)]=this[_0x233363(0x1a3)]?_0x233363(0x152):_0x233363(0x1a5),console[_0x233363(0x174)](this[_0x233363(0x1a3)]?_0x233363(0x19a):'üé¨\x20Object\x20animation\x20disabled');}[_0x2d30c4(0x2cf)](){const _0x4c087e=_0x2d30c4;if(this[_0x4c087e(0x153)]&&!this[_0x4c087e(0x2ba)]){if(this['isMobile'])this[_0x4c087e(0x2e5)]['azimuthAngle']+=_0x1cf020[_0x4c087e(0x2ee)][_0x4c087e(0x16f)](this[_0x4c087e(0x155)]),this[_0x4c087e(0x2e5)][_0x4c087e(0x12d)]();else{if(this[_0x4c087e(0x2c5)]){const _0x2a559a=new _0x1cf020[(_0x4c087e(0x2ef))](0x0,0x0,0x0,'YXZ');_0x2a559a['setFromQuaternion'](this[_0x4c087e(0x137)][_0x4c087e(0x324)]),_0x2a559a['y']-=_0x1cf020['MathUtils'][_0x4c087e(0x16f)](this[_0x4c087e(0x155)]),this[_0x4c087e(0x137)][_0x4c087e(0x324)][_0x4c087e(0x237)](_0x2a559a);}}}}['updateObjectAnimations'](){const _0x26f884=_0x2d30c4;this[_0x26f884(0x1a3)]&&(this['images'][_0x26f884(0x273)](_0x5d00c1=>{const _0x440b23=_0x26f884;_0x5d00c1['mesh'][_0x440b23(0x159)]['y']+=0.02*this[_0x440b23(0x147)];}),this[_0x26f884(0x29f)][_0x26f884(0x273)](_0xbd0113=>{const _0x51e90e=_0x26f884;_0xbd0113['left'][_0x51e90e(0x159)]['y']+=0.03*this[_0x51e90e(0x147)],_0xbd0113[_0x51e90e(0x160)][_0x51e90e(0x159)]['y']+=0.03*this[_0x51e90e(0x147)];}),this[_0x26f884(0x2ff)][_0x26f884(0x273)](_0x3352d0=>{const _0x119e2e=_0x26f884;_0x3352d0[_0x119e2e(0x2a8)]['rotation']['y']+=0.01*this['animationSpeed'];}));}[_0x2d30c4(0x2a6)](){const _0x51f990=_0x2d30c4,_0x67145b=this[_0x51f990(0x208)]||0x0,_0x312198=(Math[_0x51f990(0x183)](_0x67145b*0.5)+0x1)/0x2,_0x5e504e=new _0x1cf020[(_0x51f990(0x2d6))]()[_0x51f990(0x1e1)](_0x312198,0.5,0.7);this[_0x51f990(0x263)]['emissive'][_0x51f990(0x2ed)](_0x5e504e),this[_0x51f990(0x263)][_0x51f990(0x2e1)][_0x51f990(0x2ed)](_0x5e504e),this['wallLights'][_0x51f990(0x273)](_0x5622c2=>{const _0x26c49c=_0x51f990,_0x15eb6f=this[_0x26c49c(0x137)]['position'][_0x26c49c(0x189)](_0x5622c2[_0x26c49c(0x193)]),_0x449d31=Math[_0x26c49c(0x325)](0.8,Math[_0x26c49c(0x287)](1.5,0x2-_0x15eb6f/0xa));_0x5622c2[_0x26c49c(0x259)][_0x26c49c(0x2ce)][_0x26c49c(0x2f8)]=_0x449d31,_0x5622c2['right'][_0x26c49c(0x2ce)]['emissiveIntensity']=_0x449d31;}),this[_0x51f990(0x2ff)][_0x51f990(0x273)](_0x3664ce=>{const _0x165709=_0x51f990,_0x26430c=this['camera'][_0x165709(0x193)][_0x165709(0x189)](_0x3664ce[_0x165709(0x193)]),_0x41481a=Math[_0x165709(0x325)](0.8,Math[_0x165709(0x287)](0x2,0x3-_0x26430c/0x6));_0x3664ce[_0x165709(0x254)][_0x165709(0x20c)]=_0x41481a,_0x3664ce[_0x165709(0x2a8)][_0x165709(0x2ce)][_0x165709(0x2f8)]=_0x41481a*0.8;});const _0x42dc94=1.5+Math['sin'](_0x67145b*0x2)*0.3;this['ceilingLights']['forEach'](_0x47e60c=>{const _0x40e843=_0x51f990;_0x47e60c[_0x40e843(0x254)][_0x40e843(0x20c)]=_0x42dc94,_0x47e60c['mesh'][_0x40e843(0x2ce)]['emissiveIntensity']=_0x42dc94*0.8;});}[_0x2d30c4(0x19e)](){const _0x22f775=_0x2d30c4;this[_0x22f775(0x17d)][_0x22f775(0x273)]((_0x1edfac,_0x3801d9)=>{const _0x577a3e=_0x22f775;if(_0x1edfac[_0x577a3e(0x2a8)][_0x577a3e(0x2ce)][_0x577a3e(0x190)]){_0x1edfac[_0x577a3e(0x2a8)][_0x577a3e(0x2ce)][_0x577a3e(0x190)][_0x577a3e(0x208)][_0x577a3e(0x260)]=this['time']+_0x3801d9;const _0x43bceb=_0x1edfac[_0x577a3e(0x2a8)][_0x577a3e(0x18c)]['children'][_0x577a3e(0x20b)](_0x1d58c6=>_0x1d58c6 instanceof _0x1cf020[_0x577a3e(0x186)]&&_0x1d58c6[_0x577a3e(0x30f)]===_0x1edfac[_0x577a3e(0x2a8)]);_0x43bceb&&(_0x43bceb[_0x577a3e(0x20c)]=0x2+Math[_0x577a3e(0x183)](this[_0x577a3e(0x208)]*0x2+_0x3801d9)*0.2);}});}[_0x2d30c4(0x15e)](){const _0x4fbbac=_0x2d30c4,_0x45ffce=document[_0x4fbbac(0x1c3)](_0x4fbbac(0x214));_0x45ffce['id']='tutorialOverlay';this[_0x4fbbac(0x200)]?(_0x45ffce['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Welcome\x20to\x20your\x203D\x20Gallery!<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20‚Ä¢\x20Swipe\x20to\x20look\x20around.<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20‚Ä¢\x20Pinch\x20to\x20zoom.<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20‚Ä¢\x20Tap\x20artwork\x20to\x20focus.<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20‚Ä¢\x20Tap\x20avatar\x20for\x20help!\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x45ffce[_0x4fbbac(0x2bf)]['display']=_0x4fbbac(0x307)):(_0x45ffce[_0x4fbbac(0x24c)]=_0x4fbbac(0x1cb),_0x45ffce[_0x4fbbac(0x256)]['step']=_0x4fbbac(0x1a2));document[_0x4fbbac(0x2fe)][_0x4fbbac(0x302)](_0x45ffce),this[_0x4fbbac(0x231)][_0x4fbbac(0x1ec)][_0x4fbbac(0x2f6)](this[_0x4fbbac(0x200)]?_0x4fbbac(0x1e9):_0x4fbbac(0x220),_0x5769c8=>this['onCanvasClick'](_0x5769c8));!this[_0x4fbbac(0x200)]?(document['addEventListener'](_0x4fbbac(0x283),_0x671319=>this[_0x4fbbac(0x2c7)](_0x671319)),document[_0x4fbbac(0x2f6)](_0x4fbbac(0x1b8),_0x914dab=>this[_0x4fbbac(0x28d)](_0x914dab)),this[_0x4fbbac(0x231)][_0x4fbbac(0x1ec)][_0x4fbbac(0x2f6)](_0x4fbbac(0x220),()=>{const _0x90fba5=_0x4fbbac;!this[_0x90fba5(0x2c5)]&&!this[_0x90fba5(0x2ba)]&&!this['isSliderActive']&&(this[_0x90fba5(0x2e5)][_0x90fba5(0x308)](),_0x45ffce[_0x90fba5(0x256)][_0x90fba5(0x27c)]==='start'&&this[_0x90fba5(0x1d1)]({'type':_0x90fba5(0x220)},_0x45ffce));}),document[_0x4fbbac(0x2f6)](_0x4fbbac(0x1e3),()=>{const _0x3dea06=_0x4fbbac;this[_0x3dea06(0x2c5)]=document[_0x3dea06(0x134)]===this[_0x3dea06(0x231)]['domElement'],console['log'](_0x3dea06(0x14c),this[_0x3dea06(0x2c5)]?_0x3dea06(0x1d5):'Unlocked');if(!this[_0x3dea06(0x2c5)])this[_0x3dea06(0x2ba)]=![];}),document[_0x4fbbac(0x2f6)](_0x4fbbac(0x28f),()=>{const _0x4e261c=_0x4fbbac;console[_0x4e261c(0x146)]('Pointer\x20Lock\x20failed');}),document[_0x4fbbac(0x2f6)](_0x4fbbac(0x220),_0x1d4a4d=>this[_0x4fbbac(0x1d1)](_0x1d4a4d,_0x45ffce)),document[_0x4fbbac(0x2f6)](_0x4fbbac(0x283),_0x68bc22=>this['updateTutorialOnAction'](_0x68bc22,_0x45ffce))):_0x45ffce[_0x4fbbac(0x2bf)][_0x4fbbac(0x26b)]='none';const _0x15a1c6=document[_0x4fbbac(0x2af)](_0x4fbbac(0x17e));_0x15a1c6?(_0x15a1c6[_0x4fbbac(0x2f6)](_0x4fbbac(0x220),()=>this['handleShare']()),console[_0x4fbbac(0x174)](_0x4fbbac(0x15a))):console['error']('‚ùå\x20Share\x20button\x20not\x20found\x20in\x20DOM');document['getElementById']('uploadForm')?.[_0x4fbbac(0x2f6)](_0x4fbbac(0x1a9),_0x506e93=>this[_0x4fbbac(0x13f)](_0x506e93)),document['getElementById'](_0x4fbbac(0x25e))?.[_0x4fbbac(0x2f6)](_0x4fbbac(0x15b),_0x52d2e0=>this[_0x4fbbac(0x219)](_0x52d2e0)),document['getElementById']('screenshotForm')?.[_0x4fbbac(0x2f6)](_0x4fbbac(0x1a9),_0xdaa0ae=>this[_0x4fbbac(0x300)](_0xdaa0ae)),document[_0x4fbbac(0x2af)](_0x4fbbac(0x31e))?.['addEventListener']('click',()=>this[_0x4fbbac(0x288)]()),document[_0x4fbbac(0x2af)]('zoomSlider')?.[_0x4fbbac(0x2f6)](_0x4fbbac(0x16e),()=>this[_0x4fbbac(0x164)]()),document[_0x4fbbac(0x2af)](_0x4fbbac(0x2a3))?.['addEventListener']('click',()=>this[_0x4fbbac(0x1cf)]()),document[_0x4fbbac(0x2af)](_0x4fbbac(0x185))?.[_0x4fbbac(0x2f6)]('click',()=>{const _0x2d7474=_0x4fbbac;this[_0x2d7474(0x2d7)]?(this['stopRecording'](),document[_0x2d7474(0x2af)](_0x2d7474(0x185))[_0x2d7474(0x198)]=_0x2d7474(0x1e5)):(this[_0x2d7474(0x2fa)](),document['getElementById'](_0x2d7474(0x185))[_0x2d7474(0x198)]=_0x2d7474(0x130));}),document[_0x4fbbac(0x2af)]('autoRotateBtn')?.['addEventListener'](_0x4fbbac(0x220),()=>this[_0x4fbbac(0x2ae)]()),document['getElementById']('animateObjectsBtn')?.[_0x4fbbac(0x2f6)](_0x4fbbac(0x220),()=>this[_0x4fbbac(0x140)]()),document['getElementById'](_0x4fbbac(0x293))?.[_0x4fbbac(0x2f6)]('input',()=>{const _0x5c4a8e=_0x4fbbac,_0x388b9b=document[_0x5c4a8e(0x2af)](_0x5c4a8e(0x293)),_0x5e23cd=document[_0x5c4a8e(0x2af)]('animationSpeedValue');this['animationSpeed']=parseFloat(_0x388b9b[_0x5c4a8e(0x260)]),_0x5e23cd[_0x5c4a8e(0x198)]=this['animationSpeed'][_0x5c4a8e(0x223)](0x1);});if(!this[_0x4fbbac(0x200)])document['getElementById'](_0x4fbbac(0x15d))?.['addEventListener'](_0x4fbbac(0x16e),()=>{const _0x21027a=_0x4fbbac,_0x520b1f=document['getElementById'](_0x21027a(0x15d)),_0x3abe8b=document[_0x21027a(0x2af)](_0x21027a(0x29c)),_0x2e5193=parseFloat(_0x520b1f[_0x21027a(0x260)]);_0x3abe8b[_0x21027a(0x198)]=_0x2e5193[_0x21027a(0x223)](0x3),this[_0x21027a(0x2e5)][_0x21027a(0x28e)](_0x2e5193);});else{const _0x4ca332=document['querySelector'](_0x4fbbac(0x306));if(_0x4ca332)_0x4ca332[_0x4fbbac(0x2bf)][_0x4fbbac(0x26b)]=_0x4fbbac(0x307);}const _0x2fc843=document[_0x4fbbac(0x2af)](_0x4fbbac(0x2c4)),_0x2e06b4=document['getElementById'](_0x4fbbac(0x176)),_0x3892b7=document[_0x4fbbac(0x2af)](_0x4fbbac(0x145));_0x2fc843?_0x2fc843[_0x4fbbac(0x2f6)](_0x4fbbac(0x220),_0x11979d=>{const _0x3ee4af=_0x4fbbac;_0x11979d[_0x3ee4af(0x13d)](),_0x11979d[_0x3ee4af(0x2c6)](),this['prevSliderImage']();}):console[_0x4fbbac(0x146)](_0x4fbbac(0x22c)),_0x2e06b4?_0x2e06b4[_0x4fbbac(0x2f6)](_0x4fbbac(0x220),_0x383674=>{const _0x6ca84f=_0x4fbbac;_0x383674[_0x6ca84f(0x13d)](),_0x383674[_0x6ca84f(0x2c6)](),this[_0x6ca84f(0x2f5)]();}):console['error'](_0x4fbbac(0x2e9)),_0x3892b7?_0x3892b7['addEventListener']('click',_0x5ec153=>{const _0x5583dd=_0x4fbbac;_0x5ec153[_0x5583dd(0x13d)](),_0x5ec153[_0x5583dd(0x2c6)](),this[_0x5583dd(0x145)]();}):console['error'](_0x4fbbac(0x27d)),document['addEventListener'](_0x4fbbac(0x283),_0x819ac3=>{const _0x1e639d=_0x4fbbac;if(this[_0x1e639d(0x247)]){if(_0x819ac3[_0x1e639d(0x244)]==='ArrowLeft')this[_0x1e639d(0x1db)]();else{if(_0x819ac3[_0x1e639d(0x244)]===_0x1e639d(0x2f3))this['nextSliderImage']();else _0x819ac3[_0x1e639d(0x244)]===_0x1e639d(0x1b5)&&this[_0x1e639d(0x145)]();}}this[_0x1e639d(0x2c7)](_0x819ac3);}),document['addEventListener']('pointerlockchange',()=>{const _0x27e508=_0x4fbbac;this[_0x27e508(0x2c5)]=document['pointerLockElement']===this[_0x27e508(0x231)][_0x27e508(0x1ec)],!this[_0x27e508(0x2c5)]&&this['isSliderActive']&&(document[_0x27e508(0x2af)](_0x27e508(0x179))[_0x27e508(0x2bf)]['pointerEvents']='auto');});}async[_0x2d30c4(0x30d)](){const _0xc642e6=_0x2d30c4;console[_0xc642e6(0x174)](_0xc642e6(0x148)+this[_0xc642e6(0x269)]);if(!this[_0xc642e6(0x17d)][_0xc642e6(0x24d)]){this['showMessage'](_0xc642e6(0x2d4),_0xc642e6(0x215),_0xc642e6(0x146)),console[_0xc642e6(0x234)](_0xc642e6(0x257));return;}this[_0xc642e6(0x28b)]('shareStatus',!![]);try{const _0xbfafee=window[_0xc642e6(0x23a)][_0xc642e6(0x21d)];console[_0xc642e6(0x174)](_0xc642e6(0x2a9)+_0xbfafee);const _0x59e6b1=await fetch(_0xc642e6(0x129)+(this['sessionId']||_0xc642e6(0x1a0)),{'method':_0xc642e6(0x135),'headers':{'Content-Type':_0xc642e6(0x31a)},'body':JSON[_0xc642e6(0x2a1)]({'htmlPath':_0xbfafee})});console[_0xc642e6(0x174)](_0xc642e6(0x296),_0x59e6b1[_0xc642e6(0x178)]);if(!_0x59e6b1['ok'])throw new Error('HTTP\x20error!\x20Status:\x20'+_0x59e6b1[_0xc642e6(0x178)]);const _0x65e7ff=await _0x59e6b1[_0xc642e6(0x14f)]();console['log'](_0xc642e6(0x2f1),_0x65e7ff);if(_0x65e7ff[_0xc642e6(0x2e7)]&&_0x65e7ff[_0xc642e6(0x173)])this['sessionId']=_0x65e7ff[_0xc642e6(0x269)]||this[_0xc642e6(0x269)],this[_0xc642e6(0x173)]=_0x65e7ff[_0xc642e6(0x173)],localStorage['setItem'](_0xc642e6(0x269),this['sessionId']),this[_0xc642e6(0x319)](),this['showMessage'](_0xc642e6(0x2d4),_0xc642e6(0x249),_0xc642e6(0x2e7));else throw new Error('No\x20share\x20URL\x20provided\x20by\x20server');}catch(_0x3de911){console[_0xc642e6(0x146)](_0xc642e6(0x1d9),_0x3de911),this[_0xc642e6(0x326)](_0xc642e6(0x2d4),_0xc642e6(0x1cd)+_0x3de911[_0xc642e6(0x13e)],_0xc642e6(0x146));}finally{this[_0xc642e6(0x28b)](_0xc642e6(0x2d4),![]);}}['showShareLink'](){const _0x1b4867=_0x2d30c4;console[_0x1b4867(0x174)](_0x1b4867(0x2bd),this[_0x1b4867(0x173)]);if(!this['shareUrl']){console[_0x1b4867(0x146)](_0x1b4867(0x258)),this[_0x1b4867(0x326)](_0x1b4867(0x2d4),_0x1b4867(0x206),_0x1b4867(0x146));return;}const _0x5f202a=document[_0x1b4867(0x2af)](_0x1b4867(0x1be));if(!_0x5f202a){console[_0x1b4867(0x146)]('shareModal\x20element\x20not\x20found\x20in\x20DOM'),this[_0x1b4867(0x326)]('shareStatus',_0x1b4867(0x158),'error');return;}_0x5f202a[_0x1b4867(0x24c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Share\x20Your\x20Gallery</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+this[_0x1b4867(0x173)]+'\x22\x20id=\x22shareLinkInput\x22\x20readonly>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copyShareLink\x22\x20class=\x22glow-btn\x22>Copy\x20Link</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeShareModal\x22\x20class=\x22glow-btn\x22>Close</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x5f202a[_0x1b4867(0x2bf)][_0x1b4867(0x26b)]=_0x1b4867(0x157),console[_0x1b4867(0x174)](_0x1b4867(0x2c0),_0x5f202a);const _0x541d42=document[_0x1b4867(0x2af)]('copyShareLink'),_0x3db738=document[_0x1b4867(0x2af)](_0x1b4867(0x207));_0x541d42?_0x541d42[_0x1b4867(0x2f6)](_0x1b4867(0x220),async()=>{const _0x22875c=_0x1b4867,_0x555b1b=document[_0x22875c(0x2af)](_0x22875c(0x195));if(_0x555b1b)try{await navigator[_0x22875c(0x2f7)][_0x22875c(0x311)](_0x555b1b[_0x22875c(0x260)]),this[_0x22875c(0x326)](_0x22875c(0x2d4),_0x22875c(0x266),_0x22875c(0x2e7));}catch(_0x13ee8c){console['warn']('Clipboard\x20API\x20failed,\x20using\x20fallback:',_0x13ee8c),_0x555b1b['select'](),document[_0x22875c(0x228)](_0x22875c(0x2ed)),this['showMessage'](_0x22875c(0x2d4),_0x22875c(0x266),'success');}else console[_0x22875c(0x146)](_0x22875c(0x230)),this['showMessage'](_0x22875c(0x2d4),'Failed\x20to\x20copy\x20link',_0x22875c(0x146));}):console[_0x1b4867(0x146)](_0x1b4867(0x169)),_0x3db738?_0x3db738[_0x1b4867(0x2f6)]('click',()=>{const _0x8c7755=_0x1b4867;_0x5f202a['style']['display']=_0x8c7755(0x307),_0x5f202a['innerHTML']='',console[_0x8c7755(0x174)](_0x8c7755(0x2b2));}):console[_0x1b4867(0x146)]('closeShareModal\x20button\x20not\x20found');}[_0x2d30c4(0x1d1)](_0x443416,_0x21be72){const _0x383b81=_0x2d30c4;if(this[_0x383b81(0x200)])return;if(_0x21be72[_0x383b81(0x256)][_0x383b81(0x27c)]===_0x383b81(0x1a2)&&_0x443416[_0x383b81(0x18e)]===_0x383b81(0x220))_0x21be72[_0x383b81(0x24c)]=_0x383b81(0x1b1),_0x21be72['dataset'][_0x383b81(0x27c)]=_0x383b81(0x23c);else{if(_0x21be72[_0x383b81(0x256)]['step']===_0x383b81(0x23c)&&['w','a','s','d'][_0x383b81(0x1fe)](_0x443416[_0x383b81(0x244)]?.[_0x383b81(0x184)]()))_0x21be72[_0x383b81(0x24c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Nice!\x20Turn\x20and\x20look:<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20‚Ä¢\x20<strong>Q</strong>:\x20Turn\x20left<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20‚Ä¢\x20<strong>E</strong>:\x20Turn\x20right<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20‚Ä¢\x20Move\x20mouse\x20to\x20look\x20up/down<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Give\x20it\x20a\x20go!\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x21be72[_0x383b81(0x256)][_0x383b81(0x27c)]=_0x383b81(0x313);else _0x21be72[_0x383b81(0x256)][_0x383b81(0x27c)]==='rotate'&&['q','e'][_0x383b81(0x1fe)](_0x443416[_0x383b81(0x244)]?.[_0x383b81(0x184)]())&&(_0x21be72[_0x383b81(0x24c)]=_0x383b81(0x1d8),_0x21be72[_0x383b81(0x256)][_0x383b81(0x27c)]=_0x383b81(0x2ad),setTimeout(()=>{const _0x4ca843=_0x383b81;_0x21be72[_0x4ca843(0x2bf)]['transition']='opacity\x201s',_0x21be72[_0x4ca843(0x2bf)][_0x4ca843(0x229)]='0',setTimeout(()=>_0x21be72['remove'](),0x3e8);},0x1388));}}[_0x2d30c4(0x219)](_0x36029c){const _0x4e83df=_0x2d30c4,_0x2b1b58=_0x36029c[_0x4e83df(0x30f)]['files'];if(!_0x2b1b58||!this['previewContainer'])return;this[_0x4e83df(0x1cc)]=Array['from'](_0x2b1b58),this['previewContainer'][_0x4e83df(0x24c)]='',Array['from'](_0x2b1b58)['forEach'](_0xf61898=>{const _0x40d425=_0x4e83df;if(_0xf61898[_0x40d425(0x18e)][_0x40d425(0x1f2)](_0x40d425(0x2db))){const _0x1fe70c=new FileReader();_0x1fe70c[_0x40d425(0x30a)]=_0x47cb91=>{const _0x586ec1=_0x40d425,_0x223437=document[_0x586ec1(0x1c3)](_0x586ec1(0x1fb));_0x223437['src']=_0x47cb91[_0x586ec1(0x30f)][_0x586ec1(0x327)],_0x223437[_0x586ec1(0x15f)]=_0x586ec1(0x25b),_0x223437[_0x586ec1(0x2bf)]['cssText']=_0x586ec1(0x255),this[_0x586ec1(0x22e)][_0x586ec1(0x302)](_0x223437);},_0x1fe70c[_0x40d425(0x1b7)](_0xf61898);}}),this[_0x4e83df(0x171)]();}['showMetadataModal'](){const _0x368c9b=_0x2d30c4,_0x4eea76=document['getElementById'](_0x368c9b(0x2ca)),_0x2f7ddb=document[_0x368c9b(0x2af)]('metadataInputs');_0x2f7ddb['innerHTML']='',this[_0x368c9b(0x1cc)][_0x368c9b(0x273)]((_0x3dba75,_0x2e2c4f)=>{const _0x2cdfa6=_0x368c9b,_0x5e6c8d=document[_0x2cdfa6(0x1c3)](_0x2cdfa6(0x214));_0x5e6c8d[_0x2cdfa6(0x24c)]=_0x2cdfa6(0x15c)+_0x3dba75[_0x2cdfa6(0x22a)]+_0x2cdfa6(0x2aa)+_0x2e2c4f+_0x2cdfa6(0x276)+_0x3dba75['name'][_0x2cdfa6(0x245)]('.')[0x0]+_0x2cdfa6(0x1f4)+_0x2e2c4f+'\x22\x20placeholder=\x22Description\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22artist-'+_0x2e2c4f+'\x22\x20placeholder=\x22Url\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2f7ddb[_0x2cdfa6(0x302)](_0x5e6c8d);}),_0x4eea76[_0x368c9b(0x2bf)]['display']=_0x368c9b(0x157),document[_0x368c9b(0x2af)]('submitMetadata')['onclick']=()=>this[_0x368c9b(0x1ee)](),document[_0x368c9b(0x2af)]('cancelMetadata')[_0x368c9b(0x31b)]=()=>{const _0x3fb6f9=_0x368c9b;_0x4eea76[_0x3fb6f9(0x2bf)][_0x3fb6f9(0x26b)]=_0x3fb6f9(0x307),this['pendingFiles']=[],this[_0x3fb6f9(0x22e)][_0x3fb6f9(0x24c)]='',document[_0x3fb6f9(0x2af)]('images')[_0x3fb6f9(0x260)]='';};}[_0x2d30c4(0x1ee)](){const _0x259b46=_0x2d30c4,_0x38d780=document[_0x259b46(0x2af)](_0x259b46(0x2ca));this[_0x259b46(0x1ed)]=this[_0x259b46(0x1cc)][_0x259b46(0x163)]((_0xfc8462,_0x362725)=>({'filename':_0xfc8462[_0x259b46(0x22a)],'title':document[_0x259b46(0x2af)](_0x259b46(0x209)+_0x362725)['value']||_0xfc8462['name']['split']('.')[0x0],'description':document[_0x259b46(0x2af)](_0x259b46(0x2c9)+_0x362725)[_0x259b46(0x260)]||'','artist':document[_0x259b46(0x2af)](_0x259b46(0x133)+_0x362725)['value']||_0x259b46(0x303)})),_0x38d780['style'][_0x259b46(0x26b)]=_0x259b46(0x307),this[_0x259b46(0x13f)]({'preventDefault':()=>{}});}[_0x2d30c4(0x1cf)](){const _0x49a62a=_0x2d30c4;this[_0x49a62a(0x30e)]=!this[_0x49a62a(0x30e)];const _0x432c9c=document[_0x49a62a(0x142)](_0x49a62a(0x262)),_0x3b0fbb=document[_0x49a62a(0x2af)](_0x49a62a(0x2a3));_0x432c9c[_0x49a62a(0x273)](_0x2d03b5=>{const _0xbc9ba9=_0x49a62a;_0x2d03b5[_0xbc9ba9(0x25d)]['toggle']('hidden-panel',!this[_0xbc9ba9(0x30e)]);}),_0x3b0fbb[_0x49a62a(0x198)]=this[_0x49a62a(0x30e)]?_0x49a62a(0x156):'Show\x20Controls',_0x3b0fbb[_0x49a62a(0x27f)]('i')&&(_0x3b0fbb[_0x49a62a(0x27f)]('i')[_0x49a62a(0x15f)]=this[_0x49a62a(0x30e)]?_0x49a62a(0x1ca):_0x49a62a(0x1d3)),console[_0x49a62a(0x174)](this['controlsVisible']?_0x49a62a(0x1c9):'üñ•Ô∏è\x20Controls\x20hidden');}['onKeyDown'](_0x1a9e28){const _0x343f03=_0x2d30c4;switch(_0x1a9e28[_0x343f03(0x244)][_0x343f03(0x184)]()){case'w':this[_0x343f03(0x279)]['w']=!![];break;case'a':this[_0x343f03(0x279)]['a']=!![];break;case's':this[_0x343f03(0x279)]['s']=!![];break;case'd':this[_0x343f03(0x279)]['d']=!![];break;case'q':this[_0x343f03(0x279)]['q']=!![];break;case'e':this[_0x343f03(0x279)]['e']=!![];break;case _0x343f03(0x138):this['controls']['unlock']();break;}}['onKeyUp'](_0x1a17b0){const _0x3b74e0=_0x2d30c4;switch(_0x1a17b0[_0x3b74e0(0x244)]['toLowerCase']()){case'w':this[_0x3b74e0(0x279)]['w']=![];break;case'a':this[_0x3b74e0(0x279)]['a']=![];break;case's':this[_0x3b74e0(0x279)]['s']=![];break;case'd':this[_0x3b74e0(0x279)]['d']=![];break;case'q':this['keys']['q']=![];break;case'e':this[_0x3b74e0(0x279)]['e']=![];break;}}[_0x2d30c4(0x12d)](){const _0x20b98a=_0x2d30c4;if(!this[_0x20b98a(0x200)]&&this['isLocked']&&!this[_0x20b98a(0x165)]&&!this[_0x20b98a(0x2ba)]){const _0x2627a8=new _0x1cf020[(_0x20b98a(0x2b6))](),_0x144290=new _0x1cf020['Vector3']();this['camera']['getWorldDirection'](_0x144290),_0x144290['y']=0x0,_0x144290[_0x20b98a(0x203)]();if(this['keys']['w'])_0x2627a8[_0x20b98a(0x1dd)](_0x144290,this['moveSpeed']);if(this[_0x20b98a(0x279)]['s'])_0x2627a8[_0x20b98a(0x1dd)](_0x144290,-this[_0x20b98a(0x1c2)]);if(this['keys']['a']){const _0x59c902=new _0x1cf020['Vector3']()['crossVectors'](this[_0x20b98a(0x137)]['up'],_0x144290)[_0x20b98a(0x203)]();_0x2627a8[_0x20b98a(0x1dd)](_0x59c902,-this[_0x20b98a(0x1c2)]);}if(this[_0x20b98a(0x279)]['d']){const _0x2e877b=new _0x1cf020['Vector3']()[_0x20b98a(0x2c2)](this[_0x20b98a(0x137)]['up'],_0x144290)[_0x20b98a(0x203)]();_0x2627a8[_0x20b98a(0x1dd)](_0x2e877b,this[_0x20b98a(0x1c2)]);}this[_0x20b98a(0x2e5)][_0x20b98a(0x2d3)]()[_0x20b98a(0x193)][_0x20b98a(0x144)](_0x2627a8),this[_0x20b98a(0x2cc)]();const _0x3d4da0=new _0x1cf020[(_0x20b98a(0x2ef))](0x0,0x0,0x0,'YXZ');_0x3d4da0[_0x20b98a(0x1af)](this[_0x20b98a(0x137)][_0x20b98a(0x324)]);if(this['keys']['q'])_0x3d4da0['y']+=this['rotationSpeed'];if(this[_0x20b98a(0x279)]['e'])_0x3d4da0['y']-=this[_0x20b98a(0x175)];this['camera']['quaternion'][_0x20b98a(0x237)](_0x3d4da0);}this[_0x20b98a(0x2cf)]();}[_0x2d30c4(0x2cc)](){const _0x545e67=_0x2d30c4;if(!this[_0x545e67(0x200)]){this[_0x545e67(0x137)][_0x545e67(0x193)]['y']=1.6;const _0x3fd81f=this[_0x545e67(0x298)][this[_0x545e67(0x2dd)]]['position'],_0x429ed9=_0x3fd81f['x']-0xf,_0x47a281=_0x3fd81f['x']+0xf,_0x56c58b=_0x3fd81f['z']-0xf,_0x4bd6e6=_0x3fd81f['z']+0xf;this[_0x545e67(0x137)]['position']['x']=Math[_0x545e67(0x325)](_0x429ed9,Math[_0x545e67(0x287)](_0x47a281,this[_0x545e67(0x137)][_0x545e67(0x193)]['x'])),this[_0x545e67(0x137)][_0x545e67(0x193)]['z']=Math[_0x545e67(0x325)](_0x56c58b,Math[_0x545e67(0x287)](_0x4bd6e6,this['camera'][_0x545e67(0x193)]['z'])),this[_0x545e67(0x2e5)]['getObject']()[_0x545e67(0x193)][_0x545e67(0x2ed)](this[_0x545e67(0x137)]['position']);}}async['computeImageHash'](_0x19e8cc){return new Promise(_0x2a1dcb=>{const _0x53c286=_0x4c02,_0x137dcc=_0x19e8cc[_0x53c286(0x187)],_0x1251ce=document[_0x53c286(0x1c3)](_0x53c286(0x2d8));_0x1251ce['width']=_0x137dcc['width'],_0x1251ce['height']=_0x137dcc[_0x53c286(0x328)];const _0x1e4267=_0x1251ce['getContext']('2d');_0x1e4267[_0x53c286(0x2b4)](_0x137dcc,0x0,0x0);const _0x2f7eb9=_0x1e4267[_0x53c286(0x180)](0x0,0x0,_0x137dcc[_0x53c286(0x1dc)],_0x137dcc['height'])[_0x53c286(0x2b7)];let _0x38e23a=0x0;for(let _0x3fa397=0x0;_0x3fa397<_0x2f7eb9[_0x53c286(0x24d)];_0x3fa397+=0x4){_0x38e23a+=_0x2f7eb9[_0x3fa397]+_0x2f7eb9[_0x3fa397+0x1]+_0x2f7eb9[_0x3fa397+0x2]+_0x2f7eb9[_0x3fa397+0x3];}_0x2a1dcb(_0x38e23a['toString']());});}async[_0x2d30c4(0x1b3)](_0x40d66e){const _0x15ac54=_0x2d30c4,_0x564795=0x3;let _0x1cd146=0x0;while(_0x1cd146<_0x564795){try{const _0x51d580=await fetch(_0x15ac54(0x139)+_0x40d66e+'/');if(!_0x51d580['ok'])throw new Error(_0x15ac54(0x2ec)+_0x51d580[_0x15ac54(0x178)]);const _0x8c4b5a=await _0x51d580['json']();console[_0x15ac54(0x174)](_0x15ac54(0x211),_0x40d66e,':',_0x8c4b5a);if(!Array['isArray'](_0x8c4b5a[_0x15ac54(0x25c)])||_0x8c4b5a[_0x15ac54(0x25c)][_0x15ac54(0x24d)]===0x0)console[_0x15ac54(0x234)](_0x15ac54(0x26a)),this[_0x15ac54(0x2d2)]=[_0x15ac54(0x1a1),_0x15ac54(0x1a1)],this[_0x15ac54(0x1ed)]=[{'filename':_0x15ac54(0x1e8),'title':_0x15ac54(0x31c),'description':'','artist':'Unknown'},{'filename':_0x15ac54(0x242),'title':_0x15ac54(0x31c),'description':'','artist':'Unknown'}];else{this['imagesToLoad']=_0x8c4b5a[_0x15ac54(0x25c)][_0x15ac54(0x2b9)](_0x5e9994=>_0x5e9994&&typeof _0x5e9994===_0x15ac54(0x2d0))[_0x15ac54(0x163)](_0x427053=>_0x427053[_0x15ac54(0x2b0)]()),this[_0x15ac54(0x1ed)]=[];if(_0x8c4b5a[_0x15ac54(0x1ed)]&&typeof _0x8c4b5a['metadata']===_0x15ac54(0x1f6)){if(Array[_0x15ac54(0x194)](_0x8c4b5a[_0x15ac54(0x1ed)]['metadata']))this[_0x15ac54(0x1ed)]=_0x8c4b5a['metadata'][_0x15ac54(0x1ed)][_0x15ac54(0x163)](_0x3b0d6e=>({'filename':_0x3b0d6e[_0x15ac54(0x2b5)],'title':_0x3b0d6e['title']||'Untitled','description':_0x3b0d6e['description']||'','artist':_0x3b0d6e[_0x15ac54(0x1ba)]||_0x15ac54(0x303)}));else Array[_0x15ac54(0x194)](_0x8c4b5a[_0x15ac54(0x1ed)])&&(this[_0x15ac54(0x1ed)]=_0x8c4b5a['metadata']['map'](_0x2f9cbd=>({'filename':_0x2f9cbd['filename'],'title':_0x2f9cbd[_0x15ac54(0x310)]||_0x15ac54(0x31c),'description':_0x2f9cbd[_0x15ac54(0x261)]||'','artist':_0x2f9cbd[_0x15ac54(0x1ba)]||_0x15ac54(0x303)})));}!this[_0x15ac54(0x1ed)]['length']&&this[_0x15ac54(0x2d2)][_0x15ac54(0x24d)]&&(this['metadata']=this[_0x15ac54(0x2d2)]['map'](_0x43287b=>({'filename':_0x43287b[_0x15ac54(0x245)]('/')[_0x15ac54(0x2da)](),'title':'Untitled','description':'','artist':_0x15ac54(0x303)})));}console['log'](_0x15ac54(0x2d9),this[_0x15ac54(0x2d2)]),console[_0x15ac54(0x174)]('Sanitized\x20metadata:',this[_0x15ac54(0x1ed)]);if(!this[_0x15ac54(0x2d2)]['length']){console['error'](_0x15ac54(0x20f));return;}await this[_0x15ac54(0x1fc)]();return;}catch(_0x5c9b24){console[_0x15ac54(0x146)](_0x15ac54(0x289)+_0x1cd146+'):',_0x5c9b24),_0x1cd146++,_0x1cd146===_0x564795?(console[_0x15ac54(0x146)](_0x15ac54(0x2f4)),this[_0x15ac54(0x2d2)]=['https://via.placeholder.com/350x250',_0x15ac54(0x1a1)],this['metadata']=[{'filename':'placeholder1.jpg','title':_0x15ac54(0x31c),'description':'','artist':_0x15ac54(0x303)},{'filename':_0x15ac54(0x242),'title':_0x15ac54(0x31c),'description':'','artist':_0x15ac54(0x303)}],console['log'](_0x15ac54(0x172),this[_0x15ac54(0x2d2)]),console['log'](_0x15ac54(0x161),this['metadata']),await this[_0x15ac54(0x1fc)]()):await new Promise(_0x124e4a=>setTimeout(_0x124e4a,0x1f4*_0x1cd146));}}}async[_0x2d30c4(0x1fc)](){const _0x225ec4=_0x2d30c4;if(!this[_0x225ec4(0x2d2)])return;this[_0x225ec4(0x2bb)]();const _0x459322=this[_0x225ec4(0x2d2)]['length'];let _0x4caea4=0x0;const _0xec9fab=new Set(),_0x516c9f=new _0x1cf020[(_0x225ec4(0x305))]({'color':0x333333,'roughness':0.5,'metalness':0.8}),_0x2ddc66=new _0x1cf020[(_0x225ec4(0x305))]({'color':0xff0000,'roughness':0.5,'metalness':0x0}),_0x2c7ed6=this['rooms'][0x0],_0x25eb58=0x1e,_0x5d25bd=0x4,_0x1f9577=0x3,_0x5f00e0=0.2,_0x1615d8=Math[_0x225ec4(0x1f7)](this[_0x225ec4(0x2d2)]['length']/0x4),_0xc6b6e8=_0x25eb58/(_0x1615d8+0x1),_0x134637=0.5,_0x24f0e4=Math[_0x225ec4(0x287)](0x10,_0x1615d8*0x4),_0x5da3d7=[{'basePos':new _0x1cf020[(_0x225ec4(0x2b6))](0x0,2.5,-_0x25eb58/0x2+_0x134637),'rot':0x0,'dir':'x'},{'basePos':new _0x1cf020[(_0x225ec4(0x2b6))](-_0x25eb58/0x2+_0x134637,2.5,0x0),'rot':Math['PI']/0x2,'dir':'z'},{'basePos':new _0x1cf020['Vector3'](_0x25eb58/0x2-_0x134637,2.5,0x0),'rot':-Math['PI']/0x2,'dir':'z'},{'basePos':new _0x1cf020['Vector3'](0x0,2.5,_0x25eb58/0x2-_0x134637),'rot':Math['PI'],'dir':'x'}];for(let _0x299469 of _0x5da3d7){if(_0x4caea4>=_0x459322||this[_0x225ec4(0x17d)][_0x225ec4(0x24d)]>=_0x24f0e4)break;const _0x184083=[];for(let _0x227ee2=0x0;_0x227ee2<_0x1615d8&&_0x4caea4<_0x459322&&this['images'][_0x225ec4(0x24d)]<_0x24f0e4;_0x227ee2++){const _0x4121b0=-_0x25eb58/0x2+(_0x227ee2+0.5)*(_0x25eb58/_0x1615d8),_0x402b45=_0x299469['basePos'][_0x225ec4(0x1a4)]();if(_0x299469[_0x225ec4(0x2a2)]==='x')_0x402b45['x']+=_0x4121b0;else _0x402b45['z']+=_0x4121b0;_0x184083['push']({'pos':_0x402b45,'rot':_0x299469[_0x225ec4(0x2f0)]});}for(let {pos:_0x20afa7,rot:_0x3da7c1}of _0x184083){if(_0x4caea4>=_0x459322)break;const _0x5a400d=this[_0x225ec4(0x2d2)][_0x4caea4],_0x455ac9=this[_0x225ec4(0x1ed)][_0x225ec4(0x20b)](_0x330e01=>_0x330e01[_0x225ec4(0x2b5)]===_0x5a400d[_0x225ec4(0x245)]('/')[_0x225ec4(0x2da)]())||{'title':_0x225ec4(0x31c),'description':'','artist':'Unknown'};console['log'](_0x225ec4(0x226)+_0x5a400d+':',_0x455ac9);try{const _0xabd2a6=await this['loadTexture'](_0x5a400d),_0x1e7bef=await this[_0x225ec4(0x1b2)](_0xabd2a6);if(_0xec9fab[_0x225ec4(0x24f)](_0x1e7bef)){console[_0x225ec4(0x234)](_0x225ec4(0x250)+_0x5a400d+_0x225ec4(0x136)+_0x1e7bef+',\x20skipping'),_0x4caea4++;continue;}_0xec9fab[_0x225ec4(0x144)](_0x1e7bef);let _0x3c09cd;_0xabd2a6['image']?_0x3c09cd=new _0x1cf020['ShaderMaterial']({'uniforms':{'map':{'value':_0xabd2a6},'opacity':{'value':0x1},'time':{'value':0x0}},'vertexShader':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vNormal\x20=\x20normalMatrix\x20*\x20normal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fragmentShader':_0x225ec4(0x1e2),'transparent':!![],'side':_0x1cf020['DoubleSide']}):_0x3c09cd=_0x2ddc66;const _0x3941fc=_0xabd2a6[_0x225ec4(0x187)]?_0xabd2a6[_0x225ec4(0x187)][_0x225ec4(0x1dc)]/_0xabd2a6[_0x225ec4(0x187)][_0x225ec4(0x328)]:0x1,_0x5650f5=0x4,_0x5e5765=Math['min'](_0x1f9577*_0x3941fc,_0x5650f5),_0xd5f987=new _0x1cf020[(_0x225ec4(0x1e6))](_0x5e5765,_0x1f9577,_0x5f00e0),_0x133727=new _0x1cf020['Mesh'](_0xd5f987,_0x3c09cd);_0x133727['position'][_0x225ec4(0x2ed)](_0x20afa7)[_0x225ec4(0x144)](_0x2c7ed6[_0x225ec4(0x193)]),_0x133727[_0x225ec4(0x159)]['y']=_0x3da7c1,_0x133727[_0x225ec4(0x177)]=!![],_0x133727['receiveShadow']=!![],_0x133727[_0x225ec4(0x1ea)]={'filename':_0x5a400d,'hash':_0x1e7bef,'baseScale':_0x133727[_0x225ec4(0x17c)][_0x225ec4(0x1a4)](),'metadata':{'title':_0x455ac9[_0x225ec4(0x310)],'description':_0x455ac9['description'],'artist':_0x455ac9[_0x225ec4(0x1ba)]}},_0x2c7ed6['add'](_0x133727),this[_0x225ec4(0x17d)]['push']({'mesh':_0x133727,'filename':_0x5a400d,'hash':_0x1e7bef,'metadata':_0x455ac9});const _0x3b239e=0.1,_0x28c038=new _0x1cf020[(_0x225ec4(0x2bc))]();_0x28c038[_0x225ec4(0x1d4)](-_0x5e5765/0x2-_0x3b239e,-_0x1f9577/0x2-_0x3b239e),_0x28c038[_0x225ec4(0x28c)](_0x5e5765/0x2+_0x3b239e,-_0x1f9577/0x2-_0x3b239e),_0x28c038['lineTo'](_0x5e5765/0x2+_0x3b239e,_0x1f9577/0x2+_0x3b239e),_0x28c038[_0x225ec4(0x28c)](-_0x5e5765/0x2-_0x3b239e,_0x1f9577/0x2+_0x3b239e),_0x28c038['lineTo'](-_0x5e5765/0x2-_0x3b239e,-_0x1f9577/0x2-_0x3b239e);const _0x1309cb=new _0x1cf020[(_0x225ec4(0x301))]();_0x1309cb['moveTo'](-_0x5e5765/0x2,-_0x1f9577/0x2),_0x1309cb[_0x225ec4(0x28c)](_0x5e5765/0x2,-_0x1f9577/0x2),_0x1309cb[_0x225ec4(0x28c)](_0x5e5765/0x2,_0x1f9577/0x2),_0x1309cb[_0x225ec4(0x28c)](-_0x5e5765/0x2,_0x1f9577/0x2),_0x1309cb[_0x225ec4(0x28c)](-_0x5e5765/0x2,-_0x1f9577/0x2),_0x28c038[_0x225ec4(0x21e)][_0x225ec4(0x17a)](_0x1309cb);const _0x4f3aa1={'depth':_0x3b239e,'bevelEnabled':![]},_0x2dd6d1=new _0x1cf020[(_0x225ec4(0x236))](_0x28c038,_0x4f3aa1),_0x2f986e=new _0x1cf020[(_0x225ec4(0x280))](_0x2dd6d1,_0x516c9f);_0x2f986e[_0x225ec4(0x193)][_0x225ec4(0x2ed)](_0x133727[_0x225ec4(0x193)]),_0x2f986e['position']['z']+=_0x3da7c1===0x0?-_0x5f00e0/0x2:_0x3da7c1===Math['PI']?_0x5f00e0/0x2:0x0,_0x2f986e[_0x225ec4(0x193)]['x']+=_0x3da7c1===Math['PI']/0x2?-_0x5f00e0/0x2:_0x3da7c1===-Math['PI']/0x2?_0x5f00e0/0x2:0x0,_0x2f986e[_0x225ec4(0x159)]['y']=_0x3da7c1,_0x2f986e['castShadow']=!![],_0x2f986e[_0x225ec4(0x1b4)]=!![],_0x2c7ed6['add'](_0x2f986e);const _0x361d77=new _0x1cf020[(_0x225ec4(0x186))](0xffffff,0x2,0x14,Math['PI']/0x6,0.7),_0x32ee1e=0x2;_0x361d77[_0x225ec4(0x193)][_0x225ec4(0x1ac)](_0x20afa7['x']+(Math[_0x225ec4(0x1c8)](_0x3da7c1)===Math['PI']/0x2?_0x3da7c1>0x0?_0x32ee1e:-_0x32ee1e:0x0),0x6,_0x20afa7['z']+(Math[_0x225ec4(0x1c8)](_0x3da7c1)===Math['PI']/0x2?0x0:_0x3da7c1===0x0?-_0x32ee1e:_0x32ee1e))[_0x225ec4(0x144)](_0x2c7ed6['position']),_0x361d77[_0x225ec4(0x30f)]=_0x133727,_0x361d77[_0x225ec4(0x177)]=!![],_0x361d77[_0x225ec4(0x1bc)]['mapSize'][_0x225ec4(0x1dc)]=0x400,_0x361d77[_0x225ec4(0x1bc)]['mapSize'][_0x225ec4(0x328)]=0x400,_0x361d77[_0x225ec4(0x1bc)][_0x225ec4(0x29e)]=-0.0001,_0x2c7ed6[_0x225ec4(0x144)](_0x361d77),_0x4caea4++;}catch(_0xb2a5ec){console[_0x225ec4(0x146)](_0x225ec4(0x1d0)+this[_0x225ec4(0x2d2)][_0x4caea4]+':',_0xb2a5ec),_0x4caea4++;}}}console[_0x225ec4(0x174)]('üé®\x20Images\x20rendered\x20in\x20room\x20'+this[_0x225ec4(0x2dd)]+':',this[_0x225ec4(0x17d)][_0x225ec4(0x24d)],'Unique\x20hashes:',_0xec9fab['size']);}[_0x2d30c4(0x2bb)](){const _0x312804=_0x2d30c4;this[_0x312804(0x17d)]['forEach'](_0x43eb29=>{const _0x5f1342=_0x312804;_0x43eb29['mesh'][_0x5f1342(0x18c)]&&_0x43eb29[_0x5f1342(0x2a8)][_0x5f1342(0x18c)]['remove'](_0x43eb29[_0x5f1342(0x2a8)]);_0x43eb29[_0x5f1342(0x2a8)]['geometry']['dispose']();if(_0x43eb29['mesh'][_0x5f1342(0x2ce)][_0x5f1342(0x163)])_0x43eb29[_0x5f1342(0x2a8)][_0x5f1342(0x2ce)][_0x5f1342(0x163)][_0x5f1342(0x1f9)]();_0x43eb29['mesh']['material']['dispose']();}),this[_0x312804(0x17d)]=[],this['rooms'][_0x312804(0x273)](_0x208e34=>{const _0x25da5a=_0x312804,_0x28ed15=_0x208e34['children'][_0x25da5a(0x2b9)](_0x581c25=>_0x581c25 instanceof _0x1cf020[_0x25da5a(0x186)]||_0x581c25[_0x25da5a(0x2ce)]?.[_0x25da5a(0x2e1)]?.[_0x25da5a(0x29a)]()===0x333333);_0x28ed15[_0x25da5a(0x273)](_0x3a87a8=>{const _0x32666d=_0x25da5a;_0x208e34[_0x32666d(0x2f2)](_0x3a87a8);if(_0x3a87a8['geometry'])_0x3a87a8[_0x32666d(0x294)][_0x32666d(0x1f9)]();if(_0x3a87a8[_0x32666d(0x2ce)])_0x3a87a8[_0x32666d(0x2ce)][_0x32666d(0x1f9)]();});}),console[_0x312804(0x174)](_0x312804(0x295));}['loadTexture'](_0x39e9b8){return new Promise((_0x3014d8,_0xf1ea33)=>{const _0x156544=_0x4c02;this['textureLoader'][_0x156544(0x19c)](_0x39e9b8,_0x201a69=>{const _0x36c615=_0x156544;_0x201a69['minFilter']=_0x1cf020[_0x36c615(0x192)],_0x201a69['magFilter']=_0x1cf020[_0x36c615(0x314)],_0x201a69['generateMipmaps']=!![],_0x201a69[_0x36c615(0x1d6)]=Math[_0x36c615(0x287)](0x8,this[_0x36c615(0x231)][_0x36c615(0x1b0)][_0x36c615(0x2e0)]()||0x1),_0x201a69[_0x36c615(0x150)]=!![],_0x3014d8(_0x201a69);},undefined,_0x38ecdc=>_0xf1ea33(_0x38ecdc));});}[_0x2d30c4(0x1ef)](_0x31b070){const _0x26e12f=_0x2d30c4,_0x4f161d=new Date()['getTime'](),_0x562748=_0x4f161d-this[_0x26e12f(0x2f9)];if(_0x562748<this[_0x26e12f(0x23b)]){this[_0x26e12f(0x2cd)]['x']=_0x31b070[_0x26e12f(0x2b3)]/window[_0x26e12f(0x14b)]*0x2-0x1,this[_0x26e12f(0x2cd)]['y']=-(_0x31b070[_0x26e12f(0x20e)]/window['innerHeight'])*0x2+0x1,this['raycaster'][_0x26e12f(0x25a)](this[_0x26e12f(0x2cd)],this['camera']);const _0x5fb637=this[_0x26e12f(0x181)][_0x26e12f(0x1a7)]([...this[_0x26e12f(0x17d)]['map'](_0xefba53=>_0xefba53['mesh']),...this[_0x26e12f(0x26d)][_0x26e12f(0x1bf)][_0x26e12f(0x2b9)](_0x4d7987=>_0x4d7987[_0x26e12f(0x18c)]&&_0x4d7987[_0x26e12f(0x18c)]['userData'][_0x26e12f(0x24e)])]);if(_0x5fb637[_0x26e12f(0x24d)]>0x0){const _0x1b8d3e=_0x5fb637[0x0][_0x26e12f(0x1f6)];if(this['isFocused'])this[_0x26e12f(0x1c6)](),this[_0x26e12f(0x145)]();else{if(_0x1b8d3e[_0x26e12f(0x18c)]&&_0x1b8d3e['parent'][_0x26e12f(0x1ea)][_0x26e12f(0x24e)])this[_0x26e12f(0x243)]();else{if(_0x1b8d3e[_0x26e12f(0x1ea)][_0x26e12f(0x2b5)]){console[_0x26e12f(0x174)](_0x26e12f(0x167)+_0x1b8d3e[_0x26e12f(0x1ea)]['filename']);if(!this[_0x26e12f(0x21a)][_0x26e12f(0x2eb)])this[_0x26e12f(0x21a)]['play']();this['focusImage'](_0x1b8d3e),this[_0x26e12f(0x154)](_0x1b8d3e),this['openSlider'](_0x1b8d3e);}}}}}this[_0x26e12f(0x2f9)]=_0x4f161d;}[_0x2d30c4(0x18a)](_0x4c6eab){const _0x3c883f=_0x2d30c4;if(!this[_0x3c883f(0x17d)]['length'])return;!this[_0x3c883f(0x200)]&&this[_0x3c883f(0x2c5)]&&(this[_0x3c883f(0x2e5)][_0x3c883f(0x28a)](),this[_0x3c883f(0x2c5)]=![]);this['isSliderActive']=!![],this[_0x3c883f(0x12e)]=this[_0x3c883f(0x17d)]['map'](_0x4ae538=>({'src':_0x4ae538[_0x3c883f(0x2b5)],'mesh':_0x4ae538[_0x3c883f(0x2a8)],'metadata':_0x4ae538['metadata']||_0x4ae538[_0x3c883f(0x2a8)]['userData'][_0x3c883f(0x1ed)]||{'title':_0x3c883f(0x31c),'description':'','artist':_0x3c883f(0x303)}})),console[_0x3c883f(0x174)](_0x3c883f(0x1de),this[_0x3c883f(0x12e)]),this[_0x3c883f(0x1f3)]=this[_0x3c883f(0x12e)][_0x3c883f(0x13c)](_0x2d4dee=>_0x2d4dee['mesh']===_0x4c6eab);if(this[_0x3c883f(0x1f3)]===-0x1)this[_0x3c883f(0x1f3)]=0x0;const _0x2f6eba=document[_0x3c883f(0x2af)](_0x3c883f(0x179));_0x2f6eba?(_0x2f6eba[_0x3c883f(0x25d)][_0x3c883f(0x2f2)](_0x3c883f(0x170)),_0x2f6eba['style'][_0x3c883f(0x2e2)]=_0x3c883f(0x24a),this[_0x3c883f(0x299)]()):(console[_0x3c883f(0x146)](_0x3c883f(0x217)),this[_0x3c883f(0x247)]=![]);}['closeSlider'](){const _0x46a38f=_0x2d30c4;this[_0x46a38f(0x247)]=![];const _0x572938=document[_0x46a38f(0x2af)](_0x46a38f(0x179));_0x572938?(_0x572938[_0x46a38f(0x25d)]['add'](_0x46a38f(0x170)),_0x572938[_0x46a38f(0x2bf)]['pointerEvents']=_0x46a38f(0x307)):console[_0x46a38f(0x146)](_0x46a38f(0x217)),this[_0x46a38f(0x2ba)]?this['resetCamera']():console[_0x46a38f(0x174)](_0x46a38f(0x252));}[_0x2d30c4(0x1db)](){const _0x4be66f=_0x2d30c4;this[_0x4be66f(0x1f3)]>0x0&&(this[_0x4be66f(0x1f3)]--,this[_0x4be66f(0x299)](),this[_0x4be66f(0x2b1)](this[_0x4be66f(0x12e)][this[_0x4be66f(0x1f3)]][_0x4be66f(0x2a8)]));}[_0x2d30c4(0x2f5)](){const _0x156bd5=_0x2d30c4;this[_0x156bd5(0x1f3)]<this['sliderImages'][_0x156bd5(0x24d)]-0x1&&(this['currentSliderIndex']++,this['updateSliderDisplay'](),this[_0x156bd5(0x2b1)](this[_0x156bd5(0x12e)][this[_0x156bd5(0x1f3)]]['mesh']));}['updateSliderDisplay'](){const _0x2913ef=_0x2d30c4,_0x25c783=document[_0x2913ef(0x2af)](_0x2913ef(0x20a)),_0x591b0f=document[_0x2913ef(0x2af)](_0x2913ef(0x318)),_0x37e86e=document[_0x2913ef(0x27f)](_0x2913ef(0x141)),_0x2b2eaa=this[_0x2913ef(0x12e)][this[_0x2913ef(0x1f3)]];if(_0x25c783&&_0x591b0f&&_0x37e86e){_0x25c783[_0x2913ef(0x2b8)]=_0x2b2eaa[_0x2913ef(0x2b8)],_0x591b0f[_0x2913ef(0x198)]=this[_0x2913ef(0x1f3)]+0x1+_0x2913ef(0x1b6)+this[_0x2913ef(0x12e)][_0x2913ef(0x24d)];let _0x2b14cd=document['getElementById'](_0x2913ef(0x1ab));!_0x2b14cd&&(_0x2b14cd=document[_0x2913ef(0x1c3)]('div'),_0x2b14cd['id']=_0x2913ef(0x1ab),_0x2b14cd['style']['cssText']=_0x2913ef(0x216),_0x37e86e[_0x2913ef(0x302)](_0x2b14cd)),console[_0x2913ef(0x174)](_0x2913ef(0x225),_0x2b2eaa[_0x2913ef(0x2b8)],':',_0x2b2eaa[_0x2913ef(0x1ed)]),_0x2b14cd[_0x2913ef(0x24c)]=_0x2913ef(0x2cb)+(_0x2b2eaa[_0x2913ef(0x1ed)][_0x2913ef(0x310)]||_0x2913ef(0x31c))+_0x2913ef(0x1c1)+(_0x2b2eaa[_0x2913ef(0x1ed)][_0x2913ef(0x1ba)]?_0x2913ef(0x1ce)+_0x2b2eaa['metadata'][_0x2913ef(0x1ba)]+_0x2913ef(0x1b9)+_0x2b2eaa[_0x2913ef(0x1ed)][_0x2913ef(0x1ba)]+'</a>':_0x2913ef(0x221))+_0x2913ef(0x224)+(_0x2b2eaa[_0x2913ef(0x1ed)][_0x2913ef(0x261)]||'')+_0x2913ef(0x27a);}else console[_0x2913ef(0x146)](_0x2913ef(0x227),{'sliderImage':_0x25c783,'sliderIndex':_0x591b0f,'sliderContent':_0x37e86e});}[_0x2d30c4(0x154)](_0x43fa42){const _0x4b4603=_0x2d30c4,_0x5c13f4=_0x43fa42['scale'][_0x4b4603(0x1a4)](),_0x510bc3=_0x43fa42['userData'][_0x4b4603(0x2e8)]['clone']()[_0x4b4603(0x312)](1.2),_0x317db2=0x1f4,_0x4c18e4=performance[_0x4b4603(0x222)](),_0x27e250=_0x56f1a1=>{const _0x5184a9=_0x4b4603,_0x24561c=_0x56f1a1-_0x4c18e4,_0x5347da=Math[_0x5184a9(0x287)](_0x24561c/_0x317db2,0x1);_0x43fa42[_0x5184a9(0x17c)]['lerpVectors'](_0x5c13f4,_0x510bc3,_0x5347da);if(_0x5347da<0x1)requestAnimationFrame(_0x27e250);else{const _0x1dc488=_0x1472b5=>{const _0x47913d=_0x5184a9,_0xeb49ef=_0x1472b5-_0x4c18e4-_0x317db2,_0x3f3ede=Math[_0x47913d(0x287)](_0xeb49ef/_0x317db2,0x1);_0x43fa42[_0x47913d(0x17c)]['lerpVectors'](_0x510bc3,_0x5c13f4,_0x3f3ede);if(_0x3f3ede<0x1)requestAnimationFrame(_0x1dc488);};requestAnimationFrame(_0x1dc488);}};requestAnimationFrame(_0x27e250);}['focusImage'](_0x2708ca){const _0x3eeab1=_0x2d30c4;this[_0x3eeab1(0x23e)](),this[_0x3eeab1(0x2ba)]=!![];if(this[_0x3eeab1(0x200)]){const _0x2bd03e=_0x2708ca[_0x3eeab1(0x193)]['clone']();_0x2bd03e['y']=1.6;const _0x162126=0x3,_0x4134d1=new _0x1cf020['Vector3']();_0x4134d1[_0x3eeab1(0x1eb)](this[_0x3eeab1(0x137)][_0x3eeab1(0x193)],_0x2bd03e)[_0x3eeab1(0x203)](),_0x2bd03e[_0x3eeab1(0x144)](_0x4134d1['multiplyScalar'](-_0x162126));const _0x54207e=this[_0x3eeab1(0x137)][_0x3eeab1(0x193)][_0x3eeab1(0x1a4)](),_0x2f0a32=this['controls'][_0x3eeab1(0x30f)][_0x3eeab1(0x1a4)](),_0x47bfc9=0x1f4,_0x30f877=performance[_0x3eeab1(0x222)](),_0x346d0c=_0x417a44=>{const _0x434d0e=_0x3eeab1,_0x141293=_0x417a44-_0x30f877,_0x30561e=Math[_0x434d0e(0x287)](_0x141293/_0x47bfc9,0x1);this[_0x434d0e(0x137)][_0x434d0e(0x193)]['lerpVectors'](_0x54207e,_0x2bd03e,_0x30561e),this[_0x434d0e(0x2e5)][_0x434d0e(0x30f)][_0x434d0e(0x16c)](_0x2f0a32,_0x2708ca[_0x434d0e(0x193)],_0x30561e),this[_0x434d0e(0x2e5)][_0x434d0e(0x12d)]();if(_0x30561e<0x1)requestAnimationFrame(_0x346d0c);};requestAnimationFrame(_0x346d0c);}else{const _0x402a2a=new _0x1cf020['Vector3']();this[_0x3eeab1(0x137)][_0x3eeab1(0x2a4)](_0x402a2a);const _0x21a672=_0x2708ca['position'][_0x3eeab1(0x1a4)]()[_0x3eeab1(0x14d)](_0x402a2a[_0x3eeab1(0x312)](0x3));_0x21a672['y']=1.6;const _0x2201c8=this['rooms'][this[_0x3eeab1(0x2dd)]][_0x3eeab1(0x193)],_0x51eae4=_0x2201c8['x']-0xf+0x1,_0x3df026=_0x2201c8['x']+0xf-0x1,_0x18bc7f=_0x2201c8['z']-0xf+0x1,_0x4cc090=_0x2201c8['z']+0xf-0x1;_0x21a672['x']=Math[_0x3eeab1(0x325)](_0x51eae4,Math[_0x3eeab1(0x287)](_0x3df026,_0x21a672['x'])),_0x21a672['z']=Math[_0x3eeab1(0x325)](_0x18bc7f,Math[_0x3eeab1(0x287)](_0x4cc090,_0x21a672['z']));const _0x3d4b04=this[_0x3eeab1(0x137)][_0x3eeab1(0x193)]['clone'](),_0x5c2813=0x1f4,_0x5efb4e=performance[_0x3eeab1(0x222)](),_0x15f7a1=_0x17f7cc=>{const _0x22aec1=_0x3eeab1,_0x5aa953=_0x17f7cc-_0x5efb4e,_0x3e08f1=Math[_0x22aec1(0x287)](_0x5aa953/_0x5c2813,0x1);this['camera']['position']['lerpVectors'](_0x3d4b04,_0x21a672,_0x3e08f1),this['controls'][_0x22aec1(0x2d3)]()['position']['copy'](this['camera'][_0x22aec1(0x193)]),this['camera']['lookAt'](_0x2708ca['position']),this['checkCollisions']();if(_0x3e08f1<0x1)requestAnimationFrame(_0x15f7a1);};requestAnimationFrame(_0x15f7a1);}}[_0x2d30c4(0x1c6)](){const _0x428b1c=_0x2d30c4;if(!this['isFocused'])return;const _0x236301=this[_0x428b1c(0x137)][_0x428b1c(0x193)][_0x428b1c(0x1a4)](),_0x5a3cc1=this[_0x428b1c(0x25f)]['position'][_0x428b1c(0x1a4)](),_0x3bf9c3=0x1f4,_0x27bc47=performance[_0x428b1c(0x222)]();if(this[_0x428b1c(0x200)]){const _0x3d2524=this[_0x428b1c(0x2e5)][_0x428b1c(0x30f)][_0x428b1c(0x1a4)](),_0x248247=this[_0x428b1c(0x25f)][_0x428b1c(0x30f)][_0x428b1c(0x1a4)](),_0x4422f9=_0x2e0d62=>{const _0x2012f1=_0x428b1c,_0x3df5eb=_0x2e0d62-_0x27bc47,_0x36ae4d=Math[_0x2012f1(0x287)](_0x3df5eb/_0x3bf9c3,0x1),_0x3397c0=0.5-0.5*Math[_0x2012f1(0x1ae)](Math['PI']*_0x36ae4d);this[_0x2012f1(0x137)][_0x2012f1(0x193)][_0x2012f1(0x16c)](_0x236301,_0x5a3cc1,_0x3397c0),this[_0x2012f1(0x2e5)][_0x2012f1(0x30f)][_0x2012f1(0x16c)](_0x3d2524,_0x248247,_0x3397c0),this[_0x2012f1(0x2e5)][_0x2012f1(0x12d)]();if(_0x36ae4d<0x1)requestAnimationFrame(_0x4422f9);else this[_0x2012f1(0x2ba)]=![];};requestAnimationFrame(_0x4422f9);}else{const _0x1924b1=_0x55729e=>{const _0x388491=_0x428b1c,_0x12b46c=_0x55729e-_0x27bc47,_0x2dfee5=Math[_0x388491(0x287)](_0x12b46c/_0x3bf9c3,0x1),_0x269a89=0.5-0.5*Math[_0x388491(0x1ae)](Math['PI']*_0x2dfee5);this['camera'][_0x388491(0x193)][_0x388491(0x16c)](_0x236301,_0x5a3cc1,_0x269a89),this[_0x388491(0x2e5)][_0x388491(0x2d3)]()[_0x388491(0x193)]['copy'](this['camera']['position']),this[_0x388491(0x2cc)]();if(_0x2dfee5<0x1)requestAnimationFrame(_0x1924b1);else{this[_0x388491(0x2ba)]=![];if(!this[_0x388491(0x165)])this['controls'][_0x388491(0x308)]();}};requestAnimationFrame(_0x1924b1);}}[_0x2d30c4(0x23e)](){const _0x26fdc4=_0x2d30c4;this['previousCameraState']={'position':this['camera'][_0x26fdc4(0x193)][_0x26fdc4(0x1a4)](),'rotation':this[_0x26fdc4(0x137)][_0x26fdc4(0x159)][_0x26fdc4(0x1a4)](),'target':this['isMobile']?this[_0x26fdc4(0x2e5)][_0x26fdc4(0x30f)]['clone']():this[_0x26fdc4(0x137)][_0x26fdc4(0x2a4)](new _0x1cf020[(_0x26fdc4(0x2b6))]())['multiplyScalar'](0xa)[_0x26fdc4(0x144)](this[_0x26fdc4(0x137)][_0x26fdc4(0x193)])};}[_0x2d30c4(0x288)](){const _0x2f4941=_0x2d30c4,_0x582639=this[_0x2f4941(0x231)]['domElement']['toDataURL'](_0x2f4941(0x1a6)),_0x3a7983=document['createElement']('a');_0x3a7983[_0x2f4941(0x322)]=_0x582639,_0x3a7983['download']=_0x2f4941(0x235),_0x3a7983[_0x2f4941(0x220)]();}[_0x2d30c4(0x164)](){const _0x358500=_0x2d30c4,_0x501afa=document[_0x358500(0x2af)]('zoomSlider'),_0x5ddfd8=document[_0x358500(0x2af)](_0x358500(0x1ff)),_0x81f83d=parseFloat(_0x501afa['value']);_0x5ddfd8[_0x358500(0x198)]=_0x81f83d['toFixed'](0x1),this['isMobile']?(this['controls']['minDistance']=0x1/_0x81f83d,this['controls']['maxDistance']=0x14/_0x81f83d,this[_0x358500(0x2e5)][_0x358500(0x12d)]()):(this[_0x358500(0x1c2)]=_0x81f83d/0xa,this[_0x358500(0x137)][_0x358500(0x21f)]=0x4b/(_0x81f83d*0.5+0.5),this[_0x358500(0x137)][_0x358500(0x275)]());}async[_0x2d30c4(0x300)](_0x6aa184){const _0x30de45=_0x2d30c4;_0x6aa184[_0x30de45(0x13d)]();const _0x1c0bcd=document[_0x30de45(0x2af)](_0x30de45(0x278))[_0x30de45(0x260)];if(!_0x1c0bcd){this['showMessage']('screenshotStatus',_0x30de45(0x191),_0x30de45(0x146));return;}this[_0x30de45(0x28b)]('screenshotStatus',!![]);try{const _0x2c4e06=await fetch(_0x30de45(0x291),{'method':_0x30de45(0x135),'headers':{'Content-Type':_0x30de45(0x31a)},'body':JSON['stringify']({'url':_0x1c0bcd})}),_0x31ddf0=await _0x2c4e06[_0x30de45(0x14f)]();_0x31ddf0['sessionId']?(this[_0x30de45(0x269)]=_0x31ddf0[_0x30de45(0x269)],localStorage[_0x30de45(0x132)](_0x30de45(0x269),this[_0x30de45(0x269)]),this[_0x30de45(0x326)](_0x30de45(0x232),_0x30de45(0x248)+_0x1c0bcd,_0x30de45(0x2e7)),this[_0x30de45(0x1b3)](this[_0x30de45(0x269)])):this['showMessage'](_0x30de45(0x232),'Failed\x20to\x20capture\x20screenshot',_0x30de45(0x146));}catch(_0x292308){console[_0x30de45(0x146)]('Error:',_0x292308),this[_0x30de45(0x326)](_0x30de45(0x232),_0x30de45(0x21b)+_0x292308['message'],'error');}finally{this['showStatus'](_0x30de45(0x232),![]);}}async[_0x2d30c4(0x13f)](_0x963fad){const _0x2e20da=_0x2d30c4;_0x963fad[_0x2e20da(0x13d)]();if(!this[_0x2e20da(0x1cc)][_0x2e20da(0x24d)]||!this[_0x2e20da(0x1ed)][_0x2e20da(0x24d)]){console[_0x2e20da(0x174)](_0x2e20da(0x182));return;}const _0x582f91=new FormData();this['pendingFiles']['forEach']((_0x28b54f,_0x43a6b9)=>{const _0x3ca73a=_0x2e20da;_0x582f91[_0x3ca73a(0x12c)]('images',_0x28b54f),_0x582f91[_0x3ca73a(0x12c)](_0x3ca73a(0x310),this['metadata'][_0x43a6b9][_0x3ca73a(0x310)]),_0x582f91['append']('description',this[_0x3ca73a(0x1ed)][_0x43a6b9][_0x3ca73a(0x261)]),_0x582f91['append'](_0x3ca73a(0x1ba),this['metadata'][_0x43a6b9][_0x3ca73a(0x1ba)]);});try{const _0x135ade=await fetch(_0x2e20da(0x1ad)+(this[_0x2e20da(0x269)]?'/'+this['sessionId']:''),{'method':_0x2e20da(0x135),'body':_0x582f91}),_0x202e4a=await _0x135ade[_0x2e20da(0x14f)]();if(_0x202e4a['success'])this['sessionId']=_0x202e4a[_0x2e20da(0x269)],localStorage[_0x2e20da(0x132)]('sessionId',this[_0x2e20da(0x269)]),this[_0x2e20da(0x1ed)]=_0x202e4a[_0x2e20da(0x2ab)][_0x2e20da(0x163)]((_0x43d781,_0x14ea31)=>({'filename':_0x43d781[_0x2e20da(0x245)]('/')[_0x2e20da(0x2da)](),'title':this[_0x2e20da(0x1ed)][_0x14ea31][_0x2e20da(0x310)],'description':this[_0x2e20da(0x1ed)][_0x14ea31][_0x2e20da(0x261)],'artist':this[_0x2e20da(0x1ed)][_0x14ea31][_0x2e20da(0x1ba)]})),console[_0x2e20da(0x174)](_0x2e20da(0x27e),this['metadata']),await new Promise(_0x415cae=>setTimeout(_0x415cae,0x64)),await this[_0x2e20da(0x1b3)](this[_0x2e20da(0x269)]),this[_0x2e20da(0x1cc)]=[],document[_0x2e20da(0x2af)](_0x2e20da(0x17d))['value']='',this[_0x2e20da(0x22e)]['innerHTML']='';else throw new Error(_0x2e20da(0x1fd));}catch(_0x4f79fa){console['error'](_0x2e20da(0x2c3),_0x4f79fa),this[_0x2e20da(0x326)]('shareStatus',_0x2e20da(0x26e),'error');}}[_0x2d30c4(0x28b)](_0x104ab3,_0x5ca684){const _0x411a9b=_0x2d30c4,_0xb9b0d3=document[_0x411a9b(0x2af)](_0x104ab3);_0xb9b0d3&&(_0xb9b0d3[_0x411a9b(0x25d)][_0x411a9b(0x265)](_0x411a9b(0x170),!_0x5ca684),_0x5ca684?(_0xb9b0d3[_0x411a9b(0x25d)][_0x411a9b(0x2f2)](_0x411a9b(0x2e7),_0x411a9b(0x146)),_0xb9b0d3[_0x411a9b(0x25d)][_0x411a9b(0x144)](_0x411a9b(0x309)),_0xb9b0d3[_0x411a9b(0x24c)]=_0x411a9b(0x2c8)):_0xb9b0d3[_0x411a9b(0x25d)][_0x411a9b(0x2f2)](_0x411a9b(0x309)));}[_0x2d30c4(0x326)](_0x2e5352,_0x5c625f,_0x1451f8){const _0x2f6a83=_0x2d30c4,_0x10db46=document['getElementById'](_0x2e5352);_0x10db46&&(_0x10db46[_0x2f6a83(0x25d)]['remove']('hidden',_0x2f6a83(0x309)),_0x10db46[_0x2f6a83(0x25d)][_0x2f6a83(0x144)](_0x1451f8===_0x2f6a83(0x2e7)?_0x2f6a83(0x2e7):_0x2f6a83(0x146)),_0x10db46[_0x2f6a83(0x24c)]=_0x1451f8===_0x2f6a83(0x2e7)?'<i\x20class=\x22fas\x20fa-check\x22></i>':_0x2f6a83(0x2d1),_0x10db46[_0x2f6a83(0x188)](_0x2f6a83(0x274),_0x5c625f),setTimeout(()=>{const _0x2aedad=_0x2f6a83;_0x10db46[_0x2aedad(0x25d)][_0x2aedad(0x144)](_0x2aedad(0x170)),_0x10db46[_0x2aedad(0x272)]('data-tooltip'),_0x10db46[_0x2aedad(0x25d)]['remove'](_0x2aedad(0x2e7),'error');},0xbb8));}['handleResize'](){const _0x3b9818=_0x2d30c4;this[_0x3b9818(0x137)][_0x3b9818(0x251)]=window[_0x3b9818(0x14b)]/window['innerHeight'],this[_0x3b9818(0x137)][_0x3b9818(0x275)](),this[_0x3b9818(0x231)][_0x3b9818(0x1e4)](window[_0x3b9818(0x14b)],window['innerHeight']);}['showAvatarInstructions'](){const _0x514a0d=_0x2d30c4,_0x102fb6=document[_0x514a0d(0x1c3)](_0x514a0d(0x214));_0x102fb6['id']='avatarInstructions',_0x102fb6['style'][_0x514a0d(0x19f)]=_0x514a0d(0x316),this['isMobile']?_0x102fb6[_0x514a0d(0x24c)]=_0x514a0d(0x315):_0x102fb6[_0x514a0d(0x24c)]=_0x514a0d(0x13a),document[_0x514a0d(0x2fe)][_0x514a0d(0x302)](_0x102fb6),document['getElementById'](_0x514a0d(0x12a))[_0x514a0d(0x2f6)](_0x514a0d(0x220),()=>{const _0x30a90a=_0x514a0d;document[_0x30a90a(0x2fe)]['removeChild'](_0x102fb6);});}}const app=new ThreeJSApp();app[_0x2d30c4(0x1a8)]();