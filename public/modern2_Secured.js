const _0x1c1d8a=_0x3969;function _0x3969(_0x45fea3,_0x45f6a9){const _0x8f9632=_0x8f96();return _0x3969=function(_0x396945,_0xb1be95){_0x396945=_0x396945-0x140;let _0x526e58=_0x8f9632[_0x396945];return _0x526e58;},_0x3969(_0x45fea3,_0x45f6a9);}(function(_0x1717cb,_0x388743){const _0x1bd05a=_0x3969,_0x1eb886=_0x1717cb();while(!![]){try{const _0x1b0cea=parseInt(_0x1bd05a(0x2ca))/0x1+-parseInt(_0x1bd05a(0x27b))/0x2+-parseInt(_0x1bd05a(0x2a4))/0x3*(parseInt(_0x1bd05a(0x26f))/0x4)+-parseInt(_0x1bd05a(0x19c))/0x5+-parseInt(_0x1bd05a(0x179))/0x6*(parseInt(_0x1bd05a(0x218))/0x7)+-parseInt(_0x1bd05a(0x21a))/0x8+parseInt(_0x1bd05a(0x1df))/0x9*(parseInt(_0x1bd05a(0x18c))/0xa);if(_0x1b0cea===_0x388743)break;else _0x1eb886['push'](_0x1eb886['shift']());}catch(_0x3ad97d){_0x1eb886['push'](_0x1eb886['shift']());}}}(_0x8f96,0x74c2c));import*as _0x2fc7a2 from'three';import{PointerLockControls}from'PointerLockControls';import{OrbitControls}from'OrbitControls';class CustomPointerLockControls extends PointerLockControls{constructor(_0x5f55aa,_0x2144e7){const _0x5f19c0=_0x3969;super(_0x5f55aa,_0x2144e7),this[_0x5f19c0(0x231)]=0.001;}[_0x1c1d8a(0x163)](){const _0x243ed4=_0x1c1d8a;return this[_0x243ed4(0x276)];}[_0x1c1d8a(0x166)](){const _0x4b88b1=_0x1c1d8a;super[_0x4b88b1(0x166)](),this['domElement'][_0x4b88b1(0x176)][_0x4b88b1(0x2d8)](_0x4b88b1(0x226),this[_0x4b88b1(0x161)][_0x4b88b1(0x2be)](this));}[_0x1c1d8a(0x2b2)](){const _0x19c8fa=_0x1c1d8a;super[_0x19c8fa(0x2b2)](),this[_0x19c8fa(0x18b)][_0x19c8fa(0x176)][_0x19c8fa(0x287)]('mousemove',this[_0x19c8fa(0x161)][_0x19c8fa(0x2be)](this));}['onMouseMove'](_0x32a2da){const _0x4a9a7f=_0x1c1d8a;if(this[_0x4a9a7f(0x1ac)]===!![]){const _0x9b2ef0=_0x32a2da[_0x4a9a7f(0x2b9)]*this[_0x4a9a7f(0x231)],_0x1c6ae7=_0x32a2da[_0x4a9a7f(0x235)]*this[_0x4a9a7f(0x231)],_0x29a028=new _0x2fc7a2['Euler'](0x0,0x0,0x0,_0x4a9a7f(0x257));_0x29a028[_0x4a9a7f(0x207)](this['camera'][_0x4a9a7f(0x294)]),_0x29a028['y']-=_0x9b2ef0,_0x29a028['x']-=_0x1c6ae7,_0x29a028['x']=Math[_0x4a9a7f(0x14e)](-Math['PI']/0x2,Math[_0x4a9a7f(0x22d)](Math['PI']/0x2,_0x29a028['x'])),this['camera'][_0x4a9a7f(0x294)][_0x4a9a7f(0x180)](_0x29a028);}}['setSensitivity'](_0xcc7202){this['sensitivity']=_0xcc7202;}}function _0x8f96(){const _0x3fb74d=['recordedFrames','closeInstructions','dispose','Euler','width','max','currentSliderIndex','\x22\x20placeholder=\x22Description\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22artist-','onload','animationSpeed','geometry','Stop\x20Rotation','lookAt','ledMaterial','setPixelRatio','roomCameraSettings','multiplyScalar','isControlPressed','animationMixer','src','\x20/\x20','sqrt','setupAudio','MathUtils','onMouseMove','intensity','getObject','auto','üé•\x20Recording\x20started','lock','Texture','focusImage','moveSpeed','Raycaster','crossVectors','previewContainer','Shape','filename','result','ceil','animationSpeedValue','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22title-','maxDistance','position','onKeyDown','ownerDocument','mouse','checkCollisions','20778fxebfB','map','Scene','application/json','isAnimatingObjects','AnimationMixer','canvas','setFromEuler','isSliderActive','glassSpotlights','lineTo','LoopRepeat','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>','length','pointerlockerror','material','querySelector','recordBtn','domElement','22783590IioEgp','getElementById','screenshots','putImageData','touchstart','clearScene','createGallery','sensitivityValue','\x22\x20placeholder=\x22Image\x20Title\x22\x20value=\x22','controlsVisible','AnimationClip','setSensitivity','video/webm','isAvatar','key','previousCameraState','612815vBHepZ','enabled','POST','data','querySelectorAll','/api/capture','openSlider','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22description-','onclick','downloadBtn','cancelMetadata','mesh','Pointer\x20Lock\x20failed','normalScale','input','now','isLocked','showImagePreviewsAndMetadataPrompt','scene','ArrowLeft','degToRad','style','sliderMetadata','TextureLoader','metadataModal','forEach','NumberKeyframeTrack','avatarInstructions','needsUpdate','LinearFilter','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Artist:</strong>\x20','wallLights','Error\x20loading\x20image\x20','.slider-content','error','No\x20files\x20or\x20metadata\x20to\x20upload','preventDefault','click','Stop\x20Recording','children','animateObjectsBtn','PerspectiveCamera','startRecording','far','add','handleUploadSubmit','sliderIndex','sub','/api/upload','none','toDataURL','split','keys','pendingFiles','startsWith','isMobile','set','sensitivitySlider','üîÑ\x20Auto-rotation\x20enabled','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Description:</strong>\x20','updateObjectAnimations','createObjectURL','Vector3','getWorldDirection','repeat','init','receiveShadow','9YihWoD','üì∏\x20Fetched\x20data\x20for\x20session','updateSliderDisplay','sessionId','setupEventListeners','files','height','fas\x20fa-eye','No\x20screenshots\x20found,\x20using\x20fallback','setFromCamera','‚ùå\x20Error\x20fetching\x20images\x20(attempt\x20','dir','stopRecording','userData','scale','renderer','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Next\x20button\x20not\x20found\x20in\x20DOM','üé¨\x20Object\x20animation\x20disabled','intersectObjects','getMaxAnisotropy','AudioLoader','time','toLowerCase','wrapS','Slider\x20closed;\x20click\x20canvas\x20to\x20re-lock\x20pointer\x20if\x20desired','pointerLockElement','innerHTML','metadata','getTime','AudioListener','MeshStandardMaterial','download','Slider\x20container\x20not\x20found\x20in\x20DOM','uniforms','aspect','controls','remove','random','image','setFromQuaternion','RepeatWrapping','WebGLRenderer','size','PlaneGeometry','from','clickSound','target','drawImage','escape',',\x20skipping','Slider\x20elements\x20missing:','cssText','loadAudio','submit','toggle','ceilingLights','245DaYDOn','ExtrudeGeometry','3545680eMFwNo','Error\x20loading\x20audio:','type','saveRecording','clone','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>','toFixed','color','closeSlider','addScaledVector','isMoving','Audio','mousemove','cos','loadTexture','Assigning\x20metadata\x20to\x20','handleDownload','className','rot','min','images','castShadow','mediaRecorder','sensitivity','BoxGeometry','isAutoRotating','HTTP\x20error!\x20status:\x20','movementY','log','has','anisotropy','right','ontouchstart','autoRotateSpeed','filter','azimuthAngle','setHSL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Gallery\x20Controls</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Click\x20to\x20lock\x20pointer\x20and\x20start\x20exploring.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Use\x20W,\x20A,\x20S,\x20D\x20to\x20move.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Use\x20Q\x20and\x20E\x20to\x20rotate\x20left/right.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Mouse\x20to\x20look\x20up/down.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Double-click\x20an\x20artwork\x20to\x20focus\x20and\x20open\x20slider.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Hold\x20Control\x20key\x20to\x20cycle\x20through\x20images\x20in\x20slider.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeInstructions\x22\x20style=\x22margin-top:10px;\x20padding:5px\x2010px;\x20background:#1e90ff;\x20border:none;\x20color:white;\x20border-radius:5px;\x20cursor:pointer;\x22>Close</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toggleControlsBtn','Untitled','createImageData','prevSliderImage','fov','nextImage','showAvatarInstructions','MeshPhysicalMaterial','sweet.mp3','baseScale','push','emissive','gallery_view.png','updateAutoRotate','moveTo','Group','rotation','Path','rooms','Clicked\x20image:\x20','üîÑ\x20Auto-rotation\x20disabled','append','innerHeight','YXZ','url','Escape','animationSpeedSlider','createElement','emissiveIntensity','parent','status','left','clientX','getImageData','Duplicate\x20image\x20content\x20detected\x20for\x20','minFilter','div','screenshotForm','load','revokeObjectURL','üé®\x20Images\x20rendered\x20in\x20room\x20','toggleAutoRotate','https://via.placeholder.com/350x250','title','autoRotateBtn','audioListener','classList','4660gXQLpB','devicePixelRatio','textContent','description','enablePan','nextSliderImage','Error\x20uploading\x20files:','camera','zoomSlider','isRecording','keyup','name','1261424VzNTKY','Mesh','toggleControls','Vector2','handleScreenshotSubmit','hidden-panel','getHex','userAgent','shadow','image-preview','sliderImages','Close\x20button\x20not\x20found\x20in\x20DOM','removeEventListener','DoubleSide','onCanvasClick','loadImages','start','animate','copy','block','pointerEvents','setSize','enableZoom','rotationSpeed','Unique\x20hashes:','quaternion','stopPropagation','avatarGroup','toggleObjectAnimation','normalize','updateCameraState','isFocused','isPlaying','.webm','SphereGeometry','max-width:\x20100px;\x20max-height:\x20100px;\x20margin:\x205px;\x20object-fit:\x20cover;','innerWidth','generateModernWallTexture','abs','\x22\x20placeholder=\x22Artist\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Using\x20server-provided\x20metadata:','2049uQftEF','description-','Max\x20retries\x20reached,\x20using\x20fallback','createAvatar','spot','mapSize','submitMetadata','resetCamera','MeshBasicMaterial','display','textureLoader','SpotLight','pointerlockchange','addLighting','unlock','appendChild','artist','capabilities','wrapT','minDistance','ondataavailable','movementX','DirectionalLight','body','setLoop','setupAvatarAnimation','bind','Unknown','basePos','shadowMap','hidden','sin','success','resize','scaleImage','backgroundAudio','lerpVectors','setBuffer','313278esSlvD','updateImageEffects','getContext','artist-','Click\x20to\x20enter\x20the\x20gallery.\x20Use\x20W,\x20A,\x20S,\x20D\x20to\x20move,\x20Q/E\x20to\x20rotate,\x20mouse\x20to\x20look\x20up/down,\x20double-click\x20art\x20to\x20focus,\x20click\x20avatar\x20for\x20help.','setItem','Error\x20capturing\x20screenshot:','imagesToLoad','clickDelay','removeChild','.children[3].rotation[z]','play','updateAvatarPosition','generateNoiseCanvas','addEventListener','near','sliderImage','updateLighting','fas\x20fa-eye-slash','onstop','clientY','imageSliderContainer','warn','CylinderGeometry','Slider\x20images\x20with\x20metadata:','onKeyUp','currentRoom','.control-panel','updateProjectionMatrix','CircleGeometry','computeImageHash','holes','handleZoom','Auto\x20Rotate','change','update','uploadForm','displayImagesInGallery','normalMap','value'];_0x8f96=function(){return _0x3fb74d;};return _0x8f96();}class ThreeJSApp{constructor(){const _0x40857e=_0x1c1d8a;this['scene']=new _0x2fc7a2[(_0x40857e(0x17b))](),this[_0x40857e(0x276)]=new _0x2fc7a2[(_0x40857e(0x1c5))](0x4b,window[_0x40857e(0x29f)]/window[_0x40857e(0x256)],0.1,0x3e8),this[_0x40857e(0x158)]=[{'position':new _0x2fc7a2[(_0x40857e(0x1da))](0x0,1.6,0xa),'lookAt':new _0x2fc7a2['Vector3'](0x0,1.6,0x0)}];const _0xa93f82=this[_0x40857e(0x158)][0x0];this['camera']['position'][_0x40857e(0x28d)](_0xa93f82[_0x40857e(0x174)]),this[_0x40857e(0x276)][_0x40857e(0x155)](_0xa93f82['lookAt']),this['renderer']=new _0x2fc7a2[(_0x40857e(0x209))]({'alpha':![],'antialias':!![],'preserveDrawingBuffer':!![]}),this[_0x40857e(0x1ee)]['setClearColor'](0x0,0x1),this[_0x40857e(0x1ee)][_0x40857e(0x2c1)][_0x40857e(0x19d)]=!![],this[_0x40857e(0x1ee)][_0x40857e(0x2c1)][_0x40857e(0x21c)]=_0x2fc7a2['PCFSoftShadowMap'],this['renderer'][_0x40857e(0x157)](window[_0x40857e(0x270)]),this[_0x40857e(0x1ee)][_0x40857e(0x290)](window[_0x40857e(0x29f)],window[_0x40857e(0x256)]),document[_0x40857e(0x2bb)][_0x40857e(0x2b3)](this[_0x40857e(0x1ee)]['domElement']),this['isSliderActive']=![],this[_0x40857e(0x14f)]=0x0,this[_0x40857e(0x285)]=[],this[_0x40857e(0x15a)]=![],this[_0x40857e(0x1d1)]=[],this[_0x40857e(0x1fb)]=[],this[_0x40857e(0x1d3)]=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i['test'](navigator[_0x40857e(0x282)])||_0x40857e(0x23a)in window,this['isMobile']?(this[_0x40857e(0x203)]=new OrbitControls(this[_0x40857e(0x276)],this[_0x40857e(0x1ee)][_0x40857e(0x18b)]),this[_0x40857e(0x203)]['target'][_0x40857e(0x28d)](_0xa93f82[_0x40857e(0x155)]),this[_0x40857e(0x203)]['enableDamping']=!![],this[_0x40857e(0x203)]['dampingFactor']=0.05,this[_0x40857e(0x203)][_0x40857e(0x2b7)]=0x1,this[_0x40857e(0x203)][_0x40857e(0x173)]=0x14,this[_0x40857e(0x203)][_0x40857e(0x273)]=!![],this[_0x40857e(0x203)][_0x40857e(0x291)]=!![]):(this[_0x40857e(0x203)]=new CustomPointerLockControls(this[_0x40857e(0x276)],this[_0x40857e(0x1ee)][_0x40857e(0x18b)]),this[_0x40857e(0x203)][_0x40857e(0x163)]()[_0x40857e(0x174)][_0x40857e(0x28d)](_0xa93f82[_0x40857e(0x174)])),this[_0x40857e(0x22e)]=[],this[_0x40857e(0x1e2)]=localStorage['getItem'](_0x40857e(0x1e2)),this[_0x40857e(0x2ae)]=new _0x2fc7a2[(_0x40857e(0x1b3))](),this[_0x40857e(0x26d)]=new _0x2fc7a2[(_0x40857e(0x1fd))](),this[_0x40857e(0x276)][_0x40857e(0x1c8)](this[_0x40857e(0x26d)]),this[_0x40857e(0x2c7)]=new _0x2fc7a2[(_0x40857e(0x225))](this[_0x40857e(0x26d)]),this['clickSound']=new _0x2fc7a2['Audio'](this[_0x40857e(0x26d)]),this['raycaster']=new _0x2fc7a2[(_0x40857e(0x16a))](),this[_0x40857e(0x177)]=new _0x2fc7a2[(_0x40857e(0x27e))](),this['selectedMesh']=null,this[_0x40857e(0x252)]=[],this[_0x40857e(0x2e4)]=0x0,this['isMoving']=![],this[_0x40857e(0x29a)]=![],this[_0x40857e(0x1ac)]=![],this[_0x40857e(0x19b)]={'position':this[_0x40857e(0x276)][_0x40857e(0x174)][_0x40857e(0x21e)](),'rotation':this['camera']['rotation'][_0x40857e(0x21e)](),'target':_0xa93f82['lookAt'][_0x40857e(0x21e)]()},this['lastClickTime']=0x0,this[_0x40857e(0x2d2)]=0x12c,this[_0x40857e(0x169)]=0.15,this[_0x40857e(0x292)]=0.05,this[_0x40857e(0x1d0)]={'w':![],'a':![],'s':![],'d':![],'q':![],'e':![]},this[_0x40857e(0x1f5)]=0x0,this[_0x40857e(0x1bb)]=[],this['glassSpotlights']=[],this[_0x40857e(0x217)]=[],this[_0x40857e(0x156)]=null,this['isRecording']=![],this[_0x40857e(0x149)]=[],this[_0x40857e(0x230)]=null,this[_0x40857e(0x23b)]=0.5,this[_0x40857e(0x233)]=![],this[_0x40857e(0x16c)]=document[_0x40857e(0x18d)](_0x40857e(0x16c)),this['animationMixer']=new _0x2fc7a2[(_0x40857e(0x17e))](this[_0x40857e(0x1ae)]),this[_0x40857e(0x17d)]=![],this['animationSpeed']=0x1,this[_0x40857e(0x2b1)](),this[_0x40857e(0x192)](),this[_0x40857e(0x15f)](),this[_0x40857e(0x1e3)](),this['createAvatar']();}['addLighting'](){const _0x489d77=_0x1c1d8a,_0x29e747=new _0x2fc7a2['AmbientLight'](0xffffff,0.5);this['scene'][_0x489d77(0x1c8)](_0x29e747);const _0x1f418a=new _0x2fc7a2[(_0x489d77(0x2ba))](0xffffff,0.8);_0x1f418a[_0x489d77(0x174)][_0x489d77(0x1d4)](0x0,0x14,0x14),_0x1f418a[_0x489d77(0x22f)]=!![],_0x1f418a[_0x489d77(0x283)][_0x489d77(0x2a9)][_0x489d77(0x14d)]=0x800,_0x1f418a[_0x489d77(0x283)][_0x489d77(0x2a9)]['height']=0x800,_0x1f418a[_0x489d77(0x283)]['camera'][_0x489d77(0x2d9)]=0.5,_0x1f418a[_0x489d77(0x283)][_0x489d77(0x276)][_0x489d77(0x1c7)]=0x64,this['scene'][_0x489d77(0x1c8)](_0x1f418a);}[_0x1c1d8a(0x192)](){const _0x39372b=_0x1c1d8a,_0x407cac=new _0x2fc7a2['TextureLoader'](),_0x2bea0e=new _0x2fc7a2[(_0x39372b(0x1fe))]({'color':0xf0e8e0,'roughness':0.3,'metalness':0.1}),_0xe3c7ce=new _0x2fc7a2[(_0x39372b(0x167))](this['generateNoiseCanvas'](0x100,0x100));_0xe3c7ce['needsUpdate']=!![],_0xe3c7ce[_0x39372b(0x1f7)]=_0xe3c7ce['wrapT']=_0x2fc7a2[_0x39372b(0x208)],_0xe3c7ce['repeat'][_0x39372b(0x1d4)](0x10,0x10),_0x2bea0e[_0x39372b(0x17a)]=_0xe3c7ce;const _0x154ffd=new _0x2fc7a2[(_0x39372b(0x1fe))]({'color':0xe0e0e0,'roughness':0.3,'metalness':0.2}),_0xf7621e=new _0x2fc7a2[(_0x39372b(0x247))]({'color':0x90a4ae,'transparent':!![],'opacity':0.5,'roughness':0.1,'metalness':0.4,'transmission':0.9,'clearcoat':0.5}),_0x2b9a13=new _0x2fc7a2['MeshStandardMaterial']({'color':0x212121,'roughness':0.3,'metalness':0.8}),_0x73cc94=new _0x2fc7a2[(_0x39372b(0x1fe))]({'color':0xffffff,'roughness':0.3,'metalness':0x0}),_0x1f1a25=new _0x2fc7a2[(_0x39372b(0x1fe))]({'color':0x424242,'roughness':0.4,'metalness':0.3}),_0x4da8d3=new _0x2fc7a2[(_0x39372b(0x167))](this[_0x39372b(0x2a0)](0x100,0x100));_0x4da8d3['needsUpdate']=!![],_0x4da8d3[_0x39372b(0x1f7)]=_0x4da8d3[_0x39372b(0x2b6)]=_0x2fc7a2['RepeatWrapping'],_0x4da8d3[_0x39372b(0x1dc)][_0x39372b(0x1d4)](0x4,0x4),_0x1f1a25[_0x39372b(0x147)]=_0x4da8d3,_0x1f1a25[_0x39372b(0x1a9)]['set'](0.3,0.3),this['ledMaterial']=new _0x2fc7a2['MeshStandardMaterial']({'color':0xe0e0e0,'emissive':0xe0e0e0,'emissiveIntensity':1.2,'roughness':0.2,'metalness':0.5});const _0x47d4e9=new _0x2fc7a2['Group'](),_0x101487=0x14,_0x11f1a5=0xc,_0x59a667=new _0x2fc7a2[(_0x39372b(0x27c))](new _0x2fc7a2[(_0x39372b(0x2e7))](_0x101487,0x40),_0x2bea0e);_0x59a667[_0x39372b(0x250)]['x']=-Math['PI']/0x2,_0x59a667[_0x39372b(0x174)]['y']=0x0,_0x59a667['receiveShadow']=!![],_0x47d4e9[_0x39372b(0x1c8)](_0x59a667);const _0x3c1e6b=new _0x2fc7a2[(_0x39372b(0x24f))](),_0x2bc685=0x2,_0xce52b3=0.2,_0x2c27d3=new _0x2fc7a2[(_0x39372b(0x2e1))](_0x2bc685,_0x2bc685,_0xce52b3,0x6);for(let _0x420fc6=-0x4;_0x420fc6<=0x4;_0x420fc6++){for(let _0x17ff09=-0x4;_0x17ff09<=0x4;_0x17ff09++){const _0x44ff5a=new _0x2fc7a2[(_0x39372b(0x27c))](_0x2c27d3,_0x154ffd),_0x2aae28=_0x17ff09*_0x2bc685*1.8+(_0x420fc6%0x2===0x0?0x0:_0x2bc685*0.9),_0x198438=_0x420fc6*_0x2bc685*1.5;Math[_0x39372b(0x15e)](_0x2aae28*_0x2aae28+_0x198438*_0x198438)<_0x101487-0x2&&(_0x44ff5a[_0x39372b(0x174)][_0x39372b(0x1d4)](_0x2aae28,_0x11f1a5-_0xce52b3/0x2,_0x198438),_0x44ff5a['rotation']['x']=Math['PI']/0x2,_0x44ff5a[_0x39372b(0x1de)]=!![],_0x3c1e6b['add'](_0x44ff5a));}}_0x47d4e9['add'](_0x3c1e6b),this['ceilingLights']=[];for(let _0x254945=0x0;_0x254945<0x6;_0x254945++){const _0x214fcb=_0x254945/0x6*Math['PI']*0x2,_0xe06a78=new _0x2fc7a2[(_0x39372b(0x2e1))](0.2,0.2,0.05,0x20),_0x128b57=new _0x2fc7a2['Mesh'](_0xe06a78,this[_0x39372b(0x156)]);_0x128b57[_0x39372b(0x174)][_0x39372b(0x1d4)](Math[_0x39372b(0x227)](_0x214fcb)*(_0x101487-0x4),_0x11f1a5-0.025,Math[_0x39372b(0x2c3)](_0x214fcb)*(_0x101487-0x4)),_0x128b57[_0x39372b(0x250)]['x']=Math['PI']/0x2,_0x47d4e9[_0x39372b(0x1c8)](_0x128b57);const _0x40b0cc=new _0x2fc7a2[(_0x39372b(0x2af))](0xffffff,1.5,0xf,Math['PI']/0x6,0.5);_0x40b0cc[_0x39372b(0x174)][_0x39372b(0x1d4)](Math['cos'](_0x214fcb)*(_0x101487-0x4),_0x11f1a5-0.1,Math[_0x39372b(0x2c3)](_0x214fcb)*(_0x101487-0x4)),_0x40b0cc['target'][_0x39372b(0x174)]['set'](Math['cos'](_0x214fcb)*(_0x101487-0x4),0x0,Math[_0x39372b(0x2c3)](_0x214fcb)*(_0x101487-0x4)),_0x40b0cc['castShadow']=!![],_0x47d4e9[_0x39372b(0x1c8)](_0x40b0cc),_0x47d4e9[_0x39372b(0x1c8)](_0x40b0cc['target']),this[_0x39372b(0x217)][_0x39372b(0x24a)]({'mesh':_0x128b57,'spot':_0x40b0cc});}this['glassSpotlights']=[];const _0x22e106=0xc;for(let _0x5bd334=0x0;_0x5bd334<_0x22e106;_0x5bd334++){const _0x3837c5=_0x5bd334/_0x22e106*Math['PI']*0x2,_0x114184=Math['PI']*0x2*_0x101487/_0x22e106,_0x1dc22a=new _0x2fc7a2['Shape']();_0x1dc22a[_0x39372b(0x24e)](-_0x114184/0x2,0x0),_0x1dc22a[_0x39372b(0x183)](_0x114184/0x2,0x0),_0x1dc22a[_0x39372b(0x183)](_0x114184/0x2-0.5,_0x11f1a5-1.5),_0x1dc22a['lineTo'](-_0x114184/0x2+0.5,_0x11f1a5-1.5),_0x1dc22a['lineTo'](-_0x114184/0x2,0x0);const _0x154735=new _0x2fc7a2[(_0x39372b(0x219))](_0x1dc22a,{'depth':0.1,'bevelEnabled':![]}),_0x3bff83=new _0x2fc7a2[(_0x39372b(0x27c))](_0x154735,_0xf7621e);_0x3bff83[_0x39372b(0x174)][_0x39372b(0x1d4)](Math[_0x39372b(0x227)](_0x3837c5)*_0x101487,0x0,Math[_0x39372b(0x2c3)](_0x3837c5)*_0x101487),_0x3bff83[_0x39372b(0x250)]['y']=_0x3837c5+Math['PI']/0x2,_0x3bff83[_0x39372b(0x22f)]=!![],_0x3bff83[_0x39372b(0x1de)]=!![],_0x3bff83[_0x39372b(0x1ec)]={'baseIntensity':0.8},_0x47d4e9[_0x39372b(0x1c8)](_0x3bff83);const _0x5a1a75=new _0x2fc7a2['BoxGeometry'](_0x114184*0.95,0.2,0.2),_0x3ddec1=new _0x2fc7a2[(_0x39372b(0x27c))](_0x5a1a75,_0x2b9a13);_0x3ddec1[_0x39372b(0x174)][_0x39372b(0x1d4)](Math[_0x39372b(0x227)](_0x3837c5)*_0x101487,_0x11f1a5-0.1,Math[_0x39372b(0x2c3)](_0x3837c5)*_0x101487),_0x3ddec1[_0x39372b(0x250)]['y']=_0x3837c5+Math['PI']/0x2,_0x3ddec1[_0x39372b(0x250)]['z']=Math['PI']/0xc,_0x3ddec1[_0x39372b(0x22f)]=!![],_0x47d4e9[_0x39372b(0x1c8)](_0x3ddec1);const _0x2ac741=new _0x2fc7a2[(_0x39372b(0x232))](0.15,_0x11f1a5-1.5,0.15),_0x4a6b69=new _0x2fc7a2[(_0x39372b(0x27c))](_0x2ac741,_0x2b9a13);_0x4a6b69[_0x39372b(0x174)][_0x39372b(0x1d4)](Math[_0x39372b(0x227)](_0x3837c5)*_0x101487-Math[_0x39372b(0x2c3)](_0x3837c5)*(_0x114184/0x2-0.1),(_0x11f1a5-1.5)/0x2,Math[_0x39372b(0x2c3)](_0x3837c5)*_0x101487+Math[_0x39372b(0x227)](_0x3837c5)*(_0x114184/0x2-0.1)),_0x4a6b69['rotation']['y']=_0x3837c5+Math['PI']/0x2,_0x4a6b69[_0x39372b(0x22f)]=!![],_0x47d4e9[_0x39372b(0x1c8)](_0x4a6b69);const _0x35e2c2=new _0x2fc7a2[(_0x39372b(0x27c))](_0x2ac741,_0x2b9a13);_0x35e2c2[_0x39372b(0x174)][_0x39372b(0x1d4)](Math[_0x39372b(0x227)](_0x3837c5)*_0x101487+Math[_0x39372b(0x2c3)](_0x3837c5)*(_0x114184/0x2-0.1),(_0x11f1a5-1.5)/0x2,Math[_0x39372b(0x2c3)](_0x3837c5)*_0x101487-Math['cos'](_0x3837c5)*(_0x114184/0x2-0.1)),_0x35e2c2['rotation']['y']=_0x3837c5+Math['PI']/0x2,_0x35e2c2[_0x39372b(0x22f)]=!![],_0x47d4e9[_0x39372b(0x1c8)](_0x35e2c2);const _0x67cbc8=new _0x2fc7a2['CylinderGeometry'](0.1,0.1,0.3,0x20),_0x13ae97=new _0x2fc7a2['Mesh'](_0x67cbc8,this['ledMaterial']);_0x13ae97['position'][_0x39372b(0x1d4)](Math[_0x39372b(0x227)](_0x3837c5)*_0x101487,_0x11f1a5-0.4,Math['sin'](_0x3837c5)*_0x101487),_0x13ae97['rotation']['y']=_0x3837c5+Math['PI']/0x2,_0x13ae97[_0x39372b(0x250)]['x']=-Math['PI']/0x4,_0x47d4e9['add'](_0x13ae97);const _0x5a2b1e=new _0x2fc7a2[(_0x39372b(0x2af))](0xffffff,0.8,0xa,Math['PI']/0x8,0.7);_0x5a2b1e[_0x39372b(0x174)][_0x39372b(0x28d)](_0x13ae97[_0x39372b(0x174)]),_0x5a2b1e[_0x39372b(0x20e)][_0x39372b(0x174)][_0x39372b(0x1d4)](Math[_0x39372b(0x227)](_0x3837c5)*_0x101487,(_0x11f1a5-1.5)/0x2,Math['sin'](_0x3837c5)*_0x101487),_0x5a2b1e[_0x39372b(0x22f)]=!![],_0x47d4e9[_0x39372b(0x1c8)](_0x5a2b1e),_0x47d4e9[_0x39372b(0x1c8)](_0x5a2b1e['target']),this[_0x39372b(0x182)][_0x39372b(0x24a)]({'mesh':_0x13ae97,'spot':_0x5a2b1e,'position':_0x5a2b1e['position'][_0x39372b(0x21e)]()});}this[_0x39372b(0x1bb)]=[];const _0x113343=0x8,_0x1a319c=0x4;for(let _0x3a14ee=0x0;_0x3a14ee<0x4;_0x3a14ee++){const _0x185d94=_0x3a14ee/0x4*Math['PI']*0x2+Math['PI']/0x8,_0x3d0fd1=new _0x2fc7a2[(_0x39372b(0x24f))](),_0xabe911=new _0x2fc7a2[(_0x39372b(0x20b))](_0x1a319c,_0x113343),_0x3a3c8e=new _0x2fc7a2[(_0x39372b(0x27c))](_0xabe911,_0x1f1a25);_0x3a3c8e[_0x39372b(0x174)][_0x39372b(0x1d4)](0x0,_0x113343/0x2,0x0),_0x3a3c8e[_0x39372b(0x22f)]=!![],_0x3a3c8e[_0x39372b(0x1de)]=!![],_0x3d0fd1[_0x39372b(0x1c8)](_0x3a3c8e);const _0x3ff334=0.4,_0x4bd04d=0.35,_0x27d6a2=new _0x2fc7a2[(_0x39372b(0x2e1))](_0x3ff334,_0x3ff334,_0x4bd04d,0x6);for(let _0x318237=0x0;_0x318237<0x6;_0x318237++){for(let _0x4d4ed8=0x0;_0x4d4ed8<0x5;_0x4d4ed8++){const _0x229fb8=new _0x2fc7a2[(_0x39372b(0x27c))](_0x27d6a2,_0x1f1a25),_0x3963dc=(_0x4d4ed8-0x2)*_0x3ff334*1.5+(_0x318237%0x2===0x0?0x0:_0x3ff334*0.75),_0x47b648=(_0x318237-2.5)*_0x3ff334*1.3;_0x229fb8[_0x39372b(0x174)][_0x39372b(0x1d4)](_0x3963dc,_0x47b648+_0x113343/0x2,_0x4bd04d/0x2),_0x229fb8[_0x39372b(0x250)]['x']=Math['PI']/0x2,_0x229fb8['castShadow']=!![],_0x229fb8[_0x39372b(0x1de)]=!![],_0x3d0fd1[_0x39372b(0x1c8)](_0x229fb8);}}const _0x55eb9b=new _0x2fc7a2['BoxGeometry'](0.1,_0x113343*0.85,0.1),_0x513df8=new _0x2fc7a2['Mesh'](_0x55eb9b,this[_0x39372b(0x156)]);_0x513df8[_0x39372b(0x174)][_0x39372b(0x1d4)](-_0x1a319c/0x2+0.2,_0x113343/0x2,_0x4bd04d+0.05),_0x3d0fd1['add'](_0x513df8);const _0x1ea650=new _0x2fc7a2[(_0x39372b(0x27c))](_0x55eb9b,this[_0x39372b(0x156)]);_0x1ea650[_0x39372b(0x174)][_0x39372b(0x1d4)](_0x1a319c/0x2-0.2,_0x113343/0x2,_0x4bd04d+0.05),_0x3d0fd1['add'](_0x1ea650),this[_0x39372b(0x1bb)][_0x39372b(0x24a)]({'left':_0x513df8,'right':_0x1ea650,'position':_0x3d0fd1[_0x39372b(0x174)][_0x39372b(0x21e)]()}),_0x3d0fd1[_0x39372b(0x174)][_0x39372b(0x1d4)](Math[_0x39372b(0x227)](_0x185d94)*(_0x101487-0x2),0x0,Math[_0x39372b(0x2c3)](_0x185d94)*(_0x101487-0x2)),_0x3d0fd1[_0x39372b(0x250)]['y']=_0x185d94+Math['PI']/0x2,_0x47d4e9[_0x39372b(0x1c8)](_0x3d0fd1);}const _0x20bc5e=new _0x2fc7a2['CylinderGeometry'](0x1,0x1,_0x11f1a5,0x20),_0x5c17ce=new _0x2fc7a2[(_0x39372b(0x27c))](_0x20bc5e,_0x73cc94);_0x5c17ce[_0x39372b(0x174)][_0x39372b(0x1d4)](0x0,_0x11f1a5/0x2,0x0),_0x5c17ce[_0x39372b(0x22f)]=!![],_0x5c17ce[_0x39372b(0x1de)]=!![],_0x47d4e9[_0x39372b(0x1c8)](_0x5c17ce);const _0x43d5cb=new _0x2fc7a2[(_0x39372b(0x2e1))](0.3,0.3,0.7,0x20),_0x46d0a9=new _0x2fc7a2[(_0x39372b(0x1fe))]({'color':0x616161}),_0x3e4ebb=new _0x2fc7a2['Mesh'](_0x43d5cb,_0x46d0a9);_0x3e4ebb[_0x39372b(0x174)][_0x39372b(0x1d4)](0x0,0.85,-0xa),_0x47d4e9[_0x39372b(0x1c8)](_0x3e4ebb),_0x47d4e9[_0x39372b(0x174)]['set'](0x0,0x0,0x0),this[_0x39372b(0x252)][_0x39372b(0x24a)](_0x47d4e9),this[_0x39372b(0x252)]['forEach'](_0x5b4f45=>this[_0x39372b(0x1ae)][_0x39372b(0x1c8)](_0x5b4f45));}['generateModernWallTexture'](_0x640fba,_0x39b8ca){const _0x2c5e5d=_0x1c1d8a,_0x1c4b19=document[_0x2c5e5d(0x25b)](_0x2c5e5d(0x17f));_0x1c4b19[_0x2c5e5d(0x14d)]=_0x640fba,_0x1c4b19['height']=_0x39b8ca;const _0x87325=_0x1c4b19[_0x2c5e5d(0x2cc)]('2d'),_0x30a6cf=_0x87325[_0x2c5e5d(0x242)](_0x640fba,_0x39b8ca);for(let _0x207345=0x0;_0x207345<_0x640fba;_0x207345++){for(let _0x27c320=0x0;_0x27c320<_0x39b8ca;_0x27c320++){const _0x2812e2=(_0x27c320*_0x640fba+_0x207345)*0x4,_0x408494=Math['sin'](_0x207345*0.05+_0x27c320*0.05)*0.5+0.5;_0x30a6cf[_0x2c5e5d(0x19f)][_0x2812e2]=_0x408494*0xff,_0x30a6cf['data'][_0x2812e2+0x1]=_0x408494*0xff,_0x30a6cf[_0x2c5e5d(0x19f)][_0x2812e2+0x2]=0xff,_0x30a6cf[_0x2c5e5d(0x19f)][_0x2812e2+0x3]=0xff;}}return _0x87325[_0x2c5e5d(0x18f)](_0x30a6cf,0x0,0x0),_0x1c4b19;}[_0x1c1d8a(0x2d7)](_0x559bf7,_0x895955){const _0xed2525=_0x1c1d8a,_0x2bd099=document['createElement']('canvas');_0x2bd099[_0xed2525(0x14d)]=_0x559bf7,_0x2bd099[_0xed2525(0x1e5)]=_0x895955;const _0x4a8038=_0x2bd099[_0xed2525(0x2cc)]('2d'),_0x291777=_0x4a8038[_0xed2525(0x242)](_0x559bf7,_0x895955);for(let _0x51d3fb=0x0;_0x51d3fb<_0x291777[_0xed2525(0x19f)][_0xed2525(0x186)];_0x51d3fb+=0x4){const _0xe18549=Math[_0xed2525(0x205)]()*0.1+0.9;_0x291777[_0xed2525(0x19f)][_0x51d3fb]=0x88*_0xe18549,_0x291777[_0xed2525(0x19f)][_0x51d3fb+0x1]=0x88*_0xe18549,_0x291777[_0xed2525(0x19f)][_0x51d3fb+0x2]=0x88*_0xe18549,_0x291777[_0xed2525(0x19f)][_0x51d3fb+0x3]=0xff;}return _0x4a8038[_0xed2525(0x18f)](_0x291777,0x0,0x0),_0x2bd099;}[_0x1c1d8a(0x2a7)](){const _0x5d1304=_0x1c1d8a;this[_0x5d1304(0x296)]=new _0x2fc7a2[(_0x5d1304(0x24f))]();const _0xc939bc=new _0x2fc7a2[(_0x5d1304(0x2ac))]({'color':0xffffff,'transparent':!![],'opacity':0.3}),_0xee2177=new _0x2fc7a2[(_0x5d1304(0x27c))](new _0x2fc7a2[(_0x5d1304(0x20b))](0.5,0.5),new _0x2fc7a2['MeshBasicMaterial']({'color':0xff00,'transparent':!![],'opacity':0x0}));_0xee2177[_0x5d1304(0x174)][_0x5d1304(0x1d4)](0x2,1.7,0x2),this[_0x5d1304(0x296)][_0x5d1304(0x1c8)](_0xee2177);const _0x413a93=new _0x2fc7a2[(_0x5d1304(0x27c))](new _0x2fc7a2[(_0x5d1304(0x2e1))](0.3,0.3,0x1,0x20),_0xc939bc);_0x413a93[_0x5d1304(0x174)][_0x5d1304(0x1d4)](0x2,0.5,0x2),this['avatarGroup'][_0x5d1304(0x1c8)](_0x413a93);const _0x401482=new _0x2fc7a2[(_0x5d1304(0x27c))](new _0x2fc7a2[(_0x5d1304(0x29d))](0.2,0x20,0x20),_0xc939bc);_0x401482['position'][_0x5d1304(0x1d4)](0x2,1.2,0x2),this[_0x5d1304(0x296)][_0x5d1304(0x1c8)](_0x401482);const _0x2ee9a9=new _0x2fc7a2[(_0x5d1304(0x2e1))](0.1,0.1,0.5,0x20),_0xfb66b0=new _0x2fc7a2[(_0x5d1304(0x27c))](_0x2ee9a9,_0xc939bc);_0xfb66b0[_0x5d1304(0x174)]['set'](1.7,0.7,0x2),_0xfb66b0['rotation']['z']=Math['PI']/0x4,this[_0x5d1304(0x296)][_0x5d1304(0x1c8)](_0xfb66b0);const _0x15f6fb=new _0x2fc7a2[(_0x5d1304(0x27c))](_0x2ee9a9,_0xc939bc);_0x15f6fb[_0x5d1304(0x174)][_0x5d1304(0x1d4)](2.3,0.7,0x2),_0x15f6fb[_0x5d1304(0x250)]['z']=-Math['PI']/0x4,this[_0x5d1304(0x296)][_0x5d1304(0x1c8)](_0x15f6fb);const _0x1d59a6=new _0x2fc7a2[(_0x5d1304(0x2e1))](0.1,0.1,0.5,0x20),_0x18f233=new _0x2fc7a2['Mesh'](_0x1d59a6,_0xc939bc);_0x18f233[_0x5d1304(0x174)]['set'](1.8,0.25,0x2),this['avatarGroup'][_0x5d1304(0x1c8)](_0x18f233);const _0x433f02=new _0x2fc7a2[(_0x5d1304(0x27c))](_0x1d59a6,_0xc939bc);_0x433f02[_0x5d1304(0x174)][_0x5d1304(0x1d4)](2.2,0.25,0x2),this[_0x5d1304(0x296)][_0x5d1304(0x1c8)](_0x433f02),this[_0x5d1304(0x296)][_0x5d1304(0x1ec)]={'isAvatar':!![]},this[_0x5d1304(0x1ae)][_0x5d1304(0x1c8)](this[_0x5d1304(0x296)]),this['setupAvatarAnimation'](),this[_0x5d1304(0x2d6)]();}[_0x1c1d8a(0x2bd)](){const _0x50a3d8=_0x1c1d8a,_0x4085f7=[0x0,0x1,0x2],_0x152f64=[[Math['PI']/0x4,-Math['PI']/0x4],[-Math['PI']/0x4,Math['PI']/0x4],[Math['PI']/0x4,-Math['PI']/0x4]],_0x484f8c=new _0x2fc7a2['NumberKeyframeTrack'](_0x50a3d8(0x2d4),_0x4085f7,_0x152f64[_0x50a3d8(0x17a)](_0x1b723a=>_0x1b723a[0x0])),_0x53d69f=new _0x2fc7a2[(_0x50a3d8(0x1b6))]('.children[4].rotation[z]',_0x4085f7,_0x152f64['map'](_0xd472ca=>_0xd472ca[0x1])),_0x3a52d9=new _0x2fc7a2[(_0x50a3d8(0x196))]('avatarWave',0x2,[_0x484f8c,_0x53d69f]),_0x2a1d86=this[_0x50a3d8(0x15b)]['clipAction'](_0x3a52d9,this[_0x50a3d8(0x296)]);_0x2a1d86[_0x50a3d8(0x2bc)](_0x2fc7a2[_0x50a3d8(0x184)]),_0x2a1d86[_0x50a3d8(0x2d5)]();}['updateAvatarPosition'](){const _0x117f8f=_0x1c1d8a;if(this[_0x117f8f(0x1d3)]){const _0x165534=this[_0x117f8f(0x252)][this[_0x117f8f(0x2e4)]][_0x117f8f(0x174)]['clone']();this[_0x117f8f(0x296)][_0x117f8f(0x174)][_0x117f8f(0x28d)](_0x165534),this[_0x117f8f(0x296)][_0x117f8f(0x174)]['y']=0.5;}else{const _0x4bb472=new _0x2fc7a2['Vector3']();this['camera'][_0x117f8f(0x1db)](_0x4bb472),_0x4bb472['y']=0x0,_0x4bb472[_0x117f8f(0x298)]()['multiplyScalar'](0x3),this[_0x117f8f(0x296)]['position'][_0x117f8f(0x28d)](this[_0x117f8f(0x276)]['position'])[_0x117f8f(0x1c8)](_0x4bb472),this[_0x117f8f(0x296)]['position']['y']=0.5;}}async[_0x1c1d8a(0x15f)](){const _0x2bae68=_0x1c1d8a;try{const _0x4d66bf=await this['loadAudio']('sweet.mp3');this[_0x2bae68(0x2c7)][_0x2bae68(0x2c9)](_0x4d66bf),this[_0x2bae68(0x2c7)][_0x2bae68(0x2bc)](!![]),this['backgroundAudio']['setVolume'](0.2),this[_0x2bae68(0x2c7)]['play']();const _0xc15833=await this[_0x2bae68(0x214)](_0x2bae68(0x248));this[_0x2bae68(0x20d)][_0x2bae68(0x2c9)](_0xc15833),this['clickSound']['setVolume'](0.5);}catch(_0x2db455){console[_0x2bae68(0x1be)](_0x2bae68(0x21b),_0x2db455);}}[_0x1c1d8a(0x214)](_0x4520af){return new Promise((_0x123fb9,_0x56629d)=>{const _0x6da3cb=_0x3969,_0x4b137c=new _0x2fc7a2[(_0x6da3cb(0x1f4))]();_0x4b137c['load'](_0x4520af,_0x189e7f=>_0x123fb9(_0x189e7f),undefined,_0x4bcf9a=>_0x56629d(_0x4bcf9a));});}[_0x1c1d8a(0x1dd)](){const _0x396442=_0x1c1d8a;console[_0x396442(0x236)]('üöÄ\x20Virtual\x20Gallery\x20loaded');if(this[_0x396442(0x1e2)])this[_0x396442(0x28a)](this[_0x396442(0x1e2)]);this[_0x396442(0x28c)](),window['addEventListener'](_0x396442(0x2c5),()=>this['handleResize']());}[_0x1c1d8a(0x28c)](){const _0xf4c8c5=_0x1c1d8a;requestAnimationFrame(()=>this[_0xf4c8c5(0x28c)]());const _0x5a14d5=0.016;this[_0xf4c8c5(0x1f5)]+=_0x5a14d5,this[_0xf4c8c5(0x144)](),this[_0xf4c8c5(0x2cb)](),this[_0xf4c8c5(0x2db)](),this['renderer']['render'](this[_0xf4c8c5(0x1ae)],this[_0xf4c8c5(0x276)]);if(this[_0xf4c8c5(0x1d3)])this['controls']['update']();this[_0xf4c8c5(0x2d6)]();if(this[_0xf4c8c5(0x278)]){}this[_0xf4c8c5(0x15b)]['update'](_0x5a14d5*this[_0xf4c8c5(0x152)]),this[_0xf4c8c5(0x1d8)]();}['startRecording'](){const _0x4197ff=_0x1c1d8a;if(this[_0x4197ff(0x278)])return;this[_0x4197ff(0x278)]=!![],this[_0x4197ff(0x149)]=[];const _0x1c57e8=this['renderer'][_0x4197ff(0x18b)]['captureStream'](0x1e);this[_0x4197ff(0x230)]=new MediaRecorder(_0x1c57e8,{'mimeType':_0x4197ff(0x198)}),this[_0x4197ff(0x230)][_0x4197ff(0x2b8)]=_0x4c7244=>{const _0x19bcaf=_0x4197ff;_0x4c7244[_0x19bcaf(0x19f)][_0x19bcaf(0x20a)]>0x0&&this[_0x19bcaf(0x149)][_0x19bcaf(0x24a)](_0x4c7244[_0x19bcaf(0x19f)]);},this['mediaRecorder'][_0x4197ff(0x2dd)]=()=>{this['saveRecording']();},this[_0x4197ff(0x230)][_0x4197ff(0x28b)](),document[_0x4197ff(0x18d)]('recordStatus')[_0x4197ff(0x26e)][_0x4197ff(0x204)](_0x4197ff(0x2c2)),console[_0x4197ff(0x236)](_0x4197ff(0x165));}[_0x1c1d8a(0x1eb)](){const _0x22d1c3=_0x1c1d8a;if(!this[_0x22d1c3(0x278)]||!this[_0x22d1c3(0x230)])return;this[_0x22d1c3(0x278)]=![],this[_0x22d1c3(0x230)]['stop'](),document[_0x22d1c3(0x18d)]('recordStatus')[_0x22d1c3(0x26e)][_0x22d1c3(0x1c8)](_0x22d1c3(0x2c2)),console[_0x22d1c3(0x236)]('üé•\x20Recording\x20stopped');}[_0x1c1d8a(0x21d)](){const _0x42ea3c=_0x1c1d8a,_0x683c78=new Blob(this[_0x42ea3c(0x149)],{'type':_0x42ea3c(0x198)}),_0x421685=URL[_0x42ea3c(0x1d9)](_0x683c78),_0xdb391b=document[_0x42ea3c(0x25b)]('a');_0xdb391b['href']=_0x421685,_0xdb391b[_0x42ea3c(0x1ff)]='gallery_recording_'+new Date()['toISOString']()+_0x42ea3c(0x29c),_0xdb391b[_0x42ea3c(0x1c1)](),URL[_0x42ea3c(0x267)](_0x421685),this[_0x42ea3c(0x149)]=[];}[_0x1c1d8a(0x269)](){const _0x177080=_0x1c1d8a;this[_0x177080(0x233)]=!this[_0x177080(0x233)];const _0x4ae1fe=document['getElementById'](_0x177080(0x26c));_0x4ae1fe[_0x177080(0x271)]=this[_0x177080(0x233)]?_0x177080(0x154):_0x177080(0x142),console[_0x177080(0x236)](this[_0x177080(0x233)]?_0x177080(0x1d6):_0x177080(0x254));}[_0x1c1d8a(0x297)](){const _0x597bed=_0x1c1d8a;this[_0x597bed(0x17d)]=!this[_0x597bed(0x17d)];const _0x1c6dd6=document[_0x597bed(0x18d)]('animateObjectsBtn');_0x1c6dd6['textContent']=this[_0x597bed(0x17d)]?'Stop\x20Animating':'Animate\x20Objects',console[_0x597bed(0x236)](this[_0x597bed(0x17d)]?'üé¨\x20Object\x20animation\x20enabled':_0x597bed(0x1f1));}[_0x1c1d8a(0x24d)](){const _0x24268b=_0x1c1d8a;if(this[_0x24268b(0x233)]&&!this[_0x24268b(0x29a)]){if(this['isMobile'])this[_0x24268b(0x203)][_0x24268b(0x23d)]+=_0x2fc7a2[_0x24268b(0x160)]['degToRad'](this[_0x24268b(0x23b)]),this[_0x24268b(0x203)][_0x24268b(0x144)]();else{if(this[_0x24268b(0x1ac)]){const _0x21d23c=new _0x2fc7a2['Euler'](0x0,0x0,0x0,_0x24268b(0x257));_0x21d23c[_0x24268b(0x207)](this['camera']['quaternion']),_0x21d23c['y']-=_0x2fc7a2[_0x24268b(0x160)][_0x24268b(0x1b0)](this['autoRotateSpeed']),this['camera'][_0x24268b(0x294)][_0x24268b(0x180)](_0x21d23c);}}}}[_0x1c1d8a(0x1d8)](){const _0xdd77ee=_0x1c1d8a;this[_0xdd77ee(0x17d)]&&(this[_0xdd77ee(0x22e)][_0xdd77ee(0x1b5)](_0x30bc20=>{const _0x4f07c2=_0xdd77ee;_0x30bc20['mesh'][_0x4f07c2(0x250)]['y']+=0.02*this[_0x4f07c2(0x152)];}),this[_0xdd77ee(0x1bb)][_0xdd77ee(0x1b5)](_0x5a26f6=>{const _0x11bdb7=_0xdd77ee;_0x5a26f6[_0x11bdb7(0x25f)][_0x11bdb7(0x250)]['y']+=0.03*this[_0x11bdb7(0x152)],_0x5a26f6[_0x11bdb7(0x239)][_0x11bdb7(0x250)]['y']+=0.03*this[_0x11bdb7(0x152)];}),this[_0xdd77ee(0x182)]['forEach'](_0x4935cd=>{const _0x198e81=_0xdd77ee;_0x4935cd[_0x198e81(0x1a7)]['rotation']['y']+=0.01*this['animationSpeed'];}));}[_0x1c1d8a(0x2db)](){const _0x2dc891=_0x1c1d8a,_0x41c8d7=this[_0x2dc891(0x1f5)]||0x0,_0x6cf913=(Math[_0x2dc891(0x2c3)](_0x41c8d7*0.5)+0x1)/0x2,_0x206f5f=new _0x2fc7a2['Color']()[_0x2dc891(0x23e)](_0x6cf913,0.5,0.7);this[_0x2dc891(0x156)][_0x2dc891(0x24b)][_0x2dc891(0x28d)](_0x206f5f),this['ledMaterial'][_0x2dc891(0x221)][_0x2dc891(0x28d)](_0x206f5f),this[_0x2dc891(0x1bb)][_0x2dc891(0x1b5)](_0x7cce4c=>{const _0xdc4a3e=_0x2dc891,_0x49ad60=this[_0xdc4a3e(0x276)][_0xdc4a3e(0x174)]['distanceTo'](_0x7cce4c['position']),_0x55bd69=Math['max'](0.8,Math['min'](1.5,0x2-_0x49ad60/0xa));_0x7cce4c[_0xdc4a3e(0x25f)]['material']['emissiveIntensity']=_0x55bd69,_0x7cce4c[_0xdc4a3e(0x239)][_0xdc4a3e(0x188)]['emissiveIntensity']=_0x55bd69;}),this[_0x2dc891(0x182)][_0x2dc891(0x1b5)](_0x4cad20=>{const _0x4aa26e=_0x2dc891,_0x3d16c5=this[_0x4aa26e(0x276)][_0x4aa26e(0x174)]['distanceTo'](_0x4cad20[_0x4aa26e(0x174)]),_0x137c34=Math[_0x4aa26e(0x14e)](0.8,Math[_0x4aa26e(0x22d)](0x2,0x3-_0x3d16c5/0x6));_0x4cad20['spot']['intensity']=_0x137c34,_0x4cad20['mesh']['material'][_0x4aa26e(0x25c)]=_0x137c34*0.8;});const _0x27db7a=1.5+Math[_0x2dc891(0x2c3)](_0x41c8d7*0x2)*0.3;this[_0x2dc891(0x217)][_0x2dc891(0x1b5)](_0x561911=>{const _0x3099de=_0x2dc891;_0x561911[_0x3099de(0x2a8)][_0x3099de(0x162)]=_0x27db7a,_0x561911[_0x3099de(0x1a7)][_0x3099de(0x188)]['emissiveIntensity']=_0x27db7a*0.8;});}[_0x1c1d8a(0x2cb)](){const _0xac4794=_0x1c1d8a;this['images'][_0xac4794(0x1b5)]((_0x2f174b,_0x476ce1)=>{const _0x2ea2d9=_0xac4794;if(_0x2f174b[_0x2ea2d9(0x1a7)]['material'][_0x2ea2d9(0x201)]){_0x2f174b['mesh'][_0x2ea2d9(0x188)]['uniforms'][_0x2ea2d9(0x1f5)][_0x2ea2d9(0x148)]=this['time']+_0x476ce1;const _0x5acc6c=_0x2f174b[_0x2ea2d9(0x1a7)]['parent'][_0x2ea2d9(0x1c3)]['find'](_0x5f3de4=>_0x5f3de4 instanceof _0x2fc7a2[_0x2ea2d9(0x2af)]&&_0x5f3de4[_0x2ea2d9(0x20e)]===_0x2f174b[_0x2ea2d9(0x1a7)]);_0x5acc6c&&(_0x5acc6c[_0x2ea2d9(0x162)]=0x2+Math[_0x2ea2d9(0x2c3)](this['time']*0x2+_0x476ce1)*0.2);}});}['setupEventListeners'](){const _0x417594=_0x1c1d8a,_0x22e3fb=document[_0x417594(0x25b)](_0x417594(0x264));_0x22e3fb['id']='tutorialOverlay',_0x22e3fb['style'][_0x417594(0x213)]='position:absolute;\x20top:50%;\x20left:50%;\x20transform:translate(-50%,\x20-50%);\x20color:white;\x20background:rgba(0,0,0,0.7);\x20padding:20px;\x20border-radius:5px;\x20z-index:11;\x20text-align:center;';this[_0x417594(0x1d3)]?_0x22e3fb[_0x417594(0x1fa)]='Swipe\x20to\x20look\x20around,\x20pinch\x20to\x20zoom,\x20tap\x20artwork\x20to\x20focus,\x20tap\x20avatar\x20for\x20help.':_0x22e3fb[_0x417594(0x1fa)]=_0x417594(0x2ce);document[_0x417594(0x2bb)][_0x417594(0x2b3)](_0x22e3fb),this[_0x417594(0x1ee)]['domElement'][_0x417594(0x2d8)](this[_0x417594(0x1d3)]?_0x417594(0x190):_0x417594(0x1c1),_0x1927fa=>this[_0x417594(0x289)](_0x1927fa));!this[_0x417594(0x1d3)]?(document['addEventListener']('keydown',_0x3d16aa=>this[_0x417594(0x175)](_0x3d16aa)),document[_0x417594(0x2d8)](_0x417594(0x279),_0x5616e2=>this[_0x417594(0x2e3)](_0x5616e2)),this['renderer'][_0x417594(0x18b)][_0x417594(0x2d8)]('click',()=>{const _0x23eaaf=_0x417594;!this[_0x23eaaf(0x1ac)]&&!this['isFocused']&&(this['controls']['lock'](),_0x22e3fb[_0x23eaaf(0x1b1)]['display']='none');}),document['addEventListener'](_0x417594(0x2b0),()=>{const _0x388c3c=_0x417594;this[_0x388c3c(0x1ac)]=document['pointerLockElement']===this[_0x388c3c(0x1ee)][_0x388c3c(0x18b)];if(!this['isLocked'])this[_0x388c3c(0x29a)]=![];}),document[_0x417594(0x2d8)](_0x417594(0x187),()=>{const _0x3334f6=_0x417594;console['error'](_0x3334f6(0x1a8));})):_0x22e3fb[_0x417594(0x1b1)]['display']=_0x417594(0x1cd);document['getElementById'](_0x417594(0x145))?.[_0x417594(0x2d8)](_0x417594(0x215),_0x49d879=>this[_0x417594(0x1c9)](_0x49d879)),document[_0x417594(0x18d)]('uploadForm')?.[_0x417594(0x2d8)](_0x417594(0x143),_0x3ae9c3=>this[_0x417594(0x1ad)](_0x3ae9c3)),document['getElementById'](_0x417594(0x265))?.['addEventListener'](_0x417594(0x215),_0xd037e7=>this[_0x417594(0x27f)](_0xd037e7)),document[_0x417594(0x18d)](_0x417594(0x1a5))?.['addEventListener']('click',()=>this[_0x417594(0x22a)]()),document[_0x417594(0x18d)](_0x417594(0x277))?.['addEventListener']('input',()=>this[_0x417594(0x141)]()),document[_0x417594(0x18d)]('toggleControlsBtn')?.[_0x417594(0x2d8)](_0x417594(0x1c1),()=>this[_0x417594(0x27d)]()),document['getElementById'](_0x417594(0x18a))?.['addEventListener'](_0x417594(0x1c1),()=>{const _0x51562c=_0x417594;this[_0x51562c(0x278)]?(this[_0x51562c(0x1eb)](),document[_0x51562c(0x18d)](_0x51562c(0x18a))[_0x51562c(0x271)]='Start\x20Recording'):(this[_0x51562c(0x1c6)](),document['getElementById'](_0x51562c(0x18a))['textContent']=_0x51562c(0x1c2));}),document[_0x417594(0x18d)](_0x417594(0x26c))?.[_0x417594(0x2d8)](_0x417594(0x1c1),()=>this[_0x417594(0x269)]()),document['getElementById'](_0x417594(0x1c4))?.['addEventListener'](_0x417594(0x1c1),()=>this[_0x417594(0x297)]()),document[_0x417594(0x18d)](_0x417594(0x25a))?.['addEventListener'](_0x417594(0x1aa),()=>{const _0x24d079=_0x417594,_0xc9c5fe=document['getElementById'](_0x24d079(0x25a)),_0x526f46=document[_0x24d079(0x18d)](_0x24d079(0x171));this[_0x24d079(0x152)]=parseFloat(_0xc9c5fe[_0x24d079(0x148)]),_0x526f46['textContent']=this['animationSpeed'][_0x24d079(0x220)](0x1);});if(!this[_0x417594(0x1d3)])document[_0x417594(0x18d)](_0x417594(0x1d5))?.[_0x417594(0x2d8)]('input',()=>{const _0x3e5496=_0x417594,_0x382fe1=document[_0x3e5496(0x18d)](_0x3e5496(0x1d5)),_0xa1be45=document[_0x3e5496(0x18d)](_0x3e5496(0x193)),_0x31d3de=parseFloat(_0x382fe1[_0x3e5496(0x148)]);_0xa1be45[_0x3e5496(0x271)]=_0x31d3de[_0x3e5496(0x220)](0x3),this['controls'][_0x3e5496(0x197)](_0x31d3de);});else{const _0x1e5ca8=document[_0x417594(0x189)]('.slider-group:last-child');if(_0x1e5ca8)_0x1e5ca8[_0x417594(0x1b1)][_0x417594(0x2ad)]=_0x417594(0x1cd);}const _0x3cf255=document[_0x417594(0x18d)]('prevImage'),_0x4bafc8=document[_0x417594(0x18d)](_0x417594(0x245)),_0x4c62cc=document[_0x417594(0x18d)]('closeSlider');_0x3cf255?_0x3cf255[_0x417594(0x2d8)]('click',_0x47ece5=>{const _0x65d04b=_0x417594;_0x47ece5['preventDefault'](),_0x47ece5[_0x65d04b(0x295)](),this[_0x65d04b(0x243)]();}):console[_0x417594(0x1be)]('Previous\x20button\x20not\x20found\x20in\x20DOM'),_0x4bafc8?_0x4bafc8[_0x417594(0x2d8)](_0x417594(0x1c1),_0x4f0577=>{const _0x142395=_0x417594;_0x4f0577[_0x142395(0x1c0)](),_0x4f0577['stopPropagation'](),this['nextSliderImage']();}):console['error'](_0x417594(0x1f0)),_0x4c62cc?_0x4c62cc[_0x417594(0x2d8)](_0x417594(0x1c1),_0x19e37d=>{const _0x2cb938=_0x417594;_0x19e37d[_0x2cb938(0x1c0)](),_0x19e37d[_0x2cb938(0x295)](),this[_0x2cb938(0x222)]();}):console[_0x417594(0x1be)](_0x417594(0x286)),document[_0x417594(0x2d8)]('keydown',_0x39b9c8=>{const _0x326ee6=_0x417594;if(this['isSliderActive']){if(_0x39b9c8['key']===_0x326ee6(0x1af))this[_0x326ee6(0x243)]();else{if(_0x39b9c8['key']==='ArrowRight')this[_0x326ee6(0x274)]();else _0x39b9c8[_0x326ee6(0x19a)]===_0x326ee6(0x259)&&this['closeSlider']();}}this['onKeyDown'](_0x39b9c8);}),document[_0x417594(0x2d8)]('pointerlockchange',()=>{const _0x50592b=_0x417594;this[_0x50592b(0x1ac)]=document[_0x50592b(0x1f9)]===this['renderer'][_0x50592b(0x18b)],!this[_0x50592b(0x1ac)]&&this[_0x50592b(0x181)]&&(document['getElementById'](_0x50592b(0x2df))[_0x50592b(0x1b1)]['pointerEvents']='auto');});}['showImagePreviewsAndMetadataPrompt'](_0x1d3bba){const _0x1d9c13=_0x1c1d8a,_0x22ea96=_0x1d3bba['target'][_0x1d9c13(0x1e4)];if(!_0x22ea96||!this['previewContainer'])return;this[_0x1d9c13(0x1d1)]=Array['from'](_0x22ea96),this[_0x1d9c13(0x16c)][_0x1d9c13(0x1fa)]='',Array[_0x1d9c13(0x20c)](_0x22ea96)[_0x1d9c13(0x1b5)](_0x26cf0f=>{const _0x2b171f=_0x1d9c13;if(_0x26cf0f[_0x2b171f(0x21c)][_0x2b171f(0x1d2)]('image/')){const _0x437ae1=new FileReader();_0x437ae1[_0x2b171f(0x151)]=_0x20a47f=>{const _0x15a538=_0x2b171f,_0x5cdc5f=document[_0x15a538(0x25b)]('img');_0x5cdc5f['src']=_0x20a47f[_0x15a538(0x20e)][_0x15a538(0x16f)],_0x5cdc5f['className']=_0x15a538(0x284),_0x5cdc5f[_0x15a538(0x1b1)]['cssText']=_0x15a538(0x29e),this[_0x15a538(0x16c)][_0x15a538(0x2b3)](_0x5cdc5f);},_0x437ae1['readAsDataURL'](_0x26cf0f);}}),this['showMetadataModal']();}['showMetadataModal'](){const _0x3d9cd0=_0x1c1d8a,_0x433fe8=document[_0x3d9cd0(0x18d)](_0x3d9cd0(0x1b4)),_0x1bb2e9=document[_0x3d9cd0(0x18d)]('metadataInputs');_0x1bb2e9[_0x3d9cd0(0x1fa)]='',this['pendingFiles'][_0x3d9cd0(0x1b5)]((_0xef2a5e,_0x487249)=>{const _0x43e28b=_0x3d9cd0,_0x258610=document[_0x43e28b(0x25b)]('div');_0x258610['innerHTML']=_0x43e28b(0x21f)+_0xef2a5e[_0x43e28b(0x27a)]+_0x43e28b(0x172)+_0x487249+_0x43e28b(0x194)+_0xef2a5e[_0x43e28b(0x27a)]['split']('.')[0x0]+_0x43e28b(0x1a3)+_0x487249+_0x43e28b(0x150)+_0x487249+_0x43e28b(0x2a2),_0x1bb2e9['appendChild'](_0x258610);}),_0x433fe8['style'][_0x3d9cd0(0x2ad)]=_0x3d9cd0(0x28e),document[_0x3d9cd0(0x18d)](_0x3d9cd0(0x2aa))['onclick']=()=>this[_0x3d9cd0(0x2aa)](),document['getElementById'](_0x3d9cd0(0x1a6))[_0x3d9cd0(0x1a4)]=()=>{const _0x24e6b9=_0x3d9cd0;_0x433fe8[_0x24e6b9(0x1b1)][_0x24e6b9(0x2ad)]=_0x24e6b9(0x1cd),this[_0x24e6b9(0x1d1)]=[],this[_0x24e6b9(0x16c)][_0x24e6b9(0x1fa)]='',document['getElementById'](_0x24e6b9(0x22e))[_0x24e6b9(0x148)]='';};}[_0x1c1d8a(0x2aa)](){const _0x4d640d=_0x1c1d8a,_0x1be557=document['getElementById']('metadataModal');this[_0x4d640d(0x1fb)]=this[_0x4d640d(0x1d1)][_0x4d640d(0x17a)]((_0x5612dc,_0x5649e2)=>({'filename':_0x5612dc[_0x4d640d(0x27a)],'title':document['getElementById']('title-'+_0x5649e2)[_0x4d640d(0x148)]||_0x5612dc[_0x4d640d(0x27a)][_0x4d640d(0x1cf)]('.')[0x0],'description':document[_0x4d640d(0x18d)](_0x4d640d(0x2a5)+_0x5649e2)[_0x4d640d(0x148)]||'','artist':document[_0x4d640d(0x18d)](_0x4d640d(0x2cd)+_0x5649e2)[_0x4d640d(0x148)]||'Unknown'})),_0x1be557['style']['display']=_0x4d640d(0x1cd),this[_0x4d640d(0x1c9)]({'preventDefault':()=>{}});}[_0x1c1d8a(0x27d)](){const _0x144411=_0x1c1d8a;this['controlsVisible']=!this[_0x144411(0x195)];const _0x4573d5=document[_0x144411(0x1a0)](_0x144411(0x2e5)),_0x54d7a9=document[_0x144411(0x18d)](_0x144411(0x240));_0x4573d5[_0x144411(0x1b5)](_0x64707b=>{const _0x1bb025=_0x144411;_0x64707b['classList'][_0x1bb025(0x216)](_0x1bb025(0x280),!this[_0x1bb025(0x195)]);}),_0x54d7a9['textContent']=this[_0x144411(0x195)]?'Hide\x20Controls':'Show\x20Controls',_0x54d7a9[_0x144411(0x189)]('i')&&(_0x54d7a9['querySelector']('i')[_0x144411(0x22b)]=this[_0x144411(0x195)]?_0x144411(0x1e6):_0x144411(0x2dc)),console[_0x144411(0x236)](this[_0x144411(0x195)]?'üñ•Ô∏è\x20Controls\x20visible':'üñ•Ô∏è\x20Controls\x20hidden');}[_0x1c1d8a(0x175)](_0x4df3fb){const _0x260cf1=_0x1c1d8a;switch(_0x4df3fb['key'][_0x260cf1(0x1f6)]()){case'w':this[_0x260cf1(0x1d0)]['w']=!![];break;case'a':this[_0x260cf1(0x1d0)]['a']=!![];break;case's':this[_0x260cf1(0x1d0)]['s']=!![];break;case'd':this['keys']['d']=!![];break;case'q':this[_0x260cf1(0x1d0)]['q']=!![];break;case'e':this[_0x260cf1(0x1d0)]['e']=!![];break;case _0x260cf1(0x210):this[_0x260cf1(0x203)][_0x260cf1(0x2b2)]();break;}}[_0x1c1d8a(0x2e3)](_0x3f7789){const _0x427ded=_0x1c1d8a;switch(_0x3f7789[_0x427ded(0x19a)]['toLowerCase']()){case'w':this[_0x427ded(0x1d0)]['w']=![];break;case'a':this['keys']['a']=![];break;case's':this[_0x427ded(0x1d0)]['s']=![];break;case'd':this[_0x427ded(0x1d0)]['d']=![];break;case'q':this['keys']['q']=![];break;case'e':this[_0x427ded(0x1d0)]['e']=![];break;}}[_0x1c1d8a(0x144)](){const _0x51172a=_0x1c1d8a;if(!this['isMobile']&&this[_0x51172a(0x1ac)]&&!this['isMoving']&&!this[_0x51172a(0x29a)]){const _0x7d2ebd=new _0x2fc7a2[(_0x51172a(0x1da))](),_0x21275c=new _0x2fc7a2[(_0x51172a(0x1da))]();this['camera'][_0x51172a(0x1db)](_0x21275c),_0x21275c['y']=0x0,_0x21275c[_0x51172a(0x298)]();if(this['keys']['w'])_0x7d2ebd[_0x51172a(0x223)](_0x21275c,this[_0x51172a(0x169)]);if(this['keys']['s'])_0x7d2ebd['addScaledVector'](_0x21275c,-this[_0x51172a(0x169)]);if(this[_0x51172a(0x1d0)]['a']){const _0x49dac6=new _0x2fc7a2['Vector3']()[_0x51172a(0x16b)](this[_0x51172a(0x276)]['up'],_0x21275c)[_0x51172a(0x298)]();_0x7d2ebd[_0x51172a(0x223)](_0x49dac6,-this['moveSpeed']);}if(this[_0x51172a(0x1d0)]['d']){const _0x409982=new _0x2fc7a2[(_0x51172a(0x1da))]()[_0x51172a(0x16b)](this[_0x51172a(0x276)]['up'],_0x21275c)[_0x51172a(0x298)]();_0x7d2ebd['addScaledVector'](_0x409982,this[_0x51172a(0x169)]);}this[_0x51172a(0x203)][_0x51172a(0x163)]()[_0x51172a(0x174)][_0x51172a(0x1c8)](_0x7d2ebd),this[_0x51172a(0x178)]();const _0x227f9f=new _0x2fc7a2[(_0x51172a(0x14c))](0x0,0x0,0x0,_0x51172a(0x257));_0x227f9f[_0x51172a(0x207)](this[_0x51172a(0x276)]['quaternion']);if(this[_0x51172a(0x1d0)]['q'])_0x227f9f['y']+=this[_0x51172a(0x292)];if(this[_0x51172a(0x1d0)]['e'])_0x227f9f['y']-=this[_0x51172a(0x292)];this[_0x51172a(0x276)][_0x51172a(0x294)][_0x51172a(0x180)](_0x227f9f);}this[_0x51172a(0x24d)]();}['checkCollisions'](){const _0x3def80=_0x1c1d8a;if(!this[_0x3def80(0x1d3)]){this[_0x3def80(0x276)][_0x3def80(0x174)]['y']=1.6;const _0x290ab2=this[_0x3def80(0x252)][this['currentRoom']][_0x3def80(0x174)],_0x5258fd=_0x290ab2['x']-0xf,_0x133297=_0x290ab2['x']+0xf,_0x511b83=_0x290ab2['z']-0xf,_0x18a4f6=_0x290ab2['z']+0xf;this['camera'][_0x3def80(0x174)]['x']=Math[_0x3def80(0x14e)](_0x5258fd,Math[_0x3def80(0x22d)](_0x133297,this[_0x3def80(0x276)][_0x3def80(0x174)]['x'])),this[_0x3def80(0x276)][_0x3def80(0x174)]['z']=Math[_0x3def80(0x14e)](_0x511b83,Math['min'](_0x18a4f6,this['camera'][_0x3def80(0x174)]['z'])),this[_0x3def80(0x203)]['getObject']()[_0x3def80(0x174)][_0x3def80(0x28d)](this[_0x3def80(0x276)][_0x3def80(0x174)]);}}async[_0x1c1d8a(0x2e8)](_0x2feef2){return new Promise(_0x377f8c=>{const _0x235e9b=_0x3969,_0x5a2af0=_0x2feef2[_0x235e9b(0x206)],_0x226a2c=document[_0x235e9b(0x25b)](_0x235e9b(0x17f));_0x226a2c['width']=_0x5a2af0[_0x235e9b(0x14d)],_0x226a2c[_0x235e9b(0x1e5)]=_0x5a2af0[_0x235e9b(0x1e5)];const _0xb7ef50=_0x226a2c['getContext']('2d');_0xb7ef50[_0x235e9b(0x20f)](_0x5a2af0,0x0,0x0);const _0x433b05=_0xb7ef50[_0x235e9b(0x261)](0x0,0x0,_0x5a2af0[_0x235e9b(0x14d)],_0x5a2af0['height'])[_0x235e9b(0x19f)];let _0x560356=0x0;for(let _0x16bc7a=0x0;_0x16bc7a<_0x433b05[_0x235e9b(0x186)];_0x16bc7a+=0x4){_0x560356+=_0x433b05[_0x16bc7a]+_0x433b05[_0x16bc7a+0x1]+_0x433b05[_0x16bc7a+0x2]+_0x433b05[_0x16bc7a+0x3];}_0x377f8c(_0x560356['toString']());});}async[_0x1c1d8a(0x28a)](_0x2b2664){const _0x4f130b=_0x1c1d8a,_0x116965=0x3;let _0x58b00a=0x0;while(_0x58b00a<_0x116965){try{const _0x355281=await fetch('/api/screenshots/'+_0x2b2664+'/');if(!_0x355281['ok'])throw new Error(_0x4f130b(0x234)+_0x355281[_0x4f130b(0x25e)]);const _0x2383a4=await _0x355281['json']();console[_0x4f130b(0x236)](_0x4f130b(0x1e0),_0x2b2664,':',_0x2383a4);!_0x2383a4[_0x4f130b(0x18e)]?.[_0x4f130b(0x186)]?(console[_0x4f130b(0x236)](_0x4f130b(0x1e7)),this[_0x4f130b(0x2d1)]=[_0x4f130b(0x26a),_0x4f130b(0x26a)],this['metadata']=[]):(this[_0x4f130b(0x2d1)]=_0x2383a4[_0x4f130b(0x18e)],this[_0x4f130b(0x1fb)]=_0x2383a4[_0x4f130b(0x1fb)]||[],!this[_0x4f130b(0x1fb)][_0x4f130b(0x186)]&&_0x2383a4[_0x4f130b(0x18e)][_0x4f130b(0x186)]?(this[_0x4f130b(0x1fb)]=_0x2383a4[_0x4f130b(0x18e)][_0x4f130b(0x17a)](_0xa20726=>({'filename':_0xa20726['split']('/')['pop'](),'title':_0x4f130b(0x241),'description':'','artist':'Unknown'})),console[_0x4f130b(0x236)]('Generated\x20fallback\x20metadata:',this[_0x4f130b(0x1fb)])):console[_0x4f130b(0x236)](_0x4f130b(0x2a3),this[_0x4f130b(0x1fb)]));await this[_0x4f130b(0x146)]();return;}catch(_0x17c8cd){console[_0x4f130b(0x1be)](_0x4f130b(0x1e9)+_0x58b00a+'):',_0x17c8cd),_0x58b00a++,_0x58b00a===_0x116965?(console[_0x4f130b(0x1be)](_0x4f130b(0x2a6)),this[_0x4f130b(0x2d1)]=['https://via.placeholder.com/350x250','https://via.placeholder.com/350x250'],this['metadata']=[],await this[_0x4f130b(0x146)]()):await new Promise(_0x16b9f0=>setTimeout(_0x16b9f0,0x1f4*_0x58b00a));}}}async[_0x1c1d8a(0x146)](){const _0x1d5c96=_0x1c1d8a;if(!this[_0x1d5c96(0x2d1)])return;this[_0x1d5c96(0x191)]();const _0x18ff53=this[_0x1d5c96(0x2d1)][_0x1d5c96(0x186)];let _0x57fc81=0x0;const _0x33dd48=new Set(),_0x11b21a=new _0x2fc7a2['MeshStandardMaterial']({'color':0x333333,'roughness':0.5,'metalness':0.8}),_0x2b9f90=new _0x2fc7a2[(_0x1d5c96(0x1fe))]({'color':0xff0000,'roughness':0.5,'metalness':0x0}),_0x6de1ca=this[_0x1d5c96(0x252)][0x0],_0x4de41c=0x1e,_0x415800=0x4,_0x284dff=0x3,_0x575ddb=0.2,_0x4a8a11=Math[_0x1d5c96(0x170)](this['imagesToLoad']['length']/0x4),_0x5ed980=_0x4de41c/(_0x4a8a11+0x1),_0x3ce823=0.5,_0x4df079=Math['min'](0x10,_0x4a8a11*0x4),_0x37228c=[{'basePos':new _0x2fc7a2[(_0x1d5c96(0x1da))](0x0,2.5,-_0x4de41c/0x2+_0x3ce823),'rot':0x0,'dir':'x'},{'basePos':new _0x2fc7a2[(_0x1d5c96(0x1da))](-_0x4de41c/0x2+_0x3ce823,2.5,0x0),'rot':Math['PI']/0x2,'dir':'z'},{'basePos':new _0x2fc7a2['Vector3'](_0x4de41c/0x2-_0x3ce823,2.5,0x0),'rot':-Math['PI']/0x2,'dir':'z'},{'basePos':new _0x2fc7a2[(_0x1d5c96(0x1da))](0x0,2.5,_0x4de41c/0x2-_0x3ce823),'rot':Math['PI'],'dir':'x'}];for(let _0x12adc3 of _0x37228c){if(_0x57fc81>=_0x18ff53||this[_0x1d5c96(0x22e)][_0x1d5c96(0x186)]>=_0x4df079)break;const _0x2f4892=[];for(let _0x457cbb=0x0;_0x457cbb<_0x4a8a11&&_0x57fc81<_0x18ff53&&this['images']['length']<_0x4df079;_0x457cbb++){const _0x5c817a=-_0x4de41c/0x2+(_0x457cbb+0.5)*(_0x4de41c/_0x4a8a11),_0x48ad67=_0x12adc3[_0x1d5c96(0x2c0)][_0x1d5c96(0x21e)]();if(_0x12adc3[_0x1d5c96(0x1ea)]==='x')_0x48ad67['x']+=_0x5c817a;else _0x48ad67['z']+=_0x5c817a;_0x2f4892['push']({'pos':_0x48ad67,'rot':_0x12adc3[_0x1d5c96(0x22c)]});}for(let {pos:_0x5f1278,rot:_0x422bba}of _0x2f4892){if(_0x57fc81>=_0x18ff53)break;const _0x546896=this[_0x1d5c96(0x2d1)][_0x57fc81],_0x4434fb=this[_0x1d5c96(0x1fb)]['find'](_0x470cab=>_0x470cab['filename']===_0x546896['split']('/')['pop']())||{'title':_0x1d5c96(0x241),'description':'','artist':_0x1d5c96(0x2bf)};console[_0x1d5c96(0x236)](_0x1d5c96(0x229)+_0x546896+':',_0x4434fb);try{const _0x132097=await this[_0x1d5c96(0x228)](_0x546896),_0x815edc=await this['computeImageHash'](_0x132097);if(_0x33dd48[_0x1d5c96(0x237)](_0x815edc)){console[_0x1d5c96(0x2e0)](_0x1d5c96(0x262)+_0x546896+'\x20with\x20hash\x20'+_0x815edc+_0x1d5c96(0x211)),_0x57fc81++;continue;}_0x33dd48[_0x1d5c96(0x1c8)](_0x815edc);let _0xa39f81;_0x132097[_0x1d5c96(0x206)]?_0xa39f81=new _0x2fc7a2['ShaderMaterial']({'uniforms':{'map':{'value':_0x132097},'opacity':{'value':0x1},'time':{'value':0x0}},'vertexShader':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vNormal\x20=\x20normalMatrix\x20*\x20normal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fragmentShader':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20map;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20time;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color\x20=\x20texture2D(map,\x20vUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(color.a\x20<\x200.5)\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(color.rgb,\x20color.a\x20*\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','transparent':!![],'side':_0x2fc7a2[_0x1d5c96(0x288)]}):_0xa39f81=_0x2b9f90;const _0x1af65b=_0x132097[_0x1d5c96(0x206)]?_0x132097[_0x1d5c96(0x206)]['width']/_0x132097['image']['height']:0x1,_0x484aa7=0x4,_0x1b1f84=Math[_0x1d5c96(0x22d)](_0x284dff*_0x1af65b,_0x484aa7),_0x2bf5ab=new _0x2fc7a2[(_0x1d5c96(0x232))](_0x1b1f84,_0x284dff,_0x575ddb),_0x1b5116=new _0x2fc7a2[(_0x1d5c96(0x27c))](_0x2bf5ab,_0xa39f81);_0x1b5116['position'][_0x1d5c96(0x28d)](_0x5f1278)[_0x1d5c96(0x1c8)](_0x6de1ca[_0x1d5c96(0x174)]),_0x1b5116[_0x1d5c96(0x250)]['y']=_0x422bba,_0x1b5116[_0x1d5c96(0x22f)]=!![],_0x1b5116[_0x1d5c96(0x1de)]=!![],_0x1b5116['userData']={'filename':_0x546896,'hash':_0x815edc,'baseScale':_0x1b5116[_0x1d5c96(0x1ed)][_0x1d5c96(0x21e)](),'metadata':{'title':_0x4434fb[_0x1d5c96(0x26b)],'description':_0x4434fb['description'],'artist':_0x4434fb['artist']}},_0x6de1ca[_0x1d5c96(0x1c8)](_0x1b5116),this[_0x1d5c96(0x22e)][_0x1d5c96(0x24a)]({'mesh':_0x1b5116,'filename':_0x546896,'hash':_0x815edc,'metadata':_0x4434fb});const _0x10ef5e=0.1,_0x3369fc=new _0x2fc7a2[(_0x1d5c96(0x16d))]();_0x3369fc['moveTo'](-_0x1b1f84/0x2-_0x10ef5e,-_0x284dff/0x2-_0x10ef5e),_0x3369fc['lineTo'](_0x1b1f84/0x2+_0x10ef5e,-_0x284dff/0x2-_0x10ef5e),_0x3369fc['lineTo'](_0x1b1f84/0x2+_0x10ef5e,_0x284dff/0x2+_0x10ef5e),_0x3369fc[_0x1d5c96(0x183)](-_0x1b1f84/0x2-_0x10ef5e,_0x284dff/0x2+_0x10ef5e),_0x3369fc[_0x1d5c96(0x183)](-_0x1b1f84/0x2-_0x10ef5e,-_0x284dff/0x2-_0x10ef5e);const _0x3fb21b=new _0x2fc7a2[(_0x1d5c96(0x251))]();_0x3fb21b[_0x1d5c96(0x24e)](-_0x1b1f84/0x2,-_0x284dff/0x2),_0x3fb21b['lineTo'](_0x1b1f84/0x2,-_0x284dff/0x2),_0x3fb21b[_0x1d5c96(0x183)](_0x1b1f84/0x2,_0x284dff/0x2),_0x3fb21b[_0x1d5c96(0x183)](-_0x1b1f84/0x2,_0x284dff/0x2),_0x3fb21b['lineTo'](-_0x1b1f84/0x2,-_0x284dff/0x2),_0x3369fc[_0x1d5c96(0x140)][_0x1d5c96(0x24a)](_0x3fb21b);const _0x430400={'depth':_0x10ef5e,'bevelEnabled':![]},_0x5f36bb=new _0x2fc7a2['ExtrudeGeometry'](_0x3369fc,_0x430400),_0x5c25c1=new _0x2fc7a2[(_0x1d5c96(0x27c))](_0x5f36bb,_0x11b21a);_0x5c25c1[_0x1d5c96(0x174)][_0x1d5c96(0x28d)](_0x1b5116[_0x1d5c96(0x174)]),_0x5c25c1[_0x1d5c96(0x174)]['z']+=_0x422bba===0x0?-_0x575ddb/0x2:_0x422bba===Math['PI']?_0x575ddb/0x2:0x0,_0x5c25c1[_0x1d5c96(0x174)]['x']+=_0x422bba===Math['PI']/0x2?-_0x575ddb/0x2:_0x422bba===-Math['PI']/0x2?_0x575ddb/0x2:0x0,_0x5c25c1[_0x1d5c96(0x250)]['y']=_0x422bba,_0x5c25c1[_0x1d5c96(0x22f)]=!![],_0x5c25c1[_0x1d5c96(0x1de)]=!![],_0x6de1ca['add'](_0x5c25c1);const _0x301160=new _0x2fc7a2[(_0x1d5c96(0x2af))](0xffffff,0x2,0x14,Math['PI']/0x6,0.7),_0x4353fa=0x2;_0x301160[_0x1d5c96(0x174)]['set'](_0x5f1278['x']+(Math[_0x1d5c96(0x2a1)](_0x422bba)===Math['PI']/0x2?_0x422bba>0x0?_0x4353fa:-_0x4353fa:0x0),0x6,_0x5f1278['z']+(Math[_0x1d5c96(0x2a1)](_0x422bba)===Math['PI']/0x2?0x0:_0x422bba===0x0?-_0x4353fa:_0x4353fa))[_0x1d5c96(0x1c8)](_0x6de1ca['position']),_0x301160[_0x1d5c96(0x20e)]=_0x1b5116,_0x301160[_0x1d5c96(0x22f)]=!![],_0x301160[_0x1d5c96(0x283)][_0x1d5c96(0x2a9)][_0x1d5c96(0x14d)]=0x400,_0x301160['shadow']['mapSize'][_0x1d5c96(0x1e5)]=0x400,_0x301160[_0x1d5c96(0x283)]['bias']=-0.0001,_0x6de1ca[_0x1d5c96(0x1c8)](_0x301160),_0x57fc81++;}catch(_0x4c3187){console['error'](_0x1d5c96(0x1bc)+this[_0x1d5c96(0x2d1)][_0x57fc81]+':',_0x4c3187),_0x57fc81++;}}}console[_0x1d5c96(0x236)](_0x1d5c96(0x268)+this[_0x1d5c96(0x2e4)]+':',this[_0x1d5c96(0x22e)]['length'],_0x1d5c96(0x293),_0x33dd48[_0x1d5c96(0x20a)]);}[_0x1c1d8a(0x191)](){const _0x3944c4=_0x1c1d8a;this[_0x3944c4(0x22e)][_0x3944c4(0x1b5)](_0x29349f=>{const _0x5a5941=_0x3944c4;_0x29349f['mesh']['parent']&&_0x29349f[_0x5a5941(0x1a7)][_0x5a5941(0x25d)][_0x5a5941(0x204)](_0x29349f['mesh']);_0x29349f[_0x5a5941(0x1a7)][_0x5a5941(0x153)][_0x5a5941(0x14b)]();if(_0x29349f[_0x5a5941(0x1a7)]['material'][_0x5a5941(0x17a)])_0x29349f[_0x5a5941(0x1a7)][_0x5a5941(0x188)][_0x5a5941(0x17a)][_0x5a5941(0x14b)]();_0x29349f[_0x5a5941(0x1a7)][_0x5a5941(0x188)][_0x5a5941(0x14b)]();}),this['images']=[],this[_0x3944c4(0x252)][_0x3944c4(0x1b5)](_0x463ef5=>{const _0x12cd30=_0x3944c4,_0x428815=_0x463ef5[_0x12cd30(0x1c3)][_0x12cd30(0x23c)](_0x199f8f=>_0x199f8f instanceof _0x2fc7a2[_0x12cd30(0x2af)]||_0x199f8f[_0x12cd30(0x188)]?.[_0x12cd30(0x221)]?.[_0x12cd30(0x281)]()===0x333333);_0x428815[_0x12cd30(0x1b5)](_0x15e896=>{const _0x5231dc=_0x12cd30;_0x463ef5['remove'](_0x15e896);if(_0x15e896[_0x5231dc(0x153)])_0x15e896[_0x5231dc(0x153)][_0x5231dc(0x14b)]();if(_0x15e896[_0x5231dc(0x188)])_0x15e896['material'][_0x5231dc(0x14b)]();});}),console[_0x3944c4(0x236)]('üóëÔ∏è\x20Scene\x20cleared');}[_0x1c1d8a(0x228)](_0x587c33){return new Promise((_0x55eff2,_0x213fe1)=>{const _0x58ea2a=_0x3969;this[_0x58ea2a(0x2ae)][_0x58ea2a(0x266)](_0x587c33,_0x402dad=>{const _0x502992=_0x58ea2a;_0x402dad[_0x502992(0x263)]=_0x2fc7a2['LinearMipmapLinearFilter'],_0x402dad['magFilter']=_0x2fc7a2[_0x502992(0x1b9)],_0x402dad['generateMipmaps']=!![],_0x402dad[_0x502992(0x238)]=Math['min'](0x8,this[_0x502992(0x1ee)][_0x502992(0x2b5)][_0x502992(0x1f3)]()||0x1),_0x402dad[_0x502992(0x1b8)]=!![],_0x55eff2(_0x402dad);},undefined,_0x1b7b75=>_0x213fe1(_0x1b7b75));});}[_0x1c1d8a(0x289)](_0x36fba9){const _0x5e1f49=_0x1c1d8a,_0x26b769=new Date()[_0x5e1f49(0x1fc)](),_0x44fb22=_0x26b769-this['lastClickTime'];if(_0x44fb22<this['clickDelay']){this[_0x5e1f49(0x177)]['x']=_0x36fba9[_0x5e1f49(0x260)]/window[_0x5e1f49(0x29f)]*0x2-0x1,this[_0x5e1f49(0x177)]['y']=-(_0x36fba9[_0x5e1f49(0x2de)]/window[_0x5e1f49(0x256)])*0x2+0x1,this['raycaster'][_0x5e1f49(0x1e8)](this[_0x5e1f49(0x177)],this[_0x5e1f49(0x276)]);const _0x4fdee3=this['raycaster'][_0x5e1f49(0x1f2)]([...this[_0x5e1f49(0x22e)][_0x5e1f49(0x17a)](_0x1477d1=>_0x1477d1[_0x5e1f49(0x1a7)]),...this[_0x5e1f49(0x1ae)][_0x5e1f49(0x1c3)]['filter'](_0x5160bc=>_0x5160bc[_0x5e1f49(0x25d)]&&_0x5160bc[_0x5e1f49(0x25d)][_0x5e1f49(0x1ec)][_0x5e1f49(0x199)])]);if(_0x4fdee3[_0x5e1f49(0x186)]>0x0){const _0x2d9920=_0x4fdee3[0x0]['object'];if(this[_0x5e1f49(0x29a)])this['resetCamera'](),this[_0x5e1f49(0x222)]();else{if(_0x2d9920[_0x5e1f49(0x25d)]&&_0x2d9920['parent']['userData'][_0x5e1f49(0x199)])this[_0x5e1f49(0x246)]();else{if(_0x2d9920['userData'][_0x5e1f49(0x16e)]){console['log'](_0x5e1f49(0x253)+_0x2d9920['userData'][_0x5e1f49(0x16e)]);if(!this[_0x5e1f49(0x20d)][_0x5e1f49(0x29b)])this['clickSound'][_0x5e1f49(0x2d5)]();this['focusImage'](_0x2d9920),this[_0x5e1f49(0x2c6)](_0x2d9920),this[_0x5e1f49(0x1a2)](_0x2d9920);}}}}}this['lastClickTime']=_0x26b769;}[_0x1c1d8a(0x1a2)](_0x22d6a2){const _0x302d6f=_0x1c1d8a;if(!this[_0x302d6f(0x22e)]['length'])return;!this['isMobile']&&this['isLocked']&&(this[_0x302d6f(0x203)][_0x302d6f(0x2b2)](),this[_0x302d6f(0x1ac)]=![]);this['isSliderActive']=!![],this[_0x302d6f(0x285)]=this[_0x302d6f(0x22e)]['map'](_0x4bb805=>({'src':_0x4bb805[_0x302d6f(0x16e)],'mesh':_0x4bb805[_0x302d6f(0x1a7)],'metadata':_0x4bb805['metadata']||_0x4bb805[_0x302d6f(0x1a7)][_0x302d6f(0x1ec)][_0x302d6f(0x1fb)]||{'title':_0x302d6f(0x241),'description':'','artist':_0x302d6f(0x2bf)}})),console[_0x302d6f(0x236)](_0x302d6f(0x2e2),this[_0x302d6f(0x285)]),this[_0x302d6f(0x14f)]=this['sliderImages']['findIndex'](_0x351773=>_0x351773[_0x302d6f(0x1a7)]===_0x22d6a2);if(this[_0x302d6f(0x14f)]===-0x1)this[_0x302d6f(0x14f)]=0x0;const _0xcd5793=document[_0x302d6f(0x18d)](_0x302d6f(0x2df));_0xcd5793?(_0xcd5793[_0x302d6f(0x26e)][_0x302d6f(0x204)](_0x302d6f(0x2c2)),_0xcd5793[_0x302d6f(0x1b1)][_0x302d6f(0x28f)]=_0x302d6f(0x164),this[_0x302d6f(0x1e1)]()):(console['error'](_0x302d6f(0x200)),this[_0x302d6f(0x181)]=![]);}[_0x1c1d8a(0x222)](){const _0x469eb5=_0x1c1d8a;this[_0x469eb5(0x181)]=![];const _0x21a59d=document[_0x469eb5(0x18d)]('imageSliderContainer');_0x21a59d?(_0x21a59d['classList'][_0x469eb5(0x1c8)](_0x469eb5(0x2c2)),_0x21a59d[_0x469eb5(0x1b1)][_0x469eb5(0x28f)]=_0x469eb5(0x1cd)):console['error']('Slider\x20container\x20not\x20found\x20in\x20DOM'),this[_0x469eb5(0x29a)]?this['resetCamera']():console[_0x469eb5(0x236)](_0x469eb5(0x1f8));}['prevSliderImage'](){const _0x37dfd0=_0x1c1d8a;this[_0x37dfd0(0x14f)]>0x0&&(this['currentSliderIndex']--,this[_0x37dfd0(0x1e1)](),this[_0x37dfd0(0x168)](this[_0x37dfd0(0x285)][this['currentSliderIndex']][_0x37dfd0(0x1a7)]));}[_0x1c1d8a(0x274)](){const _0x1e78be=_0x1c1d8a;this[_0x1e78be(0x14f)]<this['sliderImages'][_0x1e78be(0x186)]-0x1&&(this[_0x1e78be(0x14f)]++,this[_0x1e78be(0x1e1)](),this['focusImage'](this['sliderImages'][this[_0x1e78be(0x14f)]]['mesh']));}[_0x1c1d8a(0x1e1)](){const _0x2a0127=_0x1c1d8a,_0x5733c4=document[_0x2a0127(0x18d)](_0x2a0127(0x2da)),_0x3b57f3=document['getElementById'](_0x2a0127(0x1ca)),_0x3e944d=document['querySelector'](_0x2a0127(0x1bd)),_0x51b1e5=this['sliderImages'][this['currentSliderIndex']];if(_0x5733c4&&_0x3b57f3&&_0x3e944d){_0x5733c4[_0x2a0127(0x15c)]=_0x51b1e5[_0x2a0127(0x15c)],_0x3b57f3[_0x2a0127(0x271)]=this['currentSliderIndex']+0x1+_0x2a0127(0x15d)+this[_0x2a0127(0x285)][_0x2a0127(0x186)];let _0x54dc7b=document[_0x2a0127(0x18d)]('sliderMetadata');!_0x54dc7b&&(_0x54dc7b=document[_0x2a0127(0x25b)]('div'),_0x54dc7b['id']=_0x2a0127(0x1b2),_0x54dc7b[_0x2a0127(0x1b1)][_0x2a0127(0x213)]='color:\x20white;\x20background:\x20rgba(0,0,0,0.7);\x20padding:\x2010px;\x20border-radius:\x205px;\x20margin-top:\x2010px;',_0x3e944d[_0x2a0127(0x2b3)](_0x54dc7b)),_0x54dc7b[_0x2a0127(0x1fa)]=_0x2a0127(0x185)+(_0x51b1e5[_0x2a0127(0x1fb)][_0x2a0127(0x26b)]||_0x2a0127(0x241))+_0x2a0127(0x1ba)+(_0x51b1e5[_0x2a0127(0x1fb)][_0x2a0127(0x2b4)]||_0x2a0127(0x2bf))+_0x2a0127(0x1d7)+(_0x51b1e5[_0x2a0127(0x1fb)][_0x2a0127(0x272)]||'')+_0x2a0127(0x1ef);}else console[_0x2a0127(0x1be)](_0x2a0127(0x212),{'sliderImage':_0x5733c4,'sliderIndex':_0x3b57f3,'sliderContent':_0x3e944d});}[_0x1c1d8a(0x2c6)](_0x558e39){const _0x3384f7=_0x1c1d8a,_0x2eb385=_0x558e39[_0x3384f7(0x1ed)][_0x3384f7(0x21e)](),_0x4c7412=_0x558e39['userData'][_0x3384f7(0x249)][_0x3384f7(0x21e)]()['multiplyScalar'](1.2),_0x466395=0x1f4,_0x3f0e38=performance[_0x3384f7(0x1ab)](),_0x280573=_0x2f0a7d=>{const _0x44b97b=_0x3384f7,_0x3508ab=_0x2f0a7d-_0x3f0e38,_0x394b2=Math[_0x44b97b(0x22d)](_0x3508ab/_0x466395,0x1);_0x558e39[_0x44b97b(0x1ed)][_0x44b97b(0x2c8)](_0x2eb385,_0x4c7412,_0x394b2);if(_0x394b2<0x1)requestAnimationFrame(_0x280573);else{const _0xea5954=_0x1c7695=>{const _0x18ccea=_0x44b97b,_0x128b13=_0x1c7695-_0x3f0e38-_0x466395,_0x6c8f63=Math[_0x18ccea(0x22d)](_0x128b13/_0x466395,0x1);_0x558e39[_0x18ccea(0x1ed)][_0x18ccea(0x2c8)](_0x4c7412,_0x2eb385,_0x6c8f63);if(_0x6c8f63<0x1)requestAnimationFrame(_0xea5954);};requestAnimationFrame(_0xea5954);}};requestAnimationFrame(_0x280573);}[_0x1c1d8a(0x168)](_0x10fc9f){const _0x39f41e=_0x1c1d8a;this['updateCameraState'](),this[_0x39f41e(0x29a)]=!![];if(this[_0x39f41e(0x1d3)]){const _0xc82886=_0x10fc9f['position'][_0x39f41e(0x21e)]();_0xc82886['y']=1.6;const _0x51371b=0x3,_0x2a72b6=new _0x2fc7a2[(_0x39f41e(0x1da))]();_0x2a72b6['subVectors'](this[_0x39f41e(0x276)][_0x39f41e(0x174)],_0xc82886)[_0x39f41e(0x298)](),_0xc82886[_0x39f41e(0x1c8)](_0x2a72b6[_0x39f41e(0x159)](-_0x51371b));const _0x401f94=this['camera'][_0x39f41e(0x174)]['clone'](),_0x4b7fc7=this['controls'][_0x39f41e(0x20e)][_0x39f41e(0x21e)](),_0x7ba39e=0x1f4,_0x250639=performance[_0x39f41e(0x1ab)](),_0x43af08=_0x8d3db2=>{const _0xd18f3e=_0x39f41e,_0xba4b11=_0x8d3db2-_0x250639,_0x5a0676=Math['min'](_0xba4b11/_0x7ba39e,0x1);this[_0xd18f3e(0x276)]['position']['lerpVectors'](_0x401f94,_0xc82886,_0x5a0676),this[_0xd18f3e(0x203)][_0xd18f3e(0x20e)][_0xd18f3e(0x2c8)](_0x4b7fc7,_0x10fc9f[_0xd18f3e(0x174)],_0x5a0676),this['controls'][_0xd18f3e(0x144)]();if(_0x5a0676<0x1)requestAnimationFrame(_0x43af08);};requestAnimationFrame(_0x43af08);}else{const _0x17fd60=new _0x2fc7a2[(_0x39f41e(0x1da))]();this[_0x39f41e(0x276)][_0x39f41e(0x1db)](_0x17fd60);const _0x117c24=_0x10fc9f['position']['clone']()[_0x39f41e(0x1cb)](_0x17fd60[_0x39f41e(0x159)](0x3));_0x117c24['y']=1.6;const _0x907f12=this[_0x39f41e(0x252)][this['currentRoom']][_0x39f41e(0x174)],_0x44175e=_0x907f12['x']-0xf+0x1,_0x1dd4c1=_0x907f12['x']+0xf-0x1,_0x508959=_0x907f12['z']-0xf+0x1,_0x46d275=_0x907f12['z']+0xf-0x1;_0x117c24['x']=Math[_0x39f41e(0x14e)](_0x44175e,Math[_0x39f41e(0x22d)](_0x1dd4c1,_0x117c24['x'])),_0x117c24['z']=Math['max'](_0x508959,Math[_0x39f41e(0x22d)](_0x46d275,_0x117c24['z']));const _0x1fd6d7=this[_0x39f41e(0x276)][_0x39f41e(0x174)][_0x39f41e(0x21e)](),_0xd1ff05=0x1f4,_0x446184=performance[_0x39f41e(0x1ab)](),_0x111a7f=_0x10ccde=>{const _0x5af9e5=_0x39f41e,_0x4ed483=_0x10ccde-_0x446184,_0xadcb0=Math[_0x5af9e5(0x22d)](_0x4ed483/_0xd1ff05,0x1);this[_0x5af9e5(0x276)]['position'][_0x5af9e5(0x2c8)](_0x1fd6d7,_0x117c24,_0xadcb0),this['controls']['getObject']()['position'][_0x5af9e5(0x28d)](this[_0x5af9e5(0x276)][_0x5af9e5(0x174)]),this[_0x5af9e5(0x276)][_0x5af9e5(0x155)](_0x10fc9f[_0x5af9e5(0x174)]),this[_0x5af9e5(0x178)]();if(_0xadcb0<0x1)requestAnimationFrame(_0x111a7f);};requestAnimationFrame(_0x111a7f);}}[_0x1c1d8a(0x2ab)](){const _0x2737db=_0x1c1d8a;if(!this[_0x2737db(0x29a)])return;const _0x521cda=this[_0x2737db(0x276)][_0x2737db(0x174)][_0x2737db(0x21e)](),_0x3684d9=this[_0x2737db(0x19b)][_0x2737db(0x174)]['clone'](),_0x354a3a=0x1f4,_0x28856a=performance[_0x2737db(0x1ab)]();if(this[_0x2737db(0x1d3)]){const _0x5010e6=this[_0x2737db(0x203)][_0x2737db(0x20e)][_0x2737db(0x21e)](),_0x1dcabe=this[_0x2737db(0x19b)][_0x2737db(0x20e)][_0x2737db(0x21e)](),_0x3178ae=_0x31f0b6=>{const _0x5b1166=_0x2737db,_0x57f57f=_0x31f0b6-_0x28856a,_0x316e6a=Math[_0x5b1166(0x22d)](_0x57f57f/_0x354a3a,0x1),_0x490cb8=0.5-0.5*Math[_0x5b1166(0x227)](Math['PI']*_0x316e6a);this[_0x5b1166(0x276)][_0x5b1166(0x174)][_0x5b1166(0x2c8)](_0x521cda,_0x3684d9,_0x490cb8),this[_0x5b1166(0x203)][_0x5b1166(0x20e)][_0x5b1166(0x2c8)](_0x5010e6,_0x1dcabe,_0x490cb8),this[_0x5b1166(0x203)]['update']();if(_0x316e6a<0x1)requestAnimationFrame(_0x3178ae);else this[_0x5b1166(0x29a)]=![];};requestAnimationFrame(_0x3178ae);}else{const _0x33afb6=_0x189c0a=>{const _0x23080b=_0x2737db,_0x5f3121=_0x189c0a-_0x28856a,_0x23c380=Math[_0x23080b(0x22d)](_0x5f3121/_0x354a3a,0x1),_0x12cfe0=0.5-0.5*Math[_0x23080b(0x227)](Math['PI']*_0x23c380);this['camera']['position'][_0x23080b(0x2c8)](_0x521cda,_0x3684d9,_0x12cfe0),this['controls'][_0x23080b(0x163)]()[_0x23080b(0x174)][_0x23080b(0x28d)](this['camera'][_0x23080b(0x174)]),this[_0x23080b(0x178)]();if(_0x23c380<0x1)requestAnimationFrame(_0x33afb6);else{this['isFocused']=![];if(!this[_0x23080b(0x224)])this[_0x23080b(0x203)]['lock']();}};requestAnimationFrame(_0x33afb6);}}[_0x1c1d8a(0x299)](){const _0x49543f=_0x1c1d8a;this[_0x49543f(0x19b)]={'position':this[_0x49543f(0x276)][_0x49543f(0x174)][_0x49543f(0x21e)](),'rotation':this['camera']['rotation'][_0x49543f(0x21e)](),'target':this[_0x49543f(0x1d3)]?this[_0x49543f(0x203)]['target'][_0x49543f(0x21e)]():this[_0x49543f(0x276)][_0x49543f(0x1db)](new _0x2fc7a2[(_0x49543f(0x1da))]())[_0x49543f(0x159)](0xa)[_0x49543f(0x1c8)](this[_0x49543f(0x276)]['position'])};}[_0x1c1d8a(0x22a)](){const _0x537313=_0x1c1d8a,_0x3811e0=this[_0x537313(0x1ee)][_0x537313(0x18b)][_0x537313(0x1ce)]('image/png'),_0x349058=document[_0x537313(0x25b)]('a');_0x349058['href']=_0x3811e0,_0x349058[_0x537313(0x1ff)]=_0x537313(0x24c),_0x349058[_0x537313(0x1c1)]();}[_0x1c1d8a(0x141)](){const _0x5796b9=_0x1c1d8a,_0x3b215d=document[_0x5796b9(0x18d)](_0x5796b9(0x277)),_0x3644fa=document[_0x5796b9(0x18d)]('zoomValue'),_0x5c7f12=parseFloat(_0x3b215d[_0x5796b9(0x148)]);_0x3644fa[_0x5796b9(0x271)]=_0x5c7f12[_0x5796b9(0x220)](0x1),this['isMobile']?(this[_0x5796b9(0x203)][_0x5796b9(0x2b7)]=0x1/_0x5c7f12,this['controls'][_0x5796b9(0x173)]=0x14/_0x5c7f12,this[_0x5796b9(0x203)]['update']()):(this[_0x5796b9(0x169)]=_0x5c7f12/0xa,this[_0x5796b9(0x276)][_0x5796b9(0x244)]=0x4b/(_0x5c7f12*0.5+0.5),this['camera'][_0x5796b9(0x2e6)]());}async['handleScreenshotSubmit'](_0x579f82){const _0x3508dd=_0x1c1d8a;_0x579f82['preventDefault']();const _0x4f2d1f=document[_0x3508dd(0x18d)](_0x3508dd(0x258))?.[_0x3508dd(0x148)];if(!_0x4f2d1f)return;try{const _0x1ff682=await fetch(_0x3508dd(0x1a1),{'method':'POST','headers':{'Content-Type':_0x3508dd(0x17c)},'body':JSON['stringify']({'url':_0x4f2d1f})}),_0x97dd3e=await _0x1ff682['json']();_0x97dd3e['sessionId']&&(this[_0x3508dd(0x1e2)]=_0x97dd3e[_0x3508dd(0x1e2)],localStorage[_0x3508dd(0x2cf)](_0x3508dd(0x1e2),this[_0x3508dd(0x1e2)]),await this[_0x3508dd(0x28a)](this[_0x3508dd(0x1e2)]));}catch(_0x1f0b4e){console[_0x3508dd(0x1be)](_0x3508dd(0x2d0),_0x1f0b4e);}}async[_0x1c1d8a(0x1c9)](_0x5e160e){const _0x359110=_0x1c1d8a;_0x5e160e[_0x359110(0x1c0)]();if(!this[_0x359110(0x1d1)]['length']||!this['metadata'][_0x359110(0x186)]){console[_0x359110(0x236)](_0x359110(0x1bf));return;}const _0x5774a1=new FormData();this[_0x359110(0x1d1)][_0x359110(0x1b5)]((_0x190586,_0x445ca0)=>{const _0x1ebac9=_0x359110;_0x5774a1['append'](_0x1ebac9(0x22e),_0x190586),_0x5774a1[_0x1ebac9(0x255)](_0x1ebac9(0x26b),this[_0x1ebac9(0x1fb)][_0x445ca0][_0x1ebac9(0x26b)]),_0x5774a1['append'](_0x1ebac9(0x272),this[_0x1ebac9(0x1fb)][_0x445ca0]['description']),_0x5774a1['append'](_0x1ebac9(0x2b4),this['metadata'][_0x445ca0][_0x1ebac9(0x2b4)]);});try{const _0x148e67=await fetch(_0x359110(0x1cc)+(this[_0x359110(0x1e2)]?'/'+this[_0x359110(0x1e2)]:''),{'method':_0x359110(0x19e),'body':_0x5774a1}),_0x38dc23=await _0x148e67['json']();_0x38dc23[_0x359110(0x2c4)]&&(this[_0x359110(0x1e2)]=_0x38dc23[_0x359110(0x1e2)],localStorage[_0x359110(0x2cf)](_0x359110(0x1e2),this[_0x359110(0x1e2)]),this[_0x359110(0x1fb)]=this[_0x359110(0x1d1)]['map']((_0x189d99,_0x2571a1)=>({'filename':_0x189d99[_0x359110(0x27a)],'title':this[_0x359110(0x1fb)][_0x2571a1][_0x359110(0x26b)],'description':this[_0x359110(0x1fb)][_0x2571a1][_0x359110(0x272)],'artist':this['metadata'][_0x2571a1][_0x359110(0x2b4)]})),await new Promise(_0x1fa155=>setTimeout(_0x1fa155,0x64)),await this['loadImages'](this[_0x359110(0x1e2)]),this[_0x359110(0x1d1)]=[],document['getElementById'](_0x359110(0x22e))['value']='',this[_0x359110(0x16c)][_0x359110(0x1fa)]='');}catch(_0x12e120){console['error'](_0x359110(0x275),_0x12e120);}}['handleResize'](){const _0x106664=_0x1c1d8a;this[_0x106664(0x276)][_0x106664(0x202)]=window[_0x106664(0x29f)]/window[_0x106664(0x256)],this['camera']['updateProjectionMatrix'](),this[_0x106664(0x1ee)][_0x106664(0x290)](window['innerWidth'],window[_0x106664(0x256)]);}['showAvatarInstructions'](){const _0x7a8ab1=_0x1c1d8a,_0x2c5c11=document['createElement'](_0x7a8ab1(0x264));_0x2c5c11['id']=_0x7a8ab1(0x1b7),_0x2c5c11[_0x7a8ab1(0x1b1)]['cssText']='position:absolute;\x20top:50%;\x20left:50%;\x20transform:translate(-50%,\x20-50%);\x20color:white;\x20background:rgba(0,0,0,0.7);\x20padding:20px;\x20border-radius:5px;\x20z-index:11;\x20text-align:center;',this[_0x7a8ab1(0x1d3)]?_0x2c5c11[_0x7a8ab1(0x1fa)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Gallery\x20Controls</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Swipe\x20to\x20look\x20around.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Pinch\x20to\x20zoom\x20in/out.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Tap\x20an\x20artwork\x20to\x20focus,\x20tap\x20again\x20to\x20reset.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Double-tap\x20artwork\x20to\x20open\x20image\x20slider.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeInstructions\x22\x20style=\x22margin-top:10px;\x20padding:5px\x2010px;\x20background:#1e90ff;\x20border:none;\x20color:white;\x20border-radius:5px;\x20cursor:pointer;\x22>Close</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x2c5c11[_0x7a8ab1(0x1fa)]=_0x7a8ab1(0x23f),document['body']['appendChild'](_0x2c5c11),document[_0x7a8ab1(0x18d)](_0x7a8ab1(0x14a))[_0x7a8ab1(0x2d8)](_0x7a8ab1(0x1c1),()=>{const _0x3a1926=_0x7a8ab1;document[_0x3a1926(0x2bb)][_0x3a1926(0x2d3)](_0x2c5c11);});}}const app=new ThreeJSApp();app[_0x1c1d8a(0x1dd)]();