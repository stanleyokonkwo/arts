const _0x50c28d=_0x461a;(function(_0x35208a,_0xcf7293){const _0x21f2e0=_0x461a,_0x4f03f6=_0x35208a();while(!![]){try{const _0x238cc1=-parseInt(_0x21f2e0(0x10b))/0x1*(parseInt(_0x21f2e0(0xe4))/0x2)+-parseInt(_0x21f2e0(0x141))/0x3*(parseInt(_0x21f2e0(0x187))/0x4)+-parseInt(_0x21f2e0(0x22c))/0x5*(parseInt(_0x21f2e0(0x28f))/0x6)+-parseInt(_0x21f2e0(0x159))/0x7*(parseInt(_0x21f2e0(0x22d))/0x8)+parseInt(_0x21f2e0(0x1be))/0x9+parseInt(_0x21f2e0(0x211))/0xa+-parseInt(_0x21f2e0(0x1a2))/0xb*(-parseInt(_0x21f2e0(0x18e))/0xc);if(_0x238cc1===_0xcf7293)break;else _0x4f03f6['push'](_0x4f03f6['shift']());}catch(_0x1278f5){_0x4f03f6['push'](_0x4f03f6['shift']());}}}(_0x5f4c,0x6a040));import*as _0x440aec from'three';import{PointerLockControls}from'PointerLockControls';function _0x5f4c(){const _0x4b849d=['fov','POST','innerHeight','renderer','error','aspect','DirectionalLight','pointerEvents','repeat','updateLighting','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Gallery\x20Controls</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Click\x20to\x20lock\x20pointer\x20and\x20start\x20exploring.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Use\x20W,\x20A,\x20S,\x20D\x20to\x20move.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Use\x20Q\x20and\x20E\x20to\x20rotate\x20left/right.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Mouse\x20to\x20look\x20up/down.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Double-click\x20an\x20artwork\x20to\x20focus\x20and\x20open\x20slider.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Hold\x20Control\x20key\x20to\x20cycle\x20through\x20images\x20in\x20slider.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeInstructions\x22\x20style=\x22margin-top:10px;\x20padding:5px\x2010px;\x20background:#1e90ff;\x20border:none;\x20color:white;\x20border-radius:5px;\x20cursor:pointer;\x22>Close</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','selectedMesh','No\x20files\x20or\x20metadata\x20to\x20upload','85789jXQSgf','height','innerHTML','üé¨\x20Object\x20animation\x20enabled','onCanvasClick','Previous\x20button\x20not\x20found\x20in\x20DOM','drawImage','setVolume','init','üé•\x20Recording\x20stopped','loadAudio','isLocked','intensity','shadow','min','‚ùå\x20Error\x20fetching\x20images\x20(attempt\x20','openSlider','setupAudio','magFilter','Swipe\x20to\x20look\x20around,\x20pinch\x20to\x20zoom,\x20tap\x20artwork\x20to\x20focus,\x20tap\x20avatar\x20for\x20help.','clickDelay','updateCameraState','map','bias','now','üöÄ\x20Virtual\x20Gallery\x20loaded','distanceTo','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>','5832819UfvCLi','handleZoom','width','domElement','showMetadataModal','updateSliderDisplay','ledMaterial','keys','rooms',',\x20skipping','closeSlider','createGallery','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22title-','clipAction','setupAvatarAnimation','anisotropy','degToRad','crossVectors','autoRotateBtn','pointerLockElement','Unknown','application/json','Slider\x20elements\x20missing:','imagesToLoad','dampingFactor','avatarWave','lastClickTime','change','Auto\x20Rotate','ownerDocument','max','querySelector','emissiveIntensity','movementY','querySelectorAll','putImageData','Start\x20Recording','CircleGeometry','split','start','prevImage','handleScreenshotSubmit','autoRotateSpeed','set','Slider\x20images\x20with\x20metadata:','href','quaternion','YXZ','zoomValue','filename','canvas','position','stop','http://localhost:3000/api/capture','load','focusImage','animate','isControlPressed','multiplyScalar','getContext','üé¨\x20Object\x20animation\x20disabled','length','setLoop','json','abs','Click\x20to\x20enter\x20the\x20gallery.\x20Use\x20W,\x20A,\x20S,\x20D\x20to\x20move,\x20Q/E\x20to\x20rotate,\x20mouse\x20to\x20look\x20up/down,\x20double-click\x20art\x20to\x20focus,\x20click\x20avatar\x20for\x20help.','Color','loadTexture','setFromQuaternion','ShaderMaterial','Close\x20button\x20not\x20found\x20in\x20DOM','scale','LinearMipmapLinearFilter','updateProjectionMatrix','animationSpeedValue','loadImages','animationSpeed','type','image','Mesh','createElement','audioListener','maxDistance','4390920AbyLwI','ceilingLights','Stop\x20Recording','isAnimatingObjects','innerWidth','.children[3].rotation[z]','isAvatar','sub','Assigning\x20metadata\x20to\x20','log','cssText','spot','click','filter','LoopRepeat','toggleControls','body','find','enableDamping','description','Group','setSensitivity','files','onload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Gallery\x20Controls</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Swipe\x20to\x20look\x20around.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Pinch\x20to\x20zoom\x20in/out.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Tap\x20an\x20artwork\x20to\x20focus,\x20tap\x20again\x20to\x20reset.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Double-tap\x20artwork\x20to\x20open\x20image\x20slider.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeInstructions\x22\x20style=\x22margin-top:10px;\x20padding:5px\x2010px;\x20background:#1e90ff;\x20border:none;\x20color:white;\x20border-radius:5px;\x20cursor:pointer;\x22>Close</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','checkCollisions','setItem','2264065bOaCpO','928BKXxCk','stopPropagation','findIndex','submit','backgroundAudio','computeImageHash','prevSliderImage','wrapS','toggleControlsBtn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Artist:</strong>\x20','ArrowRight','resetCamera','setSize','hidden','Path','Slider\x20container\x20not\x20found\x20in\x20DOM','addLighting','status','AnimationClip','isAutoRotating','keyup','holes','sliderImages','devicePixelRatio','currentRoom','image/png','material','recordBtn','children','recordedFrames','lookAt','hidden-panel','add','geometry','stringify','wallLights','minDistance','clientX','\x22\x20placeholder=\x22Description\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22artist-','classList','Euler','addEventListener','object','moveTo','div','onMouseMove','has','setBuffer','nextSliderImage','download','pointerlockchange','stopRecording','mesh','toISOString','Error\x20capturing\x20screenshot:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>','getMaxAnisotropy','createImageData','rotationSpeed','userAgent','receiveShadow','target','needsUpdate','metadataInputs','time','SphereGeometry','sessionId','handleUploadSubmit','onclick','HTTP\x20error!\x20status:\x20','resize','PCFSoftShadowMap','MathUtils','WebGLRenderer','Generated\x20fallback\x20metadata:','rotation','pointerlockerror','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pendingFiles','.slider-group:last-child','lerpVectors','minFilter','Untitled','previousCameraState','wrapT','onstop','toFixed','ExtrudeGeometry','dispose','intersectObjects','Escape','cancelMetadata','animationSpeedSlider','Error\x20uploading\x20files:','gallery_view.png','escape','revokeObjectURL','getTime','6gJRBzh','ondataavailable','roomCameraSettings','toString','sensitivity','handleDownload','mapSize','uniforms','Shape','clearScene','Unique\x20hashes:','üé®\x20Images\x20rendered\x20in\x20room\x20','moveSpeed','8886NjbnGB','mouse','TextureLoader','updateAutoRotate','showImagePreviewsAndMetadataPrompt','isMoving','animationMixer','animateObjectsBtn','captureStream','isMobile','update','enableZoom','AudioListener','userData','parent','setupEventListeners','metadata','dir','avatarGroup','none','toLowerCase','generateNoiseCanvas','downloadBtn','clickSound','updateAvatarPosition','Stop\x20Animating','raycaster','sensitivityValue','handleResize','toggleObjectAnimation','uploadForm','keydown','addScaledVector','unlock','appendChild','Vector3','copy','üì∏\x20Fetched\x20data\x20for\x20session','sin','19pUPpnu','currentSliderIndex','AnimationMixer','DoubleSide','sqrt','append','RepeatWrapping','images','BoxGeometry','CylinderGeometry','clone','castShadow','Error\x20loading\x20image\x20','normalScale','isFocused','zoomSlider','camera','Using\x20server-provided\x20metadata:','result','MeshStandardMaterial','createAvatar','isSliderActive','toDataURL','\x22\x20placeholder=\x22Image\x20Title\x22\x20value=\x22','play','auto','sweet.mp3','screenshots','setFromCamera','remove','max-width:\x20100px;\x20max-height:\x20100px;\x20margin:\x205px;\x20object-fit:\x20cover;','removeChild','https://via.placeholder.com/350x250','metadataModal','className','Next\x20button\x20not\x20found\x20in\x20DOM','bind','PlaneGeometry','screenshotForm','src','style','onKeyUp','glassSpotlights','from','.webm','success','cos','removeEventListener','SpotLight','No\x20screenshots\x20found,\x20using\x20fallback','size','capabilities','lock','data','393FUXwKn','submitMetadata','enablePan','previewContainer','isPlaying','showAvatarInstructions','video/webm','getObject','.control-panel','toggleAutoRotate','Vector2','push','enabled','normalMap','sliderIndex','normalize','color','closeInstructions','forEach','right','imageSliderContainer','üñ•Ô∏è\x20Controls\x20hidden','http://localhost:3000/api/upload','Pointer\x20Lock\x20failed','24227MwZuxC','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20map;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20time;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color\x20=\x20texture2D(map,\x20vUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(color.a\x20<\x200.5)\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(color.rgb,\x20color.a\x20*\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getHex','far','name','controlsVisible','key','setPixelRatio','controls','NumberKeyframeTrack','rot','setFromEuler','Duplicate\x20image\x20content\x20detected\x20for\x20','baseScale','description-','touchstart','emissive','input','Raycaster','MeshPhysicalMaterial','tutorialOverlay','ArrowLeft','updateObjectAnimations','textureLoader','artist','sensitivitySlider','shadowMap','scene','isRecording','preventDefault','value','image-preview','movementX','test','lineTo','scaleImage','setClearColor','color:\x20white;\x20background:\x20rgba(0,0,0,0.7);\x20padding:\x2010px;\x20border-radius:\x205px;\x20margin-top:\x2010px;','displayImagesInGallery','left','getWorldDirection','MeshBasicMaterial','mediaRecorder','sliderMetadata','position:absolute;\x20top:50%;\x20left:50%;\x20transform:translate(-50%,\x20-50%);\x20color:white;\x20background:rgba(0,0,0,0.7);\x20padding:20px;\x20border-radius:5px;\x20z-index:11;\x20text-align:center;','title','21756GLMPcZ','url','saveRecording','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vNormal\x20=\x20normalMatrix\x20*\x20normal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getElementById','avatarInstructions','http://localhost:3000/api/screenshots/','1536BbuKkV','textContent','.slider-content','onKeyDown','display','updateImageEffects','clientY'];_0x5f4c=function(){return _0x4b849d;};return _0x5f4c();}function _0x461a(_0x3f4022,_0x5026b8){const _0x5f4cda=_0x5f4c();return _0x461a=function(_0x461a02,_0x1128a5){_0x461a02=_0x461a02-0xe4;let _0x3af53b=_0x5f4cda[_0x461a02];return _0x3af53b;},_0x461a(_0x3f4022,_0x5026b8);}import{OrbitControls}from'OrbitControls';class CustomPointerLockControls extends PointerLockControls{constructor(_0x471c78,_0x5d4661){const _0x3b4736=_0x461a;super(_0x471c78,_0x5d4661),this[_0x3b4736(0x293)]=0.001;}[_0x50c28d(0x148)](){return this['camera'];}[_0x50c28d(0x13f)](){const _0x2c11a5=_0x50c28d;super[_0x2c11a5(0x13f)](),this['domElement'][_0x2c11a5(0x1db)][_0x2c11a5(0x256)]('mousemove',this['onMouseMove'][_0x2c11a5(0x12f)](this));}[_0x50c28d(0x105)](){const _0x22284a=_0x50c28d;super['unlock'](),this[_0x22284a(0x1c1)][_0x22284a(0x1db)][_0x22284a(0x13a)]('mousemove',this[_0x22284a(0x25a)]['bind'](this));}['onMouseMove'](_0xf71ea5){const _0x1b6f14=_0x50c28d;if(this[_0x1b6f14(0x1ad)]===!![]){const _0x18bb02=_0xf71ea5[_0x1b6f14(0x179)]*this['sensitivity'],_0x586b22=_0xf71ea5[_0x1b6f14(0x1df)]*this['sensitivity'],_0x157214=new _0x440aec[(_0x1b6f14(0x255))](0x0,0x0,0x0,_0x1b6f14(0x1ed));_0x157214['setFromQuaternion'](this[_0x1b6f14(0x11b)][_0x1b6f14(0x1ec)]),_0x157214['y']-=_0x18bb02,_0x157214['x']-=_0x586b22,_0x157214['x']=Math[_0x1b6f14(0x1dc)](-Math['PI']/0x2,Math[_0x1b6f14(0x1b0)](Math['PI']/0x2,_0x157214['x'])),this[_0x1b6f14(0x11b)][_0x1b6f14(0x1ec)]['setFromEuler'](_0x157214);}}[_0x50c28d(0x226)](_0x48a40e){const _0x76cdfc=_0x50c28d;this[_0x76cdfc(0x293)]=_0x48a40e;}}class ThreeJSApp{constructor(){const _0x1181da=_0x50c28d;this['scene']=new _0x440aec['Scene'](),this[_0x1181da(0x11b)]=new _0x440aec['PerspectiveCamera'](0x4b,window[_0x1181da(0x215)]/window[_0x1181da(0x197)],0.1,0x3e8),this['roomCameraSettings']=[{'position':new _0x440aec[(_0x1181da(0x107))](0x0,1.6,0xa),'lookAt':new _0x440aec['Vector3'](0x0,1.6,0x0)}];const _0x5aa10c=this[_0x1181da(0x291)][0x0];this[_0x1181da(0x11b)][_0x1181da(0x1f1)]['copy'](_0x5aa10c['position']),this['camera'][_0x1181da(0x24b)](_0x5aa10c[_0x1181da(0x24b)]),this[_0x1181da(0x198)]=new _0x440aec[(_0x1181da(0x276))]({'alpha':![],'antialias':!![],'preserveDrawingBuffer':!![]}),this[_0x1181da(0x198)][_0x1181da(0x17d)](0x0,0x1),this['renderer']['shadowMap'][_0x1181da(0x14d)]=!![],this[_0x1181da(0x198)][_0x1181da(0x173)]['type']=_0x440aec[_0x1181da(0x274)],this[_0x1181da(0x198)][_0x1181da(0x160)](window[_0x1181da(0x244)]),this[_0x1181da(0x198)][_0x1181da(0x239)](window['innerWidth'],window[_0x1181da(0x197)]),document['body']['appendChild'](this[_0x1181da(0x198)][_0x1181da(0x1c1)]),this[_0x1181da(0x120)]=![],this[_0x1181da(0x10c)]=0x0,this[_0x1181da(0x243)]=[],this[_0x1181da(0x1f7)]=![],this[_0x1181da(0x27b)]=[],this[_0x1181da(0xf4)]=[],this[_0x1181da(0xed)]=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i[_0x1181da(0x17a)](navigator[_0x1181da(0x268)])||'ontouchstart'in window,this['isMobile']?(this[_0x1181da(0x161)]=new OrbitControls(this[_0x1181da(0x11b)],this['renderer']['domElement']),this['controls'][_0x1181da(0x26a)][_0x1181da(0x108)](_0x5aa10c[_0x1181da(0x24b)]),this[_0x1181da(0x161)][_0x1181da(0x223)]=!![],this['controls'][_0x1181da(0x1d6)]=0.05,this[_0x1181da(0x161)]['minDistance']=0x1,this['controls'][_0x1181da(0x210)]=0x14,this[_0x1181da(0x161)][_0x1181da(0x143)]=!![],this[_0x1181da(0x161)][_0x1181da(0xef)]=!![]):(this[_0x1181da(0x161)]=new CustomPointerLockControls(this[_0x1181da(0x11b)],this[_0x1181da(0x198)][_0x1181da(0x1c1)]),this[_0x1181da(0x161)][_0x1181da(0x148)]()[_0x1181da(0x1f1)][_0x1181da(0x108)](_0x5aa10c['position'])),this[_0x1181da(0x112)]=[],this['sessionId']=localStorage['getItem']('sessionId'),this[_0x1181da(0x170)]=new _0x440aec[(_0x1181da(0xe6))](),this['audioListener']=new _0x440aec[(_0x1181da(0xf0))](),this['camera'][_0x1181da(0x24d)](this['audioListener']),this[_0x1181da(0x231)]=new _0x440aec['Audio'](this[_0x1181da(0x20f)]),this[_0x1181da(0xfb)]=new _0x440aec['Audio'](this[_0x1181da(0x20f)]),this[_0x1181da(0xfe)]=new _0x440aec[(_0x1181da(0x16b))](),this['mouse']=new _0x440aec[(_0x1181da(0x14b))](),this[_0x1181da(0x1a0)]=null,this[_0x1181da(0x1c6)]=[],this['currentRoom']=0x0,this['isMoving']=![],this['isFocused']=![],this[_0x1181da(0x1ad)]=![],this[_0x1181da(0x280)]={'position':this[_0x1181da(0x11b)][_0x1181da(0x1f1)]['clone'](),'rotation':this[_0x1181da(0x11b)][_0x1181da(0x278)]['clone'](),'target':_0x5aa10c[_0x1181da(0x24b)][_0x1181da(0x115)]()},this[_0x1181da(0x1d8)]=0x0,this[_0x1181da(0x1b6)]=0x12c,this[_0x1181da(0x29b)]=0.15,this[_0x1181da(0x267)]=0.05,this['keys']={'w':![],'a':![],'s':![],'d':![],'q':![],'e':![]},this[_0x1181da(0x26d)]=0x0,this['wallLights']=[],this['glassSpotlights']=[],this[_0x1181da(0x212)]=[],this[_0x1181da(0x1c4)]=null,this[_0x1181da(0x175)]=![],this[_0x1181da(0x24a)]=[],this[_0x1181da(0x183)]=null,this[_0x1181da(0x1e8)]=0.5,this[_0x1181da(0x240)]=![],this[_0x1181da(0x144)]=document['getElementById'](_0x1181da(0x144)),this['animationMixer']=new _0x440aec[(_0x1181da(0x10d))](this['scene']),this[_0x1181da(0x214)]=![],this[_0x1181da(0x20a)]=0x1,this[_0x1181da(0x23d)](),this[_0x1181da(0x1c9)](),this[_0x1181da(0x1b3)](),this[_0x1181da(0xf3)](),this[_0x1181da(0x11f)]();}[_0x50c28d(0x23d)](){const _0x53a42a=_0x50c28d,_0x97d0f8=new _0x440aec['AmbientLight'](0xffffff,0.5);this[_0x53a42a(0x174)]['add'](_0x97d0f8);const _0x4ff5bd=new _0x440aec[(_0x53a42a(0x19b))](0xffffff,0.8);_0x4ff5bd[_0x53a42a(0x1f1)][_0x53a42a(0x1e9)](0x0,0x14,0x14),_0x4ff5bd[_0x53a42a(0x116)]=!![],_0x4ff5bd[_0x53a42a(0x1af)]['mapSize'][_0x53a42a(0x1c0)]=0x800,_0x4ff5bd['shadow'][_0x53a42a(0x295)][_0x53a42a(0x1a3)]=0x800,_0x4ff5bd[_0x53a42a(0x1af)][_0x53a42a(0x11b)]['near']=0.5,_0x4ff5bd[_0x53a42a(0x1af)]['camera'][_0x53a42a(0x15c)]=0x64,this['scene'][_0x53a42a(0x24d)](_0x4ff5bd);}['createGallery'](){const _0x4f5447=_0x50c28d,_0xffb2bb=new _0x440aec[(_0x4f5447(0xe6))](),_0x3b27e5=new _0x440aec[(_0x4f5447(0x11e))]({'color':0xf0e8e0,'roughness':0.3,'metalness':0.1}),_0x41b119=new _0x440aec['Texture'](this[_0x4f5447(0xf9)](0x100,0x100));_0x41b119[_0x4f5447(0x26b)]=!![],_0x41b119[_0x4f5447(0x234)]=_0x41b119[_0x4f5447(0x281)]=_0x440aec[_0x4f5447(0x111)],_0x41b119[_0x4f5447(0x19d)][_0x4f5447(0x1e9)](0x10,0x10),_0x3b27e5[_0x4f5447(0x1b8)]=_0x41b119;const _0x124f37=new _0x440aec[(_0x4f5447(0x11e))]({'color':0xe0e0e0,'roughness':0.3,'metalness':0.2}),_0x230f6a=new _0x440aec[(_0x4f5447(0x16c))]({'color':0x90a4ae,'transparent':!![],'opacity':0.5,'roughness':0.1,'metalness':0.4,'transmission':0.9,'clearcoat':0.5}),_0x5d69ec=new _0x440aec['MeshStandardMaterial']({'color':0x212121,'roughness':0.3,'metalness':0.8}),_0x271d97=new _0x440aec[(_0x4f5447(0x11e))]({'color':0xffffff,'roughness':0.3,'metalness':0x0}),_0x451866=new _0x440aec[(_0x4f5447(0x11e))]({'color':0x424242,'roughness':0.4,'metalness':0.3}),_0x440b62=new _0x440aec['Texture'](this['generateModernWallTexture'](0x100,0x100));_0x440b62[_0x4f5447(0x26b)]=!![],_0x440b62['wrapS']=_0x440b62[_0x4f5447(0x281)]=_0x440aec['RepeatWrapping'],_0x440b62['repeat'][_0x4f5447(0x1e9)](0x4,0x4),_0x451866[_0x4f5447(0x14e)]=_0x440b62,_0x451866[_0x4f5447(0x118)]['set'](0.3,0.3),this[_0x4f5447(0x1c4)]=new _0x440aec[(_0x4f5447(0x11e))]({'color':0xe0e0e0,'emissive':0xe0e0e0,'emissiveIntensity':1.2,'roughness':0.2,'metalness':0.5});const _0x59b91f=new _0x440aec['Group'](),_0x3f2242=0x14,_0x2da4b4=0xc,_0x109db6=new _0x440aec[(_0x4f5447(0x20d))](new _0x440aec[(_0x4f5447(0x1e3))](_0x3f2242,0x40),_0x3b27e5);_0x109db6[_0x4f5447(0x278)]['x']=-Math['PI']/0x2,_0x109db6[_0x4f5447(0x1f1)]['y']=0x0,_0x109db6['receiveShadow']=!![],_0x59b91f['add'](_0x109db6);const _0x2c4735=new _0x440aec['Group'](),_0x36714e=0x2,_0x5e20b7=0.2,_0x1467cf=new _0x440aec[(_0x4f5447(0x114))](_0x36714e,_0x36714e,_0x5e20b7,0x6);for(let _0x1cb1af=-0x4;_0x1cb1af<=0x4;_0x1cb1af++){for(let _0x9a57f8=-0x4;_0x9a57f8<=0x4;_0x9a57f8++){const _0x289874=new _0x440aec[(_0x4f5447(0x20d))](_0x1467cf,_0x124f37),_0x2e5bce=_0x9a57f8*_0x36714e*1.8+(_0x1cb1af%0x2===0x0?0x0:_0x36714e*0.9),_0x36f97a=_0x1cb1af*_0x36714e*1.5;Math[_0x4f5447(0x10f)](_0x2e5bce*_0x2e5bce+_0x36f97a*_0x36f97a)<_0x3f2242-0x2&&(_0x289874['position'][_0x4f5447(0x1e9)](_0x2e5bce,_0x2da4b4-_0x5e20b7/0x2,_0x36f97a),_0x289874[_0x4f5447(0x278)]['x']=Math['PI']/0x2,_0x289874[_0x4f5447(0x269)]=!![],_0x2c4735[_0x4f5447(0x24d)](_0x289874));}}_0x59b91f['add'](_0x2c4735),this[_0x4f5447(0x212)]=[];for(let _0x56651d=0x0;_0x56651d<0x6;_0x56651d++){const _0x4e4820=_0x56651d/0x6*Math['PI']*0x2,_0x273ada=new _0x440aec[(_0x4f5447(0x114))](0.2,0.2,0.05,0x20),_0x1d8fc7=new _0x440aec[(_0x4f5447(0x20d))](_0x273ada,this[_0x4f5447(0x1c4)]);_0x1d8fc7['position'][_0x4f5447(0x1e9)](Math[_0x4f5447(0x139)](_0x4e4820)*(_0x3f2242-0x4),_0x2da4b4-0.025,Math['sin'](_0x4e4820)*(_0x3f2242-0x4)),_0x1d8fc7[_0x4f5447(0x278)]['x']=Math['PI']/0x2,_0x59b91f[_0x4f5447(0x24d)](_0x1d8fc7);const _0x3426b5=new _0x440aec['SpotLight'](0xffffff,1.5,0xf,Math['PI']/0x6,0.5);_0x3426b5[_0x4f5447(0x1f1)][_0x4f5447(0x1e9)](Math[_0x4f5447(0x139)](_0x4e4820)*(_0x3f2242-0x4),_0x2da4b4-0.1,Math[_0x4f5447(0x10a)](_0x4e4820)*(_0x3f2242-0x4)),_0x3426b5['target'][_0x4f5447(0x1f1)][_0x4f5447(0x1e9)](Math[_0x4f5447(0x139)](_0x4e4820)*(_0x3f2242-0x4),0x0,Math['sin'](_0x4e4820)*(_0x3f2242-0x4)),_0x3426b5[_0x4f5447(0x116)]=!![],_0x59b91f[_0x4f5447(0x24d)](_0x3426b5),_0x59b91f[_0x4f5447(0x24d)](_0x3426b5[_0x4f5447(0x26a)]),this[_0x4f5447(0x212)][_0x4f5447(0x14c)]({'mesh':_0x1d8fc7,'spot':_0x3426b5});}this['glassSpotlights']=[];const _0x59541a=0xc;for(let _0x472a98=0x0;_0x472a98<_0x59541a;_0x472a98++){const _0x18d57e=_0x472a98/_0x59541a*Math['PI']*0x2,_0x2d287a=Math['PI']*0x2*_0x3f2242/_0x59541a,_0xdc061b=new _0x440aec[(_0x4f5447(0x297))]();_0xdc061b['moveTo'](-_0x2d287a/0x2,0x0),_0xdc061b['lineTo'](_0x2d287a/0x2,0x0),_0xdc061b[_0x4f5447(0x17b)](_0x2d287a/0x2-0.5,_0x2da4b4-1.5),_0xdc061b[_0x4f5447(0x17b)](-_0x2d287a/0x2+0.5,_0x2da4b4-1.5),_0xdc061b[_0x4f5447(0x17b)](-_0x2d287a/0x2,0x0);const _0x426065=new _0x440aec['ExtrudeGeometry'](_0xdc061b,{'depth':0.1,'bevelEnabled':![]}),_0x15cd91=new _0x440aec[(_0x4f5447(0x20d))](_0x426065,_0x230f6a);_0x15cd91['position'][_0x4f5447(0x1e9)](Math[_0x4f5447(0x139)](_0x18d57e)*_0x3f2242,0x0,Math[_0x4f5447(0x10a)](_0x18d57e)*_0x3f2242),_0x15cd91[_0x4f5447(0x278)]['y']=_0x18d57e+Math['PI']/0x2,_0x15cd91[_0x4f5447(0x116)]=!![],_0x15cd91[_0x4f5447(0x269)]=!![],_0x15cd91['userData']={'baseIntensity':0.8},_0x59b91f[_0x4f5447(0x24d)](_0x15cd91);const _0x116808=new _0x440aec[(_0x4f5447(0x113))](_0x2d287a*0.95,0.2,0.2),_0x59acd3=new _0x440aec[(_0x4f5447(0x20d))](_0x116808,_0x5d69ec);_0x59acd3['position']['set'](Math[_0x4f5447(0x139)](_0x18d57e)*_0x3f2242,_0x2da4b4-0.1,Math['sin'](_0x18d57e)*_0x3f2242),_0x59acd3[_0x4f5447(0x278)]['y']=_0x18d57e+Math['PI']/0x2,_0x59acd3[_0x4f5447(0x278)]['z']=Math['PI']/0xc,_0x59acd3['castShadow']=!![],_0x59b91f[_0x4f5447(0x24d)](_0x59acd3);const _0x1c767a=new _0x440aec[(_0x4f5447(0x113))](0.15,_0x2da4b4-1.5,0.15),_0x3bd77f=new _0x440aec[(_0x4f5447(0x20d))](_0x1c767a,_0x5d69ec);_0x3bd77f[_0x4f5447(0x1f1)]['set'](Math['cos'](_0x18d57e)*_0x3f2242-Math[_0x4f5447(0x10a)](_0x18d57e)*(_0x2d287a/0x2-0.1),(_0x2da4b4-1.5)/0x2,Math[_0x4f5447(0x10a)](_0x18d57e)*_0x3f2242+Math[_0x4f5447(0x139)](_0x18d57e)*(_0x2d287a/0x2-0.1)),_0x3bd77f['rotation']['y']=_0x18d57e+Math['PI']/0x2,_0x3bd77f[_0x4f5447(0x116)]=!![],_0x59b91f['add'](_0x3bd77f);const _0x110fb6=new _0x440aec[(_0x4f5447(0x20d))](_0x1c767a,_0x5d69ec);_0x110fb6[_0x4f5447(0x1f1)][_0x4f5447(0x1e9)](Math[_0x4f5447(0x139)](_0x18d57e)*_0x3f2242+Math['sin'](_0x18d57e)*(_0x2d287a/0x2-0.1),(_0x2da4b4-1.5)/0x2,Math[_0x4f5447(0x10a)](_0x18d57e)*_0x3f2242-Math[_0x4f5447(0x139)](_0x18d57e)*(_0x2d287a/0x2-0.1)),_0x110fb6[_0x4f5447(0x278)]['y']=_0x18d57e+Math['PI']/0x2,_0x110fb6['castShadow']=!![],_0x59b91f[_0x4f5447(0x24d)](_0x110fb6);const _0xd7c804=new _0x440aec[(_0x4f5447(0x114))](0.1,0.1,0.3,0x20),_0x5e2175=new _0x440aec[(_0x4f5447(0x20d))](_0xd7c804,this[_0x4f5447(0x1c4)]);_0x5e2175[_0x4f5447(0x1f1)]['set'](Math[_0x4f5447(0x139)](_0x18d57e)*_0x3f2242,_0x2da4b4-0.4,Math[_0x4f5447(0x10a)](_0x18d57e)*_0x3f2242),_0x5e2175['rotation']['y']=_0x18d57e+Math['PI']/0x2,_0x5e2175[_0x4f5447(0x278)]['x']=-Math['PI']/0x4,_0x59b91f[_0x4f5447(0x24d)](_0x5e2175);const _0x43d346=new _0x440aec[(_0x4f5447(0x13b))](0xffffff,0.8,0xa,Math['PI']/0x8,0.7);_0x43d346[_0x4f5447(0x1f1)][_0x4f5447(0x108)](_0x5e2175[_0x4f5447(0x1f1)]),_0x43d346['target'][_0x4f5447(0x1f1)][_0x4f5447(0x1e9)](Math[_0x4f5447(0x139)](_0x18d57e)*_0x3f2242,(_0x2da4b4-1.5)/0x2,Math[_0x4f5447(0x10a)](_0x18d57e)*_0x3f2242),_0x43d346[_0x4f5447(0x116)]=!![],_0x59b91f['add'](_0x43d346),_0x59b91f['add'](_0x43d346[_0x4f5447(0x26a)]),this['glassSpotlights']['push']({'mesh':_0x5e2175,'spot':_0x43d346,'position':_0x43d346[_0x4f5447(0x1f1)][_0x4f5447(0x115)]()});}this[_0x4f5447(0x250)]=[];const _0x59cc32=0x8,_0x45f4a7=0x4;for(let _0x4800ab=0x0;_0x4800ab<0x4;_0x4800ab++){const _0x187766=_0x4800ab/0x4*Math['PI']*0x2+Math['PI']/0x8,_0x300238=new _0x440aec[(_0x4f5447(0x225))](),_0x3c9af9=new _0x440aec[(_0x4f5447(0x130))](_0x45f4a7,_0x59cc32),_0x27788a=new _0x440aec[(_0x4f5447(0x20d))](_0x3c9af9,_0x451866);_0x27788a['position'][_0x4f5447(0x1e9)](0x0,_0x59cc32/0x2,0x0),_0x27788a[_0x4f5447(0x116)]=!![],_0x27788a['receiveShadow']=!![],_0x300238['add'](_0x27788a);const _0x2de11c=0.4,_0x22f5db=0.35,_0x37dfc0=new _0x440aec[(_0x4f5447(0x114))](_0x2de11c,_0x2de11c,_0x22f5db,0x6);for(let _0x34029f=0x0;_0x34029f<0x6;_0x34029f++){for(let _0x434913=0x0;_0x434913<0x5;_0x434913++){const _0x5735b4=new _0x440aec[(_0x4f5447(0x20d))](_0x37dfc0,_0x451866),_0x2d8200=(_0x434913-0x2)*_0x2de11c*1.5+(_0x34029f%0x2===0x0?0x0:_0x2de11c*0.75),_0x2c7e4d=(_0x34029f-2.5)*_0x2de11c*1.3;_0x5735b4['position'][_0x4f5447(0x1e9)](_0x2d8200,_0x2c7e4d+_0x59cc32/0x2,_0x22f5db/0x2),_0x5735b4[_0x4f5447(0x278)]['x']=Math['PI']/0x2,_0x5735b4[_0x4f5447(0x116)]=!![],_0x5735b4[_0x4f5447(0x269)]=!![],_0x300238['add'](_0x5735b4);}}const _0x496751=new _0x440aec['BoxGeometry'](0.1,_0x59cc32*0.85,0.1),_0x25f717=new _0x440aec[(_0x4f5447(0x20d))](_0x496751,this['ledMaterial']);_0x25f717[_0x4f5447(0x1f1)][_0x4f5447(0x1e9)](-_0x45f4a7/0x2+0.2,_0x59cc32/0x2,_0x22f5db+0.05),_0x300238[_0x4f5447(0x24d)](_0x25f717);const _0x1552bf=new _0x440aec['Mesh'](_0x496751,this[_0x4f5447(0x1c4)]);_0x1552bf['position'][_0x4f5447(0x1e9)](_0x45f4a7/0x2-0.2,_0x59cc32/0x2,_0x22f5db+0.05),_0x300238[_0x4f5447(0x24d)](_0x1552bf),this[_0x4f5447(0x250)][_0x4f5447(0x14c)]({'left':_0x25f717,'right':_0x1552bf,'position':_0x300238['position'][_0x4f5447(0x115)]()}),_0x300238[_0x4f5447(0x1f1)][_0x4f5447(0x1e9)](Math[_0x4f5447(0x139)](_0x187766)*(_0x3f2242-0x2),0x0,Math['sin'](_0x187766)*(_0x3f2242-0x2)),_0x300238[_0x4f5447(0x278)]['y']=_0x187766+Math['PI']/0x2,_0x59b91f['add'](_0x300238);}const _0x42262e=new _0x440aec[(_0x4f5447(0x114))](0x1,0x1,_0x2da4b4,0x20),_0xfda5fa=new _0x440aec['Mesh'](_0x42262e,_0x271d97);_0xfda5fa[_0x4f5447(0x1f1)][_0x4f5447(0x1e9)](0x0,_0x2da4b4/0x2,0x0),_0xfda5fa[_0x4f5447(0x116)]=!![],_0xfda5fa['receiveShadow']=!![],_0x59b91f[_0x4f5447(0x24d)](_0xfda5fa);const _0x22e610=new _0x440aec[(_0x4f5447(0x114))](0.3,0.3,0.7,0x20),_0x173076=new _0x440aec[(_0x4f5447(0x11e))]({'color':0x616161}),_0x5e8b4a=new _0x440aec[(_0x4f5447(0x20d))](_0x22e610,_0x173076);_0x5e8b4a[_0x4f5447(0x1f1)][_0x4f5447(0x1e9)](0x0,0.85,-0xa),_0x59b91f[_0x4f5447(0x24d)](_0x5e8b4a),_0x59b91f[_0x4f5447(0x1f1)]['set'](0x0,0x0,0x0),this['rooms'][_0x4f5447(0x14c)](_0x59b91f),this[_0x4f5447(0x1c6)][_0x4f5447(0x153)](_0x1a2de1=>this['scene']['add'](_0x1a2de1));}['generateModernWallTexture'](_0x5cc85e,_0x4b0f18){const _0x41acb6=_0x50c28d,_0x191317=document['createElement'](_0x41acb6(0x1f0));_0x191317[_0x41acb6(0x1c0)]=_0x5cc85e,_0x191317[_0x41acb6(0x1a3)]=_0x4b0f18;const _0x209e3f=_0x191317[_0x41acb6(0x1f9)]('2d'),_0x4fac3f=_0x209e3f[_0x41acb6(0x266)](_0x5cc85e,_0x4b0f18);for(let _0x5ebf84=0x0;_0x5ebf84<_0x5cc85e;_0x5ebf84++){for(let _0x4454a8=0x0;_0x4454a8<_0x4b0f18;_0x4454a8++){const _0xfe4086=(_0x4454a8*_0x5cc85e+_0x5ebf84)*0x4,_0x13f684=Math[_0x41acb6(0x10a)](_0x5ebf84*0.05+_0x4454a8*0.05)*0.5+0.5;_0x4fac3f[_0x41acb6(0x140)][_0xfe4086]=_0x13f684*0xff,_0x4fac3f[_0x41acb6(0x140)][_0xfe4086+0x1]=_0x13f684*0xff,_0x4fac3f[_0x41acb6(0x140)][_0xfe4086+0x2]=0xff,_0x4fac3f[_0x41acb6(0x140)][_0xfe4086+0x3]=0xff;}}return _0x209e3f['putImageData'](_0x4fac3f,0x0,0x0),_0x191317;}[_0x50c28d(0xf9)](_0x19eb53,_0xb17d78){const _0x17cc62=_0x50c28d,_0x5c6c62=document['createElement'](_0x17cc62(0x1f0));_0x5c6c62['width']=_0x19eb53,_0x5c6c62[_0x17cc62(0x1a3)]=_0xb17d78;const _0x558e03=_0x5c6c62[_0x17cc62(0x1f9)]('2d'),_0x1fd50b=_0x558e03['createImageData'](_0x19eb53,_0xb17d78);for(let _0xb8e639=0x0;_0xb8e639<_0x1fd50b[_0x17cc62(0x140)][_0x17cc62(0x1fb)];_0xb8e639+=0x4){const _0x50c85d=Math['random']()*0.1+0.9;_0x1fd50b[_0x17cc62(0x140)][_0xb8e639]=0x88*_0x50c85d,_0x1fd50b[_0x17cc62(0x140)][_0xb8e639+0x1]=0x88*_0x50c85d,_0x1fd50b[_0x17cc62(0x140)][_0xb8e639+0x2]=0x88*_0x50c85d,_0x1fd50b['data'][_0xb8e639+0x3]=0xff;}return _0x558e03[_0x17cc62(0x1e1)](_0x1fd50b,0x0,0x0),_0x5c6c62;}['createAvatar'](){const _0x145ce0=_0x50c28d;this[_0x145ce0(0xf6)]=new _0x440aec[(_0x145ce0(0x225))]();const _0x55bbf8=new _0x440aec[(_0x145ce0(0x182))]({'color':0xffffff,'transparent':!![],'opacity':0.3}),_0x36871a=new _0x440aec['Mesh'](new _0x440aec[(_0x145ce0(0x130))](0.5,0.5),new _0x440aec[(_0x145ce0(0x182))]({'color':0xff00,'transparent':!![],'opacity':0x0}));_0x36871a[_0x145ce0(0x1f1)]['set'](0x2,1.7,0x2),this['avatarGroup'][_0x145ce0(0x24d)](_0x36871a);const _0x332732=new _0x440aec[(_0x145ce0(0x20d))](new _0x440aec[(_0x145ce0(0x114))](0.3,0.3,0x1,0x20),_0x55bbf8);_0x332732[_0x145ce0(0x1f1)][_0x145ce0(0x1e9)](0x2,0.5,0x2),this[_0x145ce0(0xf6)][_0x145ce0(0x24d)](_0x332732);const _0x38fa52=new _0x440aec[(_0x145ce0(0x20d))](new _0x440aec[(_0x145ce0(0x26e))](0.2,0x20,0x20),_0x55bbf8);_0x38fa52[_0x145ce0(0x1f1)][_0x145ce0(0x1e9)](0x2,1.2,0x2),this[_0x145ce0(0xf6)][_0x145ce0(0x24d)](_0x38fa52);const _0x16979b=new _0x440aec[(_0x145ce0(0x114))](0.1,0.1,0.5,0x20),_0x19f213=new _0x440aec[(_0x145ce0(0x20d))](_0x16979b,_0x55bbf8);_0x19f213[_0x145ce0(0x1f1)][_0x145ce0(0x1e9)](1.7,0.7,0x2),_0x19f213['rotation']['z']=Math['PI']/0x4,this[_0x145ce0(0xf6)][_0x145ce0(0x24d)](_0x19f213);const _0x168599=new _0x440aec[(_0x145ce0(0x20d))](_0x16979b,_0x55bbf8);_0x168599[_0x145ce0(0x1f1)][_0x145ce0(0x1e9)](2.3,0.7,0x2),_0x168599['rotation']['z']=-Math['PI']/0x4,this[_0x145ce0(0xf6)]['add'](_0x168599);const _0x178476=new _0x440aec[(_0x145ce0(0x114))](0.1,0.1,0.5,0x20),_0xccab6f=new _0x440aec[(_0x145ce0(0x20d))](_0x178476,_0x55bbf8);_0xccab6f[_0x145ce0(0x1f1)]['set'](1.8,0.25,0x2),this['avatarGroup'][_0x145ce0(0x24d)](_0xccab6f);const _0x2d62bc=new _0x440aec['Mesh'](_0x178476,_0x55bbf8);_0x2d62bc['position'][_0x145ce0(0x1e9)](2.2,0.25,0x2),this[_0x145ce0(0xf6)]['add'](_0x2d62bc),this[_0x145ce0(0xf6)][_0x145ce0(0xf1)]={'isAvatar':!![]},this[_0x145ce0(0x174)]['add'](this[_0x145ce0(0xf6)]),this[_0x145ce0(0x1cc)](),this['updateAvatarPosition']();}[_0x50c28d(0x1cc)](){const _0x114a8e=_0x50c28d,_0x168b4e=[0x0,0x1,0x2],_0x6cc82e=[[Math['PI']/0x4,-Math['PI']/0x4],[-Math['PI']/0x4,Math['PI']/0x4],[Math['PI']/0x4,-Math['PI']/0x4]],_0x2fa40a=new _0x440aec[(_0x114a8e(0x162))](_0x114a8e(0x216),_0x168b4e,_0x6cc82e[_0x114a8e(0x1b8)](_0x3f0266=>_0x3f0266[0x0])),_0x448d04=new _0x440aec[(_0x114a8e(0x162))]('.children[4].rotation[z]',_0x168b4e,_0x6cc82e['map'](_0x1cc83f=>_0x1cc83f[0x1])),_0x4b9fd1=new _0x440aec[(_0x114a8e(0x23f))](_0x114a8e(0x1d7),0x2,[_0x2fa40a,_0x448d04]),_0x171e9b=this[_0x114a8e(0xea)][_0x114a8e(0x1cb)](_0x4b9fd1,this[_0x114a8e(0xf6)]);_0x171e9b['setLoop'](_0x440aec[_0x114a8e(0x21f)]),_0x171e9b[_0x114a8e(0x123)]();}[_0x50c28d(0xfc)](){const _0x2d8ca2=_0x50c28d;if(this['isMobile']){const _0x3ab1b9=this[_0x2d8ca2(0x1c6)][this['currentRoom']][_0x2d8ca2(0x1f1)][_0x2d8ca2(0x115)]();this[_0x2d8ca2(0xf6)]['position']['copy'](_0x3ab1b9),this['avatarGroup'][_0x2d8ca2(0x1f1)]['y']=0.5;}else{const _0x340661=new _0x440aec[(_0x2d8ca2(0x107))]();this[_0x2d8ca2(0x11b)][_0x2d8ca2(0x181)](_0x340661),_0x340661['y']=0x0,_0x340661[_0x2d8ca2(0x150)]()['multiplyScalar'](0x3),this[_0x2d8ca2(0xf6)]['position'][_0x2d8ca2(0x108)](this[_0x2d8ca2(0x11b)]['position'])[_0x2d8ca2(0x24d)](_0x340661),this[_0x2d8ca2(0xf6)][_0x2d8ca2(0x1f1)]['y']=0.5;}}async[_0x50c28d(0x1b3)](){const _0x24d745=_0x50c28d;try{const _0x472fdd=await this[_0x24d745(0x1ac)]('sweet.mp3');this[_0x24d745(0x231)]['setBuffer'](_0x472fdd),this[_0x24d745(0x231)][_0x24d745(0x1fc)](!![]),this[_0x24d745(0x231)][_0x24d745(0x1a9)](0.2),this[_0x24d745(0x231)][_0x24d745(0x123)]();const _0x40d430=await this[_0x24d745(0x1ac)](_0x24d745(0x125));this[_0x24d745(0xfb)][_0x24d745(0x25c)](_0x40d430),this[_0x24d745(0xfb)]['setVolume'](0.5);}catch(_0x32082b){console['error']('Error\x20loading\x20audio:',_0x32082b);}}['loadAudio'](_0x1fa241){return new Promise((_0x1e0ff5,_0x2505f5)=>{const _0x1f3222=_0x461a,_0x3b2e1b=new _0x440aec['AudioLoader']();_0x3b2e1b[_0x1f3222(0x1f4)](_0x1fa241,_0x3b2558=>_0x1e0ff5(_0x3b2558),undefined,_0x179cf6=>_0x2505f5(_0x179cf6));});}[_0x50c28d(0x1aa)](){const _0x2d5159=_0x50c28d;console[_0x2d5159(0x21a)](_0x2d5159(0x1bb));if(this[_0x2d5159(0x26f)])this['loadImages'](this[_0x2d5159(0x26f)]);this['animate'](),window['addEventListener'](_0x2d5159(0x273),()=>this[_0x2d5159(0x100)]());}['animate'](){const _0xd11030=_0x50c28d;requestAnimationFrame(()=>this[_0xd11030(0x1f6)]());const _0x301482=0.016;this[_0xd11030(0x26d)]+=_0x301482,this[_0xd11030(0xee)](),this['updateImageEffects'](),this['updateLighting'](),this['renderer']['render'](this[_0xd11030(0x174)],this[_0xd11030(0x11b)]);if(this[_0xd11030(0xed)])this['controls'][_0xd11030(0xee)]();this[_0xd11030(0xfc)]();if(this[_0xd11030(0x175)]){}this['animationMixer'][_0xd11030(0xee)](_0x301482*this[_0xd11030(0x20a)]),this[_0xd11030(0x16f)]();}['startRecording'](){const _0x4ac337=_0x50c28d;if(this[_0x4ac337(0x175)])return;this['isRecording']=!![],this[_0x4ac337(0x24a)]=[];const _0x4d93ce=this['renderer'][_0x4ac337(0x1c1)][_0x4ac337(0xec)](0x1e);this[_0x4ac337(0x183)]=new MediaRecorder(_0x4d93ce,{'mimeType':'video/webm'}),this[_0x4ac337(0x183)][_0x4ac337(0x290)]=_0x56f2b6=>{const _0x51ec1d=_0x4ac337;_0x56f2b6['data'][_0x51ec1d(0x13d)]>0x0&&this[_0x51ec1d(0x24a)][_0x51ec1d(0x14c)](_0x56f2b6['data']);},this[_0x4ac337(0x183)][_0x4ac337(0x282)]=()=>{const _0x10a0eb=_0x4ac337;this[_0x10a0eb(0x189)]();},this[_0x4ac337(0x183)][_0x4ac337(0x1e5)](),document[_0x4ac337(0x18b)]('recordStatus')[_0x4ac337(0x254)][_0x4ac337(0x128)](_0x4ac337(0x23a)),console[_0x4ac337(0x21a)]('üé•\x20Recording\x20started');}[_0x50c28d(0x260)](){const _0x1adf72=_0x50c28d;if(!this[_0x1adf72(0x175)]||!this['mediaRecorder'])return;this[_0x1adf72(0x175)]=![],this[_0x1adf72(0x183)][_0x1adf72(0x1f2)](),document[_0x1adf72(0x18b)]('recordStatus')[_0x1adf72(0x254)][_0x1adf72(0x24d)](_0x1adf72(0x23a)),console[_0x1adf72(0x21a)](_0x1adf72(0x1ab));}['saveRecording'](){const _0x5abbad=_0x50c28d,_0x18a490=new Blob(this[_0x5abbad(0x24a)],{'type':_0x5abbad(0x147)}),_0x16868b=URL['createObjectURL'](_0x18a490),_0x25d0a9=document[_0x5abbad(0x20e)]('a');_0x25d0a9[_0x5abbad(0x1eb)]=_0x16868b,_0x25d0a9['download']='gallery_recording_'+new Date()[_0x5abbad(0x262)]()+_0x5abbad(0x137),_0x25d0a9[_0x5abbad(0x21d)](),URL[_0x5abbad(0x28d)](_0x16868b),this[_0x5abbad(0x24a)]=[];}[_0x50c28d(0x14a)](){const _0x3bc0cf=_0x50c28d;this['isAutoRotating']=!this[_0x3bc0cf(0x240)];const _0x2b9d4a=document[_0x3bc0cf(0x18b)](_0x3bc0cf(0x1d0));_0x2b9d4a['textContent']=this[_0x3bc0cf(0x240)]?'Stop\x20Rotation':_0x3bc0cf(0x1da),console['log'](this[_0x3bc0cf(0x240)]?'üîÑ\x20Auto-rotation\x20enabled':'üîÑ\x20Auto-rotation\x20disabled');}[_0x50c28d(0x101)](){const _0x52cdfe=_0x50c28d;this[_0x52cdfe(0x214)]=!this[_0x52cdfe(0x214)];const _0x12a98a=document[_0x52cdfe(0x18b)]('animateObjectsBtn');_0x12a98a[_0x52cdfe(0x18f)]=this[_0x52cdfe(0x214)]?_0x52cdfe(0xfd):'Animate\x20Objects',console['log'](this[_0x52cdfe(0x214)]?_0x52cdfe(0x1a5):_0x52cdfe(0x1fa));}[_0x50c28d(0xe7)](){const _0x39bbd1=_0x50c28d;if(this[_0x39bbd1(0x240)]&&!this[_0x39bbd1(0x119)]){if(this[_0x39bbd1(0xed)])this['controls']['azimuthAngle']+=_0x440aec[_0x39bbd1(0x275)][_0x39bbd1(0x1ce)](this['autoRotateSpeed']),this[_0x39bbd1(0x161)][_0x39bbd1(0xee)]();else{if(this[_0x39bbd1(0x1ad)]){const _0x1f49ab=new _0x440aec[(_0x39bbd1(0x255))](0x0,0x0,0x0,_0x39bbd1(0x1ed));_0x1f49ab[_0x39bbd1(0x202)](this[_0x39bbd1(0x11b)][_0x39bbd1(0x1ec)]),_0x1f49ab['y']-=_0x440aec[_0x39bbd1(0x275)][_0x39bbd1(0x1ce)](this[_0x39bbd1(0x1e8)]),this[_0x39bbd1(0x11b)]['quaternion'][_0x39bbd1(0x164)](_0x1f49ab);}}}}[_0x50c28d(0x16f)](){const _0x20103d=_0x50c28d;this['isAnimatingObjects']&&(this[_0x20103d(0x112)][_0x20103d(0x153)](_0x432064=>{const _0x4ee6e3=_0x20103d;_0x432064[_0x4ee6e3(0x261)][_0x4ee6e3(0x278)]['y']+=0.02*this[_0x4ee6e3(0x20a)];}),this[_0x20103d(0x250)][_0x20103d(0x153)](_0x500e97=>{const _0x4082c0=_0x20103d;_0x500e97[_0x4082c0(0x180)][_0x4082c0(0x278)]['y']+=0.03*this['animationSpeed'],_0x500e97[_0x4082c0(0x154)][_0x4082c0(0x278)]['y']+=0.03*this[_0x4082c0(0x20a)];}),this[_0x20103d(0x135)][_0x20103d(0x153)](_0x1d757f=>{const _0x54cc33=_0x20103d;_0x1d757f['mesh'][_0x54cc33(0x278)]['y']+=0.01*this[_0x54cc33(0x20a)];}));}[_0x50c28d(0x19e)](){const _0x482661=_0x50c28d,_0x47ea0b=this[_0x482661(0x26d)]||0x0,_0xdb6dad=(Math[_0x482661(0x10a)](_0x47ea0b*0.5)+0x1)/0x2,_0xe1fbbb=new _0x440aec[(_0x482661(0x200))]()['setHSL'](_0xdb6dad,0.5,0.7);this[_0x482661(0x1c4)][_0x482661(0x169)]['copy'](_0xe1fbbb),this[_0x482661(0x1c4)][_0x482661(0x151)]['copy'](_0xe1fbbb),this[_0x482661(0x250)][_0x482661(0x153)](_0x106d47=>{const _0x14c09d=_0x482661,_0xca9f2b=this['camera'][_0x14c09d(0x1f1)][_0x14c09d(0x1bc)](_0x106d47['position']),_0x37fa5a=Math[_0x14c09d(0x1dc)](0.8,Math['min'](1.5,0x2-_0xca9f2b/0xa));_0x106d47['left'][_0x14c09d(0x247)]['emissiveIntensity']=_0x37fa5a,_0x106d47['right']['material'][_0x14c09d(0x1de)]=_0x37fa5a;}),this[_0x482661(0x135)][_0x482661(0x153)](_0x25e82c=>{const _0x2559b8=_0x482661,_0x478bc8=this[_0x2559b8(0x11b)][_0x2559b8(0x1f1)][_0x2559b8(0x1bc)](_0x25e82c[_0x2559b8(0x1f1)]),_0x420f10=Math['max'](0.8,Math[_0x2559b8(0x1b0)](0x2,0x3-_0x478bc8/0x6));_0x25e82c['spot'][_0x2559b8(0x1ae)]=_0x420f10,_0x25e82c['mesh'][_0x2559b8(0x247)]['emissiveIntensity']=_0x420f10*0.8;});const _0x1bb23a=1.5+Math['sin'](_0x47ea0b*0x2)*0.3;this['ceilingLights'][_0x482661(0x153)](_0x49dd8a=>{const _0x3691db=_0x482661;_0x49dd8a[_0x3691db(0x21c)][_0x3691db(0x1ae)]=_0x1bb23a,_0x49dd8a[_0x3691db(0x261)][_0x3691db(0x247)][_0x3691db(0x1de)]=_0x1bb23a*0.8;});}[_0x50c28d(0x193)](){const _0x46a0ba=_0x50c28d;this[_0x46a0ba(0x112)][_0x46a0ba(0x153)]((_0xbe53c5,_0x5a5e0a)=>{const _0x241881=_0x46a0ba;if(_0xbe53c5['mesh']['material'][_0x241881(0x296)]){_0xbe53c5[_0x241881(0x261)]['material']['uniforms'][_0x241881(0x26d)][_0x241881(0x177)]=this['time']+_0x5a5e0a;const _0x1ba4cd=_0xbe53c5[_0x241881(0x261)][_0x241881(0xf2)][_0x241881(0x249)][_0x241881(0x222)](_0x2c51c7=>_0x2c51c7 instanceof _0x440aec[_0x241881(0x13b)]&&_0x2c51c7[_0x241881(0x26a)]===_0xbe53c5[_0x241881(0x261)]);_0x1ba4cd&&(_0x1ba4cd[_0x241881(0x1ae)]=0x2+Math['sin'](this['time']*0x2+_0x5a5e0a)*0.2);}});}[_0x50c28d(0xf3)](){const _0x2a59d1=_0x50c28d,_0x4e8f14=document[_0x2a59d1(0x20e)](_0x2a59d1(0x259));_0x4e8f14['id']=_0x2a59d1(0x16d),_0x4e8f14[_0x2a59d1(0x133)][_0x2a59d1(0x21b)]=_0x2a59d1(0x185);this[_0x2a59d1(0xed)]?_0x4e8f14['innerHTML']=_0x2a59d1(0x1b5):_0x4e8f14[_0x2a59d1(0x1a4)]=_0x2a59d1(0x1ff);document[_0x2a59d1(0x221)][_0x2a59d1(0x106)](_0x4e8f14),this['renderer'][_0x2a59d1(0x1c1)]['addEventListener'](this[_0x2a59d1(0xed)]?_0x2a59d1(0x168):_0x2a59d1(0x21d),_0x28699e=>this[_0x2a59d1(0x1a6)](_0x28699e));!this['isMobile']?(document[_0x2a59d1(0x256)](_0x2a59d1(0x103),_0x2767b0=>this[_0x2a59d1(0x191)](_0x2767b0)),document['addEventListener'](_0x2a59d1(0x241),_0x5a0d2a=>this[_0x2a59d1(0x134)](_0x5a0d2a)),this[_0x2a59d1(0x198)][_0x2a59d1(0x1c1)]['addEventListener'](_0x2a59d1(0x21d),()=>{const _0x360a6e=_0x2a59d1;!this[_0x360a6e(0x1ad)]&&!this[_0x360a6e(0x119)]&&(this['controls'][_0x360a6e(0x13f)](),_0x4e8f14[_0x360a6e(0x133)][_0x360a6e(0x192)]=_0x360a6e(0xf7));}),document['addEventListener'](_0x2a59d1(0x25f),()=>{const _0xd7736=_0x2a59d1;this[_0xd7736(0x1ad)]=document[_0xd7736(0x1d1)]===this[_0xd7736(0x198)]['domElement'];if(!this[_0xd7736(0x1ad)])this[_0xd7736(0x119)]=![];}),document[_0x2a59d1(0x256)](_0x2a59d1(0x279),()=>{const _0x3e4689=_0x2a59d1;console[_0x3e4689(0x199)](_0x3e4689(0x158));})):_0x4e8f14['style']['display']=_0x2a59d1(0xf7);document[_0x2a59d1(0x18b)](_0x2a59d1(0x102))?.[_0x2a59d1(0x256)](_0x2a59d1(0x230),_0x4ccf31=>this[_0x2a59d1(0x270)](_0x4ccf31)),document['getElementById']('uploadForm')?.[_0x2a59d1(0x256)](_0x2a59d1(0x1d9),_0x4a00ea=>this[_0x2a59d1(0xe8)](_0x4a00ea)),document[_0x2a59d1(0x18b)](_0x2a59d1(0x131))?.[_0x2a59d1(0x256)]('submit',_0x2aacf2=>this[_0x2a59d1(0x1e7)](_0x2aacf2)),document['getElementById'](_0x2a59d1(0xfa))?.[_0x2a59d1(0x256)](_0x2a59d1(0x21d),()=>this[_0x2a59d1(0x294)]()),document['getElementById'](_0x2a59d1(0x11a))?.[_0x2a59d1(0x256)](_0x2a59d1(0x16a),()=>this[_0x2a59d1(0x1bf)]()),document['getElementById']('toggleControlsBtn')?.[_0x2a59d1(0x256)](_0x2a59d1(0x21d),()=>this[_0x2a59d1(0x220)]()),document[_0x2a59d1(0x18b)](_0x2a59d1(0x248))?.['addEventListener'](_0x2a59d1(0x21d),()=>{const _0xaa21ec=_0x2a59d1;this[_0xaa21ec(0x175)]?(this[_0xaa21ec(0x260)](),document[_0xaa21ec(0x18b)](_0xaa21ec(0x248))[_0xaa21ec(0x18f)]=_0xaa21ec(0x1e2)):(this['startRecording'](),document[_0xaa21ec(0x18b)](_0xaa21ec(0x248))[_0xaa21ec(0x18f)]=_0xaa21ec(0x213));}),document['getElementById'](_0x2a59d1(0x1d0))?.[_0x2a59d1(0x256)](_0x2a59d1(0x21d),()=>this[_0x2a59d1(0x14a)]()),document['getElementById'](_0x2a59d1(0xeb))?.[_0x2a59d1(0x256)](_0x2a59d1(0x21d),()=>this[_0x2a59d1(0x101)]()),document[_0x2a59d1(0x18b)](_0x2a59d1(0x289))?.[_0x2a59d1(0x256)](_0x2a59d1(0x16a),()=>{const _0xe78511=_0x2a59d1,_0x3bf1ef=document['getElementById']('animationSpeedSlider'),_0x210458=document['getElementById'](_0xe78511(0x208));this['animationSpeed']=parseFloat(_0x3bf1ef[_0xe78511(0x177)]),_0x210458[_0xe78511(0x18f)]=this['animationSpeed']['toFixed'](0x1);});if(!this[_0x2a59d1(0xed)])document[_0x2a59d1(0x18b)](_0x2a59d1(0x172))?.[_0x2a59d1(0x256)]('input',()=>{const _0x495166=_0x2a59d1,_0x5a29fa=document[_0x495166(0x18b)](_0x495166(0x172)),_0x233998=document['getElementById'](_0x495166(0xff)),_0x208616=parseFloat(_0x5a29fa['value']);_0x233998[_0x495166(0x18f)]=_0x208616[_0x495166(0x283)](0x3),this[_0x495166(0x161)]['setSensitivity'](_0x208616);});else{const _0x45f69e=document['querySelector'](_0x2a59d1(0x27c));if(_0x45f69e)_0x45f69e['style'][_0x2a59d1(0x192)]='none';}const _0x103231=document['getElementById'](_0x2a59d1(0x1e6)),_0xcc08a8=document[_0x2a59d1(0x18b)]('nextImage'),_0x142b41=document[_0x2a59d1(0x18b)](_0x2a59d1(0x1c8));_0x103231?_0x103231[_0x2a59d1(0x256)](_0x2a59d1(0x21d),_0x25f3f0=>{const _0x3cb9f2=_0x2a59d1;_0x25f3f0[_0x3cb9f2(0x176)](),_0x25f3f0[_0x3cb9f2(0x22e)](),this[_0x3cb9f2(0x233)]();}):console[_0x2a59d1(0x199)](_0x2a59d1(0x1a7)),_0xcc08a8?_0xcc08a8[_0x2a59d1(0x256)](_0x2a59d1(0x21d),_0x56c17d=>{const _0x7c3458=_0x2a59d1;_0x56c17d[_0x7c3458(0x176)](),_0x56c17d['stopPropagation'](),this[_0x7c3458(0x25d)]();}):console['error'](_0x2a59d1(0x12e)),_0x142b41?_0x142b41[_0x2a59d1(0x256)](_0x2a59d1(0x21d),_0x59b9bd=>{const _0x24eae2=_0x2a59d1;_0x59b9bd[_0x24eae2(0x176)](),_0x59b9bd['stopPropagation'](),this[_0x24eae2(0x1c8)]();}):console[_0x2a59d1(0x199)](_0x2a59d1(0x204)),document[_0x2a59d1(0x256)]('keydown',_0x2e63c4=>{const _0x29caca=_0x2a59d1;if(this[_0x29caca(0x120)]){if(_0x2e63c4[_0x29caca(0x15f)]===_0x29caca(0x16e))this['prevSliderImage']();else{if(_0x2e63c4[_0x29caca(0x15f)]===_0x29caca(0x237))this[_0x29caca(0x25d)]();else _0x2e63c4[_0x29caca(0x15f)]===_0x29caca(0x287)&&this[_0x29caca(0x1c8)]();}}this[_0x29caca(0x191)](_0x2e63c4);}),document[_0x2a59d1(0x256)](_0x2a59d1(0x25f),()=>{const _0x3f54af=_0x2a59d1;this[_0x3f54af(0x1ad)]=document[_0x3f54af(0x1d1)]===this[_0x3f54af(0x198)][_0x3f54af(0x1c1)],!this[_0x3f54af(0x1ad)]&&this[_0x3f54af(0x120)]&&(document[_0x3f54af(0x18b)]('imageSliderContainer')[_0x3f54af(0x133)][_0x3f54af(0x19c)]=_0x3f54af(0x124));});}[_0x50c28d(0xe8)](_0x34f9b5){const _0x4aa0be=_0x50c28d,_0x252197=_0x34f9b5[_0x4aa0be(0x26a)][_0x4aa0be(0x227)];if(!_0x252197||!this[_0x4aa0be(0x144)])return;this[_0x4aa0be(0x27b)]=Array[_0x4aa0be(0x136)](_0x252197),this['previewContainer'][_0x4aa0be(0x1a4)]='',Array[_0x4aa0be(0x136)](_0x252197)[_0x4aa0be(0x153)](_0x8e98c1=>{const _0x2d259b=_0x4aa0be;if(_0x8e98c1[_0x2d259b(0x20b)]['startsWith']('image/')){const _0x4f7acd=new FileReader();_0x4f7acd[_0x2d259b(0x228)]=_0x3518a0=>{const _0x862c43=_0x2d259b,_0x2166f8=document[_0x862c43(0x20e)]('img');_0x2166f8[_0x862c43(0x132)]=_0x3518a0['target'][_0x862c43(0x11d)],_0x2166f8[_0x862c43(0x12d)]=_0x862c43(0x178),_0x2166f8[_0x862c43(0x133)]['cssText']=_0x862c43(0x129),this[_0x862c43(0x144)]['appendChild'](_0x2166f8);},_0x4f7acd['readAsDataURL'](_0x8e98c1);}}),this[_0x4aa0be(0x1c2)]();}['showMetadataModal'](){const _0x5c80ea=_0x50c28d,_0x47aab8=document['getElementById']('metadataModal'),_0x33897a=document[_0x5c80ea(0x18b)](_0x5c80ea(0x26c));_0x33897a[_0x5c80ea(0x1a4)]='',this[_0x5c80ea(0x27b)][_0x5c80ea(0x153)]((_0x4480e6,_0x13e5cc)=>{const _0x4f364d=_0x5c80ea,_0x2d2849=document[_0x4f364d(0x20e)](_0x4f364d(0x259));_0x2d2849[_0x4f364d(0x1a4)]=_0x4f364d(0x1bd)+_0x4480e6['name']+_0x4f364d(0x1ca)+_0x13e5cc+_0x4f364d(0x122)+_0x4480e6['name']['split']('.')[0x0]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22description-'+_0x13e5cc+_0x4f364d(0x253)+_0x13e5cc+'\x22\x20placeholder=\x22Artist\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x33897a['appendChild'](_0x2d2849);}),_0x47aab8['style'][_0x5c80ea(0x192)]='block',document[_0x5c80ea(0x18b)](_0x5c80ea(0x142))[_0x5c80ea(0x271)]=()=>this[_0x5c80ea(0x142)](),document[_0x5c80ea(0x18b)](_0x5c80ea(0x288))[_0x5c80ea(0x271)]=()=>{const _0x1d7467=_0x5c80ea;_0x47aab8['style'][_0x1d7467(0x192)]=_0x1d7467(0xf7),this[_0x1d7467(0x27b)]=[],this[_0x1d7467(0x144)]['innerHTML']='',document[_0x1d7467(0x18b)](_0x1d7467(0x112))['value']='';};}['submitMetadata'](){const _0x1c9822=_0x50c28d,_0x1a38c2=document[_0x1c9822(0x18b)](_0x1c9822(0x12c));this[_0x1c9822(0xf4)]=this[_0x1c9822(0x27b)]['map']((_0x41abec,_0x335324)=>({'filename':_0x41abec[_0x1c9822(0x15d)],'title':document['getElementById']('title-'+_0x335324)[_0x1c9822(0x177)]||_0x41abec['name'][_0x1c9822(0x1e4)]('.')[0x0],'description':document[_0x1c9822(0x18b)](_0x1c9822(0x167)+_0x335324)[_0x1c9822(0x177)]||'','artist':document[_0x1c9822(0x18b)]('artist-'+_0x335324)['value']||_0x1c9822(0x1d2)})),_0x1a38c2['style']['display']=_0x1c9822(0xf7),this['handleUploadSubmit']({'preventDefault':()=>{}});}[_0x50c28d(0x220)](){const _0x3b15e5=_0x50c28d;this[_0x3b15e5(0x15e)]=!this['controlsVisible'];const _0x110dd7=document[_0x3b15e5(0x1e0)](_0x3b15e5(0x149)),_0x5f42e8=document['getElementById'](_0x3b15e5(0x235));_0x110dd7[_0x3b15e5(0x153)](_0x2adf56=>{const _0x433ba2=_0x3b15e5;_0x2adf56[_0x433ba2(0x254)]['toggle'](_0x433ba2(0x24c),!this['controlsVisible']);}),_0x5f42e8['textContent']=this['controlsVisible']?'Hide\x20Controls':'Show\x20Controls',_0x5f42e8[_0x3b15e5(0x1dd)]('i')&&(_0x5f42e8['querySelector']('i')[_0x3b15e5(0x12d)]=this[_0x3b15e5(0x15e)]?'fas\x20fa-eye':'fas\x20fa-eye-slash'),console['log'](this['controlsVisible']?'üñ•Ô∏è\x20Controls\x20visible':_0x3b15e5(0x156));}[_0x50c28d(0x191)](_0x557ec8){const _0x2a3806=_0x50c28d;switch(_0x557ec8[_0x2a3806(0x15f)][_0x2a3806(0xf8)]()){case'w':this['keys']['w']=!![];break;case'a':this[_0x2a3806(0x1c5)]['a']=!![];break;case's':this[_0x2a3806(0x1c5)]['s']=!![];break;case'd':this['keys']['d']=!![];break;case'q':this[_0x2a3806(0x1c5)]['q']=!![];break;case'e':this['keys']['e']=!![];break;case _0x2a3806(0x28c):this[_0x2a3806(0x161)]['unlock']();break;}}[_0x50c28d(0x134)](_0xe9c62d){const _0x3becb6=_0x50c28d;switch(_0xe9c62d[_0x3becb6(0x15f)][_0x3becb6(0xf8)]()){case'w':this['keys']['w']=![];break;case'a':this[_0x3becb6(0x1c5)]['a']=![];break;case's':this[_0x3becb6(0x1c5)]['s']=![];break;case'd':this[_0x3becb6(0x1c5)]['d']=![];break;case'q':this[_0x3becb6(0x1c5)]['q']=![];break;case'e':this['keys']['e']=![];break;}}[_0x50c28d(0xee)](){const _0x33c9cf=_0x50c28d;if(!this[_0x33c9cf(0xed)]&&this[_0x33c9cf(0x1ad)]&&!this[_0x33c9cf(0xe9)]&&!this['isFocused']){const _0x5a47b2=new _0x440aec[(_0x33c9cf(0x107))](),_0xf497e9=new _0x440aec[(_0x33c9cf(0x107))]();this[_0x33c9cf(0x11b)][_0x33c9cf(0x181)](_0xf497e9),_0xf497e9['y']=0x0,_0xf497e9[_0x33c9cf(0x150)]();if(this[_0x33c9cf(0x1c5)]['w'])_0x5a47b2[_0x33c9cf(0x104)](_0xf497e9,this[_0x33c9cf(0x29b)]);if(this[_0x33c9cf(0x1c5)]['s'])_0x5a47b2['addScaledVector'](_0xf497e9,-this[_0x33c9cf(0x29b)]);if(this[_0x33c9cf(0x1c5)]['a']){const _0x259e86=new _0x440aec['Vector3']()[_0x33c9cf(0x1cf)](this[_0x33c9cf(0x11b)]['up'],_0xf497e9)[_0x33c9cf(0x150)]();_0x5a47b2[_0x33c9cf(0x104)](_0x259e86,-this[_0x33c9cf(0x29b)]);}if(this[_0x33c9cf(0x1c5)]['d']){const _0x1353f4=new _0x440aec['Vector3']()[_0x33c9cf(0x1cf)](this[_0x33c9cf(0x11b)]['up'],_0xf497e9)[_0x33c9cf(0x150)]();_0x5a47b2[_0x33c9cf(0x104)](_0x1353f4,this[_0x33c9cf(0x29b)]);}this[_0x33c9cf(0x161)][_0x33c9cf(0x148)]()[_0x33c9cf(0x1f1)][_0x33c9cf(0x24d)](_0x5a47b2),this[_0x33c9cf(0x22a)]();const _0x458c7e=new _0x440aec[(_0x33c9cf(0x255))](0x0,0x0,0x0,_0x33c9cf(0x1ed));_0x458c7e[_0x33c9cf(0x202)](this[_0x33c9cf(0x11b)][_0x33c9cf(0x1ec)]);if(this[_0x33c9cf(0x1c5)]['q'])_0x458c7e['y']+=this[_0x33c9cf(0x267)];if(this[_0x33c9cf(0x1c5)]['e'])_0x458c7e['y']-=this[_0x33c9cf(0x267)];this[_0x33c9cf(0x11b)][_0x33c9cf(0x1ec)][_0x33c9cf(0x164)](_0x458c7e);}this[_0x33c9cf(0xe7)]();}[_0x50c28d(0x22a)](){const _0x5e1b61=_0x50c28d;if(!this['isMobile']){this[_0x5e1b61(0x11b)][_0x5e1b61(0x1f1)]['y']=1.6;const _0x5b308d=this[_0x5e1b61(0x1c6)][this[_0x5e1b61(0x245)]][_0x5e1b61(0x1f1)],_0x3c5b92=_0x5b308d['x']-0xf,_0x592e88=_0x5b308d['x']+0xf,_0x4a8771=_0x5b308d['z']-0xf,_0x582e37=_0x5b308d['z']+0xf;this[_0x5e1b61(0x11b)][_0x5e1b61(0x1f1)]['x']=Math['max'](_0x3c5b92,Math[_0x5e1b61(0x1b0)](_0x592e88,this[_0x5e1b61(0x11b)]['position']['x'])),this[_0x5e1b61(0x11b)][_0x5e1b61(0x1f1)]['z']=Math[_0x5e1b61(0x1dc)](_0x4a8771,Math[_0x5e1b61(0x1b0)](_0x582e37,this[_0x5e1b61(0x11b)][_0x5e1b61(0x1f1)]['z'])),this[_0x5e1b61(0x161)][_0x5e1b61(0x148)]()[_0x5e1b61(0x1f1)]['copy'](this[_0x5e1b61(0x11b)]['position']);}}async['computeImageHash'](_0x48b289){return new Promise(_0x5a23aa=>{const _0x1dec31=_0x461a,_0x41082c=_0x48b289[_0x1dec31(0x20c)],_0x310d7c=document['createElement'](_0x1dec31(0x1f0));_0x310d7c[_0x1dec31(0x1c0)]=_0x41082c[_0x1dec31(0x1c0)],_0x310d7c[_0x1dec31(0x1a3)]=_0x41082c[_0x1dec31(0x1a3)];const _0x2bcdb5=_0x310d7c[_0x1dec31(0x1f9)]('2d');_0x2bcdb5[_0x1dec31(0x1a8)](_0x41082c,0x0,0x0);const _0x510cfd=_0x2bcdb5['getImageData'](0x0,0x0,_0x41082c[_0x1dec31(0x1c0)],_0x41082c[_0x1dec31(0x1a3)])[_0x1dec31(0x140)];let _0x4d34c9=0x0;for(let _0x4f4815=0x0;_0x4f4815<_0x510cfd['length'];_0x4f4815+=0x4){_0x4d34c9+=_0x510cfd[_0x4f4815]+_0x510cfd[_0x4f4815+0x1]+_0x510cfd[_0x4f4815+0x2]+_0x510cfd[_0x4f4815+0x3];}_0x5a23aa(_0x4d34c9[_0x1dec31(0x292)]());});}async[_0x50c28d(0x209)](_0x4e91ae){const _0x5e080e=_0x50c28d,_0x31886e=0x3;let _0x124b0c=0x0;while(_0x124b0c<_0x31886e){try{const _0x505e90=await fetch(_0x5e080e(0x18d)+_0x4e91ae+'/');if(!_0x505e90['ok'])throw new Error(_0x5e080e(0x272)+_0x505e90[_0x5e080e(0x23e)]);const _0x54b363=await _0x505e90[_0x5e080e(0x1fd)]();console[_0x5e080e(0x21a)](_0x5e080e(0x109),_0x4e91ae,':',_0x54b363);!_0x54b363['screenshots']?.[_0x5e080e(0x1fb)]?(console['log'](_0x5e080e(0x13c)),this[_0x5e080e(0x1d5)]=[_0x5e080e(0x12b),'https://via.placeholder.com/350x250'],this['metadata']=[]):(this[_0x5e080e(0x1d5)]=_0x54b363[_0x5e080e(0x126)],this[_0x5e080e(0xf4)]=_0x54b363[_0x5e080e(0xf4)]||[],!this['metadata'][_0x5e080e(0x1fb)]&&_0x54b363[_0x5e080e(0x126)][_0x5e080e(0x1fb)]?(this[_0x5e080e(0xf4)]=_0x54b363[_0x5e080e(0x126)][_0x5e080e(0x1b8)](_0x221671=>({'filename':_0x221671[_0x5e080e(0x1e4)]('/')['pop'](),'title':_0x5e080e(0x27f),'description':'','artist':_0x5e080e(0x1d2)})),console[_0x5e080e(0x21a)](_0x5e080e(0x277),this[_0x5e080e(0xf4)])):console['log'](_0x5e080e(0x11c),this[_0x5e080e(0xf4)]));await this[_0x5e080e(0x17f)]();return;}catch(_0x43dc39){console[_0x5e080e(0x199)](_0x5e080e(0x1b1)+_0x124b0c+'):',_0x43dc39),_0x124b0c++,_0x124b0c===_0x31886e?(console[_0x5e080e(0x199)]('Max\x20retries\x20reached,\x20using\x20fallback'),this['imagesToLoad']=[_0x5e080e(0x12b),_0x5e080e(0x12b)],this[_0x5e080e(0xf4)]=[],await this['displayImagesInGallery']()):await new Promise(_0x2b483c=>setTimeout(_0x2b483c,0x1f4*_0x124b0c));}}}async[_0x50c28d(0x17f)](){const _0x39789d=_0x50c28d;if(!this['imagesToLoad'])return;this['clearScene']();const _0x1d196a=this[_0x39789d(0x1d5)]['length'];let _0x38e89d=0x0;const _0x4df292=new Set(),_0x3be929=new _0x440aec[(_0x39789d(0x11e))]({'color':0x333333,'roughness':0.5,'metalness':0.8}),_0xd182b4=new _0x440aec['MeshStandardMaterial']({'color':0xff0000,'roughness':0.5,'metalness':0x0}),_0x5df395=this['rooms'][0x0],_0xb54398=0x1e,_0xb70dd4=0x4,_0x2061da=0x3,_0x1e68d1=0.2,_0x47ec47=Math['ceil'](this[_0x39789d(0x1d5)][_0x39789d(0x1fb)]/0x4),_0x5ee161=_0xb54398/(_0x47ec47+0x1),_0x4f24aa=0.5,_0x2ffff6=Math[_0x39789d(0x1b0)](0x10,_0x47ec47*0x4),_0x2f4607=[{'basePos':new _0x440aec[(_0x39789d(0x107))](0x0,2.5,-_0xb54398/0x2+_0x4f24aa),'rot':0x0,'dir':'x'},{'basePos':new _0x440aec[(_0x39789d(0x107))](-_0xb54398/0x2+_0x4f24aa,2.5,0x0),'rot':Math['PI']/0x2,'dir':'z'},{'basePos':new _0x440aec[(_0x39789d(0x107))](_0xb54398/0x2-_0x4f24aa,2.5,0x0),'rot':-Math['PI']/0x2,'dir':'z'},{'basePos':new _0x440aec[(_0x39789d(0x107))](0x0,2.5,_0xb54398/0x2-_0x4f24aa),'rot':Math['PI'],'dir':'x'}];for(let _0x587793 of _0x2f4607){if(_0x38e89d>=_0x1d196a||this[_0x39789d(0x112)][_0x39789d(0x1fb)]>=_0x2ffff6)break;const _0x30782d=[];for(let _0x47f821=0x0;_0x47f821<_0x47ec47&&_0x38e89d<_0x1d196a&&this[_0x39789d(0x112)][_0x39789d(0x1fb)]<_0x2ffff6;_0x47f821++){const _0x65a25a=-_0xb54398/0x2+(_0x47f821+0.5)*(_0xb54398/_0x47ec47),_0x2b3b55=_0x587793['basePos']['clone']();if(_0x587793[_0x39789d(0xf5)]==='x')_0x2b3b55['x']+=_0x65a25a;else _0x2b3b55['z']+=_0x65a25a;_0x30782d[_0x39789d(0x14c)]({'pos':_0x2b3b55,'rot':_0x587793[_0x39789d(0x163)]});}for(let {pos:_0x4c6f4b,rot:_0x2e4f13}of _0x30782d){if(_0x38e89d>=_0x1d196a)break;const _0xaa3dae=this[_0x39789d(0x1d5)][_0x38e89d],_0x526e27=this[_0x39789d(0xf4)][_0x39789d(0x222)](_0x4b20b6=>_0x4b20b6[_0x39789d(0x1ef)]===_0xaa3dae[_0x39789d(0x1e4)]('/')['pop']())||{'title':'Untitled','description':'','artist':_0x39789d(0x1d2)};console['log'](_0x39789d(0x219)+_0xaa3dae+':',_0x526e27);try{const _0x551df2=await this['loadTexture'](_0xaa3dae),_0x52b84b=await this[_0x39789d(0x232)](_0x551df2);if(_0x4df292[_0x39789d(0x25b)](_0x52b84b)){console['warn'](_0x39789d(0x165)+_0xaa3dae+'\x20with\x20hash\x20'+_0x52b84b+_0x39789d(0x1c7)),_0x38e89d++;continue;}_0x4df292[_0x39789d(0x24d)](_0x52b84b);let _0x405181;_0x551df2['image']?_0x405181=new _0x440aec[(_0x39789d(0x203))]({'uniforms':{'map':{'value':_0x551df2},'opacity':{'value':0x1},'time':{'value':0x0}},'vertexShader':_0x39789d(0x18a),'fragmentShader':_0x39789d(0x15a),'transparent':!![],'side':_0x440aec[_0x39789d(0x10e)]}):_0x405181=_0xd182b4;const _0x50b3e7=_0x551df2[_0x39789d(0x20c)]?_0x551df2[_0x39789d(0x20c)]['width']/_0x551df2[_0x39789d(0x20c)]['height']:0x1,_0x458e7b=0x4,_0x15a4cb=Math['min'](_0x2061da*_0x50b3e7,_0x458e7b),_0xe58c35=new _0x440aec[(_0x39789d(0x113))](_0x15a4cb,_0x2061da,_0x1e68d1),_0x3b990c=new _0x440aec[(_0x39789d(0x20d))](_0xe58c35,_0x405181);_0x3b990c[_0x39789d(0x1f1)][_0x39789d(0x108)](_0x4c6f4b)[_0x39789d(0x24d)](_0x5df395[_0x39789d(0x1f1)]),_0x3b990c[_0x39789d(0x278)]['y']=_0x2e4f13,_0x3b990c[_0x39789d(0x116)]=!![],_0x3b990c[_0x39789d(0x269)]=!![],_0x3b990c[_0x39789d(0xf1)]={'filename':_0xaa3dae,'hash':_0x52b84b,'baseScale':_0x3b990c[_0x39789d(0x205)][_0x39789d(0x115)](),'metadata':{'title':_0x526e27['title'],'description':_0x526e27[_0x39789d(0x224)],'artist':_0x526e27[_0x39789d(0x171)]}},_0x5df395[_0x39789d(0x24d)](_0x3b990c),this[_0x39789d(0x112)][_0x39789d(0x14c)]({'mesh':_0x3b990c,'filename':_0xaa3dae,'hash':_0x52b84b,'metadata':_0x526e27});const _0x540acb=0.1,_0x42c42c=new _0x440aec[(_0x39789d(0x297))]();_0x42c42c['moveTo'](-_0x15a4cb/0x2-_0x540acb,-_0x2061da/0x2-_0x540acb),_0x42c42c[_0x39789d(0x17b)](_0x15a4cb/0x2+_0x540acb,-_0x2061da/0x2-_0x540acb),_0x42c42c[_0x39789d(0x17b)](_0x15a4cb/0x2+_0x540acb,_0x2061da/0x2+_0x540acb),_0x42c42c[_0x39789d(0x17b)](-_0x15a4cb/0x2-_0x540acb,_0x2061da/0x2+_0x540acb),_0x42c42c[_0x39789d(0x17b)](-_0x15a4cb/0x2-_0x540acb,-_0x2061da/0x2-_0x540acb);const _0x48260a=new _0x440aec[(_0x39789d(0x23b))]();_0x48260a[_0x39789d(0x258)](-_0x15a4cb/0x2,-_0x2061da/0x2),_0x48260a['lineTo'](_0x15a4cb/0x2,-_0x2061da/0x2),_0x48260a[_0x39789d(0x17b)](_0x15a4cb/0x2,_0x2061da/0x2),_0x48260a[_0x39789d(0x17b)](-_0x15a4cb/0x2,_0x2061da/0x2),_0x48260a[_0x39789d(0x17b)](-_0x15a4cb/0x2,-_0x2061da/0x2),_0x42c42c[_0x39789d(0x242)][_0x39789d(0x14c)](_0x48260a);const _0x59e3d5={'depth':_0x540acb,'bevelEnabled':![]},_0x5a8362=new _0x440aec[(_0x39789d(0x284))](_0x42c42c,_0x59e3d5),_0x168bae=new _0x440aec[(_0x39789d(0x20d))](_0x5a8362,_0x3be929);_0x168bae[_0x39789d(0x1f1)][_0x39789d(0x108)](_0x3b990c[_0x39789d(0x1f1)]),_0x168bae[_0x39789d(0x1f1)]['z']+=_0x2e4f13===0x0?-_0x1e68d1/0x2:_0x2e4f13===Math['PI']?_0x1e68d1/0x2:0x0,_0x168bae[_0x39789d(0x1f1)]['x']+=_0x2e4f13===Math['PI']/0x2?-_0x1e68d1/0x2:_0x2e4f13===-Math['PI']/0x2?_0x1e68d1/0x2:0x0,_0x168bae[_0x39789d(0x278)]['y']=_0x2e4f13,_0x168bae[_0x39789d(0x116)]=!![],_0x168bae[_0x39789d(0x269)]=!![],_0x5df395[_0x39789d(0x24d)](_0x168bae);const _0x5ca958=new _0x440aec[(_0x39789d(0x13b))](0xffffff,0x2,0x14,Math['PI']/0x6,0.7),_0x2d236f=0x2;_0x5ca958[_0x39789d(0x1f1)]['set'](_0x4c6f4b['x']+(Math[_0x39789d(0x1fe)](_0x2e4f13)===Math['PI']/0x2?_0x2e4f13>0x0?_0x2d236f:-_0x2d236f:0x0),0x6,_0x4c6f4b['z']+(Math[_0x39789d(0x1fe)](_0x2e4f13)===Math['PI']/0x2?0x0:_0x2e4f13===0x0?-_0x2d236f:_0x2d236f))[_0x39789d(0x24d)](_0x5df395['position']),_0x5ca958[_0x39789d(0x26a)]=_0x3b990c,_0x5ca958['castShadow']=!![],_0x5ca958[_0x39789d(0x1af)][_0x39789d(0x295)][_0x39789d(0x1c0)]=0x400,_0x5ca958['shadow']['mapSize'][_0x39789d(0x1a3)]=0x400,_0x5ca958[_0x39789d(0x1af)][_0x39789d(0x1b9)]=-0.0001,_0x5df395['add'](_0x5ca958),_0x38e89d++;}catch(_0x2528ee){console[_0x39789d(0x199)](_0x39789d(0x117)+this['imagesToLoad'][_0x38e89d]+':',_0x2528ee),_0x38e89d++;}}}console[_0x39789d(0x21a)](_0x39789d(0x29a)+this['currentRoom']+':',this[_0x39789d(0x112)]['length'],_0x39789d(0x299),_0x4df292['size']);}[_0x50c28d(0x298)](){const _0x3e2b78=_0x50c28d;this[_0x3e2b78(0x112)][_0x3e2b78(0x153)](_0x1338eb=>{const _0x2318bd=_0x3e2b78;_0x1338eb[_0x2318bd(0x261)][_0x2318bd(0xf2)]&&_0x1338eb['mesh'][_0x2318bd(0xf2)][_0x2318bd(0x128)](_0x1338eb[_0x2318bd(0x261)]);_0x1338eb['mesh']['geometry'][_0x2318bd(0x285)]();if(_0x1338eb['mesh'][_0x2318bd(0x247)]['map'])_0x1338eb[_0x2318bd(0x261)][_0x2318bd(0x247)]['map'][_0x2318bd(0x285)]();_0x1338eb[_0x2318bd(0x261)][_0x2318bd(0x247)][_0x2318bd(0x285)]();}),this['images']=[],this[_0x3e2b78(0x1c6)][_0x3e2b78(0x153)](_0x45b6e5=>{const _0x5042c6=_0x3e2b78,_0x3c08fa=_0x45b6e5[_0x5042c6(0x249)][_0x5042c6(0x21e)](_0x529eb2=>_0x529eb2 instanceof _0x440aec[_0x5042c6(0x13b)]||_0x529eb2['material']?.['color']?.[_0x5042c6(0x15b)]()===0x333333);_0x3c08fa['forEach'](_0x3ca1d5=>{const _0x2da986=_0x5042c6;_0x45b6e5[_0x2da986(0x128)](_0x3ca1d5);if(_0x3ca1d5[_0x2da986(0x24e)])_0x3ca1d5[_0x2da986(0x24e)][_0x2da986(0x285)]();if(_0x3ca1d5[_0x2da986(0x247)])_0x3ca1d5['material'][_0x2da986(0x285)]();});}),console[_0x3e2b78(0x21a)]('üóëÔ∏è\x20Scene\x20cleared');}[_0x50c28d(0x201)](_0x207f14){return new Promise((_0x265f2d,_0x23b59a)=>{const _0x5aaa82=_0x461a;this[_0x5aaa82(0x170)][_0x5aaa82(0x1f4)](_0x207f14,_0x4aa74c=>{const _0x517733=_0x5aaa82;_0x4aa74c[_0x517733(0x27e)]=_0x440aec[_0x517733(0x206)],_0x4aa74c[_0x517733(0x1b4)]=_0x440aec['LinearFilter'],_0x4aa74c['generateMipmaps']=!![],_0x4aa74c[_0x517733(0x1cd)]=Math['min'](0x8,this[_0x517733(0x198)][_0x517733(0x13e)][_0x517733(0x265)]()||0x1),_0x4aa74c[_0x517733(0x26b)]=!![],_0x265f2d(_0x4aa74c);},undefined,_0x495e53=>_0x23b59a(_0x495e53));});}[_0x50c28d(0x1a6)](_0x165e0d){const _0x4e5fb9=_0x50c28d,_0x2660ce=new Date()[_0x4e5fb9(0x28e)](),_0x21f336=_0x2660ce-this['lastClickTime'];if(_0x21f336<this['clickDelay']){this[_0x4e5fb9(0xe5)]['x']=_0x165e0d[_0x4e5fb9(0x252)]/window[_0x4e5fb9(0x215)]*0x2-0x1,this[_0x4e5fb9(0xe5)]['y']=-(_0x165e0d[_0x4e5fb9(0x194)]/window[_0x4e5fb9(0x197)])*0x2+0x1,this[_0x4e5fb9(0xfe)][_0x4e5fb9(0x127)](this['mouse'],this[_0x4e5fb9(0x11b)]);const _0x8eb2d1=this[_0x4e5fb9(0xfe)][_0x4e5fb9(0x286)]([...this[_0x4e5fb9(0x112)]['map'](_0x17017b=>_0x17017b[_0x4e5fb9(0x261)]),...this['scene'][_0x4e5fb9(0x249)]['filter'](_0x5e0a09=>_0x5e0a09[_0x4e5fb9(0xf2)]&&_0x5e0a09[_0x4e5fb9(0xf2)][_0x4e5fb9(0xf1)][_0x4e5fb9(0x217)])]);if(_0x8eb2d1[_0x4e5fb9(0x1fb)]>0x0){const _0x5ada84=_0x8eb2d1[0x0][_0x4e5fb9(0x257)];if(this['isFocused'])this[_0x4e5fb9(0x238)](),this[_0x4e5fb9(0x1c8)]();else{if(_0x5ada84[_0x4e5fb9(0xf2)]&&_0x5ada84[_0x4e5fb9(0xf2)]['userData'][_0x4e5fb9(0x217)])this[_0x4e5fb9(0x146)]();else{if(_0x5ada84[_0x4e5fb9(0xf1)][_0x4e5fb9(0x1ef)]){console[_0x4e5fb9(0x21a)]('Clicked\x20image:\x20'+_0x5ada84[_0x4e5fb9(0xf1)][_0x4e5fb9(0x1ef)]);if(!this['clickSound'][_0x4e5fb9(0x145)])this[_0x4e5fb9(0xfb)][_0x4e5fb9(0x123)]();this['focusImage'](_0x5ada84),this[_0x4e5fb9(0x17c)](_0x5ada84),this['openSlider'](_0x5ada84);}}}}}this[_0x4e5fb9(0x1d8)]=_0x2660ce;}[_0x50c28d(0x1b2)](_0x4f5168){const _0x3c38dc=_0x50c28d;if(!this['images'][_0x3c38dc(0x1fb)])return;!this[_0x3c38dc(0xed)]&&this['isLocked']&&(this['controls'][_0x3c38dc(0x105)](),this[_0x3c38dc(0x1ad)]=![]);this[_0x3c38dc(0x120)]=!![],this[_0x3c38dc(0x243)]=this[_0x3c38dc(0x112)][_0x3c38dc(0x1b8)](_0x51cfb0=>({'src':_0x51cfb0['filename'],'mesh':_0x51cfb0[_0x3c38dc(0x261)],'metadata':_0x51cfb0[_0x3c38dc(0xf4)]||_0x51cfb0[_0x3c38dc(0x261)][_0x3c38dc(0xf1)][_0x3c38dc(0xf4)]||{'title':_0x3c38dc(0x27f),'description':'','artist':_0x3c38dc(0x1d2)}})),console['log'](_0x3c38dc(0x1ea),this[_0x3c38dc(0x243)]),this[_0x3c38dc(0x10c)]=this['sliderImages'][_0x3c38dc(0x22f)](_0x40ccfa=>_0x40ccfa['mesh']===_0x4f5168);if(this[_0x3c38dc(0x10c)]===-0x1)this[_0x3c38dc(0x10c)]=0x0;const _0x1ed3c1=document[_0x3c38dc(0x18b)](_0x3c38dc(0x155));_0x1ed3c1?(_0x1ed3c1['classList'][_0x3c38dc(0x128)]('hidden'),_0x1ed3c1['style'][_0x3c38dc(0x19c)]=_0x3c38dc(0x124),this[_0x3c38dc(0x1c3)]()):(console[_0x3c38dc(0x199)](_0x3c38dc(0x23c)),this['isSliderActive']=![]);}[_0x50c28d(0x1c8)](){const _0x23c7b1=_0x50c28d;this[_0x23c7b1(0x120)]=![];const _0x301d8d=document[_0x23c7b1(0x18b)](_0x23c7b1(0x155));_0x301d8d?(_0x301d8d[_0x23c7b1(0x254)]['add'](_0x23c7b1(0x23a)),_0x301d8d[_0x23c7b1(0x133)][_0x23c7b1(0x19c)]='none'):console[_0x23c7b1(0x199)](_0x23c7b1(0x23c)),this['isFocused']?this['resetCamera']():console[_0x23c7b1(0x21a)]('Slider\x20closed;\x20click\x20canvas\x20to\x20re-lock\x20pointer\x20if\x20desired');}[_0x50c28d(0x233)](){const _0x2e56e9=_0x50c28d;this[_0x2e56e9(0x10c)]>0x0&&(this[_0x2e56e9(0x10c)]--,this[_0x2e56e9(0x1c3)](),this[_0x2e56e9(0x1f5)](this[_0x2e56e9(0x243)][this[_0x2e56e9(0x10c)]][_0x2e56e9(0x261)]));}[_0x50c28d(0x25d)](){const _0x4a04e4=_0x50c28d;this[_0x4a04e4(0x10c)]<this['sliderImages'][_0x4a04e4(0x1fb)]-0x1&&(this[_0x4a04e4(0x10c)]++,this[_0x4a04e4(0x1c3)](),this[_0x4a04e4(0x1f5)](this[_0x4a04e4(0x243)][this['currentSliderIndex']][_0x4a04e4(0x261)]));}[_0x50c28d(0x1c3)](){const _0x5a67ef=_0x50c28d,_0x2a3031=document[_0x5a67ef(0x18b)]('sliderImage'),_0x591b73=document[_0x5a67ef(0x18b)](_0x5a67ef(0x14f)),_0x45a653=document[_0x5a67ef(0x1dd)](_0x5a67ef(0x190)),_0x4e8487=this['sliderImages'][this[_0x5a67ef(0x10c)]];if(_0x2a3031&&_0x591b73&&_0x45a653){_0x2a3031[_0x5a67ef(0x132)]=_0x4e8487[_0x5a67ef(0x132)],_0x591b73['textContent']=this['currentSliderIndex']+0x1+'\x20/\x20'+this[_0x5a67ef(0x243)]['length'];let _0x38940f=document[_0x5a67ef(0x18b)](_0x5a67ef(0x184));!_0x38940f&&(_0x38940f=document[_0x5a67ef(0x20e)]('div'),_0x38940f['id']=_0x5a67ef(0x184),_0x38940f['style'][_0x5a67ef(0x21b)]=_0x5a67ef(0x17e),_0x45a653[_0x5a67ef(0x106)](_0x38940f)),_0x38940f['innerHTML']=_0x5a67ef(0x264)+(_0x4e8487[_0x5a67ef(0xf4)]['title']||_0x5a67ef(0x27f))+_0x5a67ef(0x236)+(_0x4e8487[_0x5a67ef(0xf4)][_0x5a67ef(0x171)]||_0x5a67ef(0x1d2))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Description:</strong>\x20'+(_0x4e8487[_0x5a67ef(0xf4)]['description']||'')+_0x5a67ef(0x27a);}else console[_0x5a67ef(0x199)](_0x5a67ef(0x1d4),{'sliderImage':_0x2a3031,'sliderIndex':_0x591b73,'sliderContent':_0x45a653});}[_0x50c28d(0x17c)](_0x1fe97a){const _0x3ebcd1=_0x50c28d,_0x441d1f=_0x1fe97a[_0x3ebcd1(0x205)][_0x3ebcd1(0x115)](),_0x43098a=_0x1fe97a[_0x3ebcd1(0xf1)][_0x3ebcd1(0x166)][_0x3ebcd1(0x115)]()[_0x3ebcd1(0x1f8)](1.2),_0x102bf7=0x1f4,_0x20d9af=performance[_0x3ebcd1(0x1ba)](),_0x3935d5=_0x5072c7=>{const _0x3a5ee8=_0x3ebcd1,_0x2dc5aa=_0x5072c7-_0x20d9af,_0x2aca13=Math[_0x3a5ee8(0x1b0)](_0x2dc5aa/_0x102bf7,0x1);_0x1fe97a['scale']['lerpVectors'](_0x441d1f,_0x43098a,_0x2aca13);if(_0x2aca13<0x1)requestAnimationFrame(_0x3935d5);else{const _0x83d2e7=_0xc19a62=>{const _0x58e7af=_0x3a5ee8,_0x210f00=_0xc19a62-_0x20d9af-_0x102bf7,_0x5eacc3=Math[_0x58e7af(0x1b0)](_0x210f00/_0x102bf7,0x1);_0x1fe97a[_0x58e7af(0x205)][_0x58e7af(0x27d)](_0x43098a,_0x441d1f,_0x5eacc3);if(_0x5eacc3<0x1)requestAnimationFrame(_0x83d2e7);};requestAnimationFrame(_0x83d2e7);}};requestAnimationFrame(_0x3935d5);}[_0x50c28d(0x1f5)](_0x43ba7e){const _0x2e75ec=_0x50c28d;this[_0x2e75ec(0x1b7)](),this[_0x2e75ec(0x119)]=!![];if(this[_0x2e75ec(0xed)]){const _0x5a9384=_0x43ba7e[_0x2e75ec(0x1f1)][_0x2e75ec(0x115)]();_0x5a9384['y']=1.6;const _0x1fbbcc=0x3,_0x1801d6=new _0x440aec['Vector3']();_0x1801d6['subVectors'](this[_0x2e75ec(0x11b)][_0x2e75ec(0x1f1)],_0x5a9384)[_0x2e75ec(0x150)](),_0x5a9384['add'](_0x1801d6[_0x2e75ec(0x1f8)](-_0x1fbbcc));const _0x18c11d=this[_0x2e75ec(0x11b)]['position'][_0x2e75ec(0x115)](),_0x2ff1b4=this[_0x2e75ec(0x161)][_0x2e75ec(0x26a)][_0x2e75ec(0x115)](),_0x234ba7=0x1f4,_0x1f8943=performance[_0x2e75ec(0x1ba)](),_0x145b4a=_0x47347f=>{const _0x25f34c=_0x2e75ec,_0x2256ea=_0x47347f-_0x1f8943,_0x2d0a7c=Math[_0x25f34c(0x1b0)](_0x2256ea/_0x234ba7,0x1);this[_0x25f34c(0x11b)][_0x25f34c(0x1f1)][_0x25f34c(0x27d)](_0x18c11d,_0x5a9384,_0x2d0a7c),this[_0x25f34c(0x161)][_0x25f34c(0x26a)][_0x25f34c(0x27d)](_0x2ff1b4,_0x43ba7e[_0x25f34c(0x1f1)],_0x2d0a7c),this['controls'][_0x25f34c(0xee)]();if(_0x2d0a7c<0x1)requestAnimationFrame(_0x145b4a);};requestAnimationFrame(_0x145b4a);}else{const _0x8966dc=new _0x440aec['Vector3']();this['camera']['getWorldDirection'](_0x8966dc);const _0x520b7b=_0x43ba7e[_0x2e75ec(0x1f1)][_0x2e75ec(0x115)]()[_0x2e75ec(0x218)](_0x8966dc[_0x2e75ec(0x1f8)](0x3));_0x520b7b['y']=1.6;const _0x58eb1d=this[_0x2e75ec(0x1c6)][this['currentRoom']][_0x2e75ec(0x1f1)],_0x5da8db=_0x58eb1d['x']-0xf+0x1,_0x308e2d=_0x58eb1d['x']+0xf-0x1,_0x207ea1=_0x58eb1d['z']-0xf+0x1,_0xe5ada4=_0x58eb1d['z']+0xf-0x1;_0x520b7b['x']=Math['max'](_0x5da8db,Math['min'](_0x308e2d,_0x520b7b['x'])),_0x520b7b['z']=Math[_0x2e75ec(0x1dc)](_0x207ea1,Math['min'](_0xe5ada4,_0x520b7b['z']));const _0x13c2a4=this[_0x2e75ec(0x11b)][_0x2e75ec(0x1f1)]['clone'](),_0x322878=0x1f4,_0xf70af=performance[_0x2e75ec(0x1ba)](),_0x49ce9f=_0x5b9781=>{const _0x2ba57d=_0x2e75ec,_0x4e06f5=_0x5b9781-_0xf70af,_0x594a6a=Math[_0x2ba57d(0x1b0)](_0x4e06f5/_0x322878,0x1);this['camera'][_0x2ba57d(0x1f1)][_0x2ba57d(0x27d)](_0x13c2a4,_0x520b7b,_0x594a6a),this[_0x2ba57d(0x161)][_0x2ba57d(0x148)]()[_0x2ba57d(0x1f1)][_0x2ba57d(0x108)](this[_0x2ba57d(0x11b)][_0x2ba57d(0x1f1)]),this[_0x2ba57d(0x11b)][_0x2ba57d(0x24b)](_0x43ba7e[_0x2ba57d(0x1f1)]),this[_0x2ba57d(0x22a)]();if(_0x594a6a<0x1)requestAnimationFrame(_0x49ce9f);};requestAnimationFrame(_0x49ce9f);}}['resetCamera'](){const _0x3fa5d1=_0x50c28d;if(!this[_0x3fa5d1(0x119)])return;const _0x46daa0=this[_0x3fa5d1(0x11b)][_0x3fa5d1(0x1f1)][_0x3fa5d1(0x115)](),_0x504d13=this[_0x3fa5d1(0x280)][_0x3fa5d1(0x1f1)]['clone'](),_0x55026c=0x1f4,_0x22b0c7=performance[_0x3fa5d1(0x1ba)]();if(this[_0x3fa5d1(0xed)]){const _0x3800d4=this[_0x3fa5d1(0x161)][_0x3fa5d1(0x26a)][_0x3fa5d1(0x115)](),_0x270d7b=this[_0x3fa5d1(0x280)][_0x3fa5d1(0x26a)][_0x3fa5d1(0x115)](),_0x5ed5e3=_0x2d3c67=>{const _0x3ec9f5=_0x3fa5d1,_0x5571ef=_0x2d3c67-_0x22b0c7,_0x96d2c3=Math['min'](_0x5571ef/_0x55026c,0x1),_0x2eaa30=0.5-0.5*Math[_0x3ec9f5(0x139)](Math['PI']*_0x96d2c3);this[_0x3ec9f5(0x11b)][_0x3ec9f5(0x1f1)][_0x3ec9f5(0x27d)](_0x46daa0,_0x504d13,_0x2eaa30),this[_0x3ec9f5(0x161)][_0x3ec9f5(0x26a)][_0x3ec9f5(0x27d)](_0x3800d4,_0x270d7b,_0x2eaa30),this[_0x3ec9f5(0x161)][_0x3ec9f5(0xee)]();if(_0x96d2c3<0x1)requestAnimationFrame(_0x5ed5e3);else this['isFocused']=![];};requestAnimationFrame(_0x5ed5e3);}else{const _0x2ac2b5=_0x253242=>{const _0x10e116=_0x3fa5d1,_0x5dcdb9=_0x253242-_0x22b0c7,_0x19c9d8=Math[_0x10e116(0x1b0)](_0x5dcdb9/_0x55026c,0x1),_0x33c4d7=0.5-0.5*Math[_0x10e116(0x139)](Math['PI']*_0x19c9d8);this[_0x10e116(0x11b)][_0x10e116(0x1f1)][_0x10e116(0x27d)](_0x46daa0,_0x504d13,_0x33c4d7),this[_0x10e116(0x161)][_0x10e116(0x148)]()[_0x10e116(0x1f1)][_0x10e116(0x108)](this['camera'][_0x10e116(0x1f1)]),this[_0x10e116(0x22a)]();if(_0x19c9d8<0x1)requestAnimationFrame(_0x2ac2b5);else{this[_0x10e116(0x119)]=![];if(!this[_0x10e116(0xe9)])this[_0x10e116(0x161)][_0x10e116(0x13f)]();}};requestAnimationFrame(_0x2ac2b5);}}[_0x50c28d(0x1b7)](){const _0x88e5ce=_0x50c28d;this[_0x88e5ce(0x280)]={'position':this['camera'][_0x88e5ce(0x1f1)][_0x88e5ce(0x115)](),'rotation':this[_0x88e5ce(0x11b)][_0x88e5ce(0x278)]['clone'](),'target':this['isMobile']?this[_0x88e5ce(0x161)][_0x88e5ce(0x26a)]['clone']():this['camera'][_0x88e5ce(0x181)](new _0x440aec[(_0x88e5ce(0x107))]())[_0x88e5ce(0x1f8)](0xa)[_0x88e5ce(0x24d)](this['camera'][_0x88e5ce(0x1f1)])};}['handleDownload'](){const _0x2678e0=_0x50c28d,_0x389f1b=this['renderer'][_0x2678e0(0x1c1)][_0x2678e0(0x121)](_0x2678e0(0x246)),_0x237c48=document[_0x2678e0(0x20e)]('a');_0x237c48[_0x2678e0(0x1eb)]=_0x389f1b,_0x237c48[_0x2678e0(0x25e)]=_0x2678e0(0x28b),_0x237c48[_0x2678e0(0x21d)]();}['handleZoom'](){const _0x1f78f7=_0x50c28d,_0xe24ea6=document[_0x1f78f7(0x18b)](_0x1f78f7(0x11a)),_0x3a40d8=document[_0x1f78f7(0x18b)](_0x1f78f7(0x1ee)),_0x52bd1b=parseFloat(_0xe24ea6[_0x1f78f7(0x177)]);_0x3a40d8['textContent']=_0x52bd1b[_0x1f78f7(0x283)](0x1),this[_0x1f78f7(0xed)]?(this[_0x1f78f7(0x161)][_0x1f78f7(0x251)]=0x1/_0x52bd1b,this[_0x1f78f7(0x161)]['maxDistance']=0x14/_0x52bd1b,this[_0x1f78f7(0x161)][_0x1f78f7(0xee)]()):(this[_0x1f78f7(0x29b)]=_0x52bd1b/0xa,this['camera'][_0x1f78f7(0x195)]=0x4b/(_0x52bd1b*0.5+0.5),this[_0x1f78f7(0x11b)]['updateProjectionMatrix']());}async[_0x50c28d(0x1e7)](_0x51a385){const _0x383a1b=_0x50c28d;_0x51a385[_0x383a1b(0x176)]();const _0x1e9acc=document['getElementById'](_0x383a1b(0x188))?.[_0x383a1b(0x177)];if(!_0x1e9acc)return;try{const _0x2dbde3=await fetch(_0x383a1b(0x1f3),{'method':_0x383a1b(0x196),'headers':{'Content-Type':_0x383a1b(0x1d3)},'body':JSON[_0x383a1b(0x24f)]({'url':_0x1e9acc})}),_0x1fac70=await _0x2dbde3[_0x383a1b(0x1fd)]();_0x1fac70[_0x383a1b(0x26f)]&&(this[_0x383a1b(0x26f)]=_0x1fac70[_0x383a1b(0x26f)],localStorage[_0x383a1b(0x22b)](_0x383a1b(0x26f),this[_0x383a1b(0x26f)]),await this['loadImages'](this[_0x383a1b(0x26f)]));}catch(_0x5dc955){console[_0x383a1b(0x199)](_0x383a1b(0x263),_0x5dc955);}}async['handleUploadSubmit'](_0xf592a5){const _0x13e845=_0x50c28d;_0xf592a5[_0x13e845(0x176)]();if(!this['pendingFiles'][_0x13e845(0x1fb)]||!this['metadata'][_0x13e845(0x1fb)]){console[_0x13e845(0x21a)](_0x13e845(0x1a1));return;}const _0x5b3480=new FormData();this[_0x13e845(0x27b)]['forEach']((_0x388fea,_0x427429)=>{const _0x142019=_0x13e845;_0x5b3480[_0x142019(0x110)]('images',_0x388fea),_0x5b3480[_0x142019(0x110)](_0x142019(0x186),this[_0x142019(0xf4)][_0x427429][_0x142019(0x186)]),_0x5b3480[_0x142019(0x110)](_0x142019(0x224),this[_0x142019(0xf4)][_0x427429][_0x142019(0x224)]),_0x5b3480['append'](_0x142019(0x171),this['metadata'][_0x427429][_0x142019(0x171)]);});try{const _0x2ba47a=await fetch(_0x13e845(0x157)+(this['sessionId']?'/'+this[_0x13e845(0x26f)]:''),{'method':_0x13e845(0x196),'body':_0x5b3480}),_0x32cf97=await _0x2ba47a[_0x13e845(0x1fd)]();_0x32cf97[_0x13e845(0x138)]&&(this[_0x13e845(0x26f)]=_0x32cf97['sessionId'],localStorage[_0x13e845(0x22b)](_0x13e845(0x26f),this[_0x13e845(0x26f)]),this[_0x13e845(0xf4)]=this[_0x13e845(0x27b)][_0x13e845(0x1b8)]((_0x2bc2bf,_0x46fc47)=>({'filename':_0x2bc2bf['name'],'title':this['metadata'][_0x46fc47][_0x13e845(0x186)],'description':this[_0x13e845(0xf4)][_0x46fc47][_0x13e845(0x224)],'artist':this['metadata'][_0x46fc47][_0x13e845(0x171)]})),await new Promise(_0x4fd80d=>setTimeout(_0x4fd80d,0x64)),await this['loadImages'](this['sessionId']),this[_0x13e845(0x27b)]=[],document[_0x13e845(0x18b)]('images')['value']='',this['previewContainer'][_0x13e845(0x1a4)]='');}catch(_0x33ab4d){console['error'](_0x13e845(0x28a),_0x33ab4d);}}[_0x50c28d(0x100)](){const _0x4340bd=_0x50c28d;this[_0x4340bd(0x11b)][_0x4340bd(0x19a)]=window[_0x4340bd(0x215)]/window[_0x4340bd(0x197)],this[_0x4340bd(0x11b)][_0x4340bd(0x207)](),this[_0x4340bd(0x198)][_0x4340bd(0x239)](window[_0x4340bd(0x215)],window[_0x4340bd(0x197)]);}[_0x50c28d(0x146)](){const _0x5a0dc1=_0x50c28d,_0x347151=document[_0x5a0dc1(0x20e)](_0x5a0dc1(0x259));_0x347151['id']=_0x5a0dc1(0x18c),_0x347151[_0x5a0dc1(0x133)][_0x5a0dc1(0x21b)]=_0x5a0dc1(0x185),this['isMobile']?_0x347151[_0x5a0dc1(0x1a4)]=_0x5a0dc1(0x229):_0x347151[_0x5a0dc1(0x1a4)]=_0x5a0dc1(0x19f),document[_0x5a0dc1(0x221)][_0x5a0dc1(0x106)](_0x347151),document['getElementById'](_0x5a0dc1(0x152))[_0x5a0dc1(0x256)]('click',()=>{const _0x19c9f4=_0x5a0dc1;document[_0x19c9f4(0x221)][_0x19c9f4(0x12a)](_0x347151);});}}const app=new ThreeJSApp();app[_0x50c28d(0x1aa)]();