const _0x1909a0=_0x14da;(function(_0x4bffdb,_0x3e4690){const _0x38f23b=_0x14da,_0x504b17=_0x4bffdb();while(!![]){try{const _0xb73583=-parseInt(_0x38f23b(0x2b0))/0x1*(parseInt(_0x38f23b(0x21a))/0x2)+-parseInt(_0x38f23b(0x1f9))/0x3*(parseInt(_0x38f23b(0x232))/0x4)+-parseInt(_0x38f23b(0x2b6))/0x5+parseInt(_0x38f23b(0x30e))/0x6*(-parseInt(_0x38f23b(0x2ce))/0x7)+-parseInt(_0x38f23b(0x2bd))/0x8*(parseInt(_0x38f23b(0x2a7))/0x9)+parseInt(_0x38f23b(0x263))/0xa*(parseInt(_0x38f23b(0x214))/0xb)+parseInt(_0x38f23b(0x1d2))/0xc;if(_0xb73583===_0x3e4690)break;else _0x504b17['push'](_0x504b17['shift']());}catch(_0x451e16){_0x504b17['push'](_0x504b17['shift']());}}}(_0x12bc,0xb77cd));import*as _0x1387db from'three';import{PointerLockControls}from'PointerLockControls';import{OrbitControls}from'OrbitControls';function _0x12bc(){const _0x48d784=['mouse','üé¨\x20Object\x20animation\x20disabled','parent','video/webm','enableZoom','animate','length','revokeObjectURL','controls','input','body','127094UZLDWM','closeInstructions','lerpVectors','toggleControls','append','object','767426jOcwgs','closeSlider','PlaneGeometry','sin','toggleControlsBtn','image','LoopRepeat','Error\x20loading\x20image\x20','handleZoom','lineTo','animationSpeedSlider','rooms','NumberKeyframeTrack','clipAction','zoomSlider','sessionId','fov','keys','ownerDocument','json','computeImageHash','getMaxAnisotropy','wrapT','url','2842176HhkZIz','map','üñ•Ô∏è\x20Controls\x20visible','.children[4].rotation[z]','wallOffset','forEach','sensitivityValue','LinearFilter','quaternion','artist-','üé•\x20Recording\x20started','unlock','setItem','autoRotateBtn','dir','min','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','backgroundAudio','RepeatWrapping','autoRotateSpeed','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Artist:</strong>\x20','key','isMoving','Assigning\x20metadata\x20to\x20','updateImageEffects','ambientIntensity','sweet.mp3','üñ•Ô∏è\x20Controls\x20hidden','geometry','innerWidth','onCanvasClick','image/','filter','onMouseMove','pointerlockchange','filename','width','href','audioListener','color:\x20white;\x20background:\x20rgba(0,0,0,0.7);\x20padding:\x2010px;\x20border-radius:\x205px;\x20margin-top:\x2010px;','recordStatus','Swipe\x20to\x20look\x20around,\x20pinch\x20to\x20zoom,\x20tap\x20artwork\x20to\x20focus,\x20tap\x20avatar\x20for\x20help.','pointerLockElement','showMetadataModal','description-','domElement','tutorialOverlay','TextureLoader','sliderImage','1040MxEMHc','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22description-','auto','uniforms','Next\x20button\x20clicked','SphereGeometry','className','isRecording','mediaRecorder','time','magFilter','setClearColor','üîÑ\x20Auto-rotation\x20disabled','maxDistance','set','isFocused','updateAvatarPosition','img','loadTexture','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Gallery\x20Controls</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Click\x20to\x20lock\x20pointer\x20and\x20start\x20exploring.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Use\x20W,\x20A,\x20S,\x20D\x20to\x20move.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Mouse\x20to\x20look\x20around.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Double-click\x20an\x20artwork\x20to\x20focus\x20and\x20scale,\x20double-click\x20again\x20to\x20reset.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeInstructions\x22\x20style=\x22margin-top:10px;\x20padding:5px\x2010px;\x20background:#1e90ff;\x20border:none;\x20color:white;\x20border-radius:5px;\x20cursor:pointer;\x22>Close</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','random','getTime','setVolume','none','animationMixer','ceil','div','rot','submit','üöÄ\x20Virtual\x20Gallery\x20loaded','crossVectors','üé®\x20Images\x20rendered\x20in\x20room\x20','getItem','displayHeight','interactionCooldown','has','MeshBasicMaterial','updateSliderDisplay','from','download','Vector3','position:absolute;\x20top:50%;\x20left:50%;\x20transform:translate(-50%,\x20-50%);\x20color:white;\x20background:rgba(0,0,0,0.7);\x20padding:20px;\x20border-radius:5px;\x20z-index:11;\x20text-align:center;','update','imagesToLoad','lock','classList','needsUpdate','downloadBtn','resize','Pointer\x20lock\x20state\x20changed:','cssText','image-preview','lightIntensity','uploadForm','enabled','render','rotation','setupAudio','mapSize','Vector2','setupEventListeners','BoxGeometry','initialCameraDistance','keydown','updateCameraState','style','max','basePos','5117193AleyLr','init','size','üîÑ\x20Auto-rotation\x20enabled','cancelMetadata','YXZ','nextImage','cameraHeight','putImageData','2cSVTrL','recordBtn','sensitivitySlider','onKeyUp','src','movementY','5373850wlYUPR','Stop\x20Animating','handleDownload','pop','target','innerHeight','displayWidth','8SpAYkt','moveSpeed','MeshPhysicalMaterial','selectedMesh','repeat','updateObjectAnimations','createElement','lightWall','Generated\x20fallback\x20metadata:','name','copy','CatmullRomCurve3','generateNoiseCanvas','now','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20map;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20time;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color\x20=\x20texture2D(map,\x20vUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(color.a\x20<\x200.5)\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(color.rgb,\x20color.a\x20*\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Prev\x20button\x20clicked','raycaster','644IxjHEU','\x22\x20placeholder=\x22Artist\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pendingFiles','error','bias','getElementById','far','getWorldDirection','stopPropagation','toggleObjectAnimation','clearScene','isAnimatingObjects','loadImages','intersectObjects','SpotLight','previewContainer','Using\x20server-provided\x20metadata:','max-width:\x20100px;\x20max-height:\x20100px;\x20margin:\x205px;\x20object-fit:\x20cover;','isLocked','application/json','height','clickSound','maxTextureSize','setLoop','shadowMap','avatarGroup','Unlocked','previousCameraState','setFromEuler','querySelector','Shape','castShadow','scaleImage','setSensitivity','MeshStandardMaterial','movementX','ShaderMaterial','ArrowLeft','submitMetadata','\x20with\x20hash\x20','textureLoader','sensitivity','isAvatar','frameThickness','scale','scene','devicePixelRatio','Audio','DoubleSide','.children[3].rotation[z]','PCFSoftShadowMap','normalScale','setFromQuaternion','screenshotForm','MathUtils','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Description:</strong>\x20','getObject','CylinderGeometry','mousemove','toDataURL','Click\x20to\x20enter\x20the\x20gallery.\x20Use\x20W,\x20A,\x20S,\x20D\x20to\x20move,\x20Q/E\x20to\x20rotate,\x20mouse\x20to\x20look\x20up/down,\x20double-click\x20art\x20to\x20focus,\x20click\x20avatar\x20for\x20help.','focusImage','updateProjectionMatrix','Unknown','14154DyvmCE','renderer','minDistance','No\x20files\x20or\x20metadata\x20to\x20upload','wave.jpg','displayDepth','Euler','color','Close\x20button\x20clicked','prevSliderImage','display','files','flatMap','block','Show\x20Controls','CircleGeometry','roomSize','Slider\x20container\x20not\x20found\x20in\x20DOM','Untitled','load','setBuffer','resetCamera','AnimationMixer','animationSpeed','isAutoRotating','push','‚ùå\x20Error\x20fetching\x20images\x20(attempt\x20','textContent','DirectionalLight','title-','click','nextSliderImage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Gallery\x20Controls</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Swipe\x20to\x20look\x20around.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Pinch\x20to\x20zoom\x20in/out.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Tap\x20an\x20artwork\x20to\x20focus,\x20tap\x20again\x20to\x20reset.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeInstructions\x22\x20style=\x22margin-top:10px;\x20padding:5px\x2010px;\x20background:#1e90ff;\x20border:none;\x20color:white;\x20border-radius:5px;\x20cursor:pointer;\x22>Close</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cos','multiplyScalar','currentRoom','displayImagesInGallery','toISOString','loadAudio','Pointer\x20Lock\x20failed','remove','getImageData','Group','find','moveTo','title','handleScreenshotSubmit','checkCollisions','mesh','createAvatar','stopRecording','animateObjectsBtn','result','Clicked\x20image:\x20','artist','images','sliderIndex','metadata','clone','wallHeight','imageSliderContainer','addEventListener','Max\x20retries\x20reached,\x20using\x20fallback','sub','receiveShadow','showAvatarInstructions','stop','sliderImages','Error\x20uploading\x20files:','ondataavailable','clickDelay','POST','material','azimuthAngle','üì∏\x20Fetched\x20data\x20for\x20session','Scene','zoomValue','play','No\x20screenshots\x20found,\x20using\x20fallback','appendChild','position','maxImagesPerWall','Mesh','pointerlockerror','toggleAutoRotate','startRecording','readAsDataURL','Arrow\x20Left\x20pressed','isSliderActive','openSlider','roomCameraSettings','getContext','data','isMobile','toggle','dispose','keyup','setupAvatarAnimation','split','canvas','http://localhost:3000/api/upload','clientY','shadow','üé•\x20Recording\x20stopped','showImagePreviewsAndMetadataPrompt','enableDamping','Stop\x20Recording','onclick','lookAt','setHSL','add','config','description','Arrow\x20Right\x20pressed','LinearMipmapLinearFilter','Texture','Duplicate\x20image\x20content\x20detected\x20for\x20','degToRad','Animate\x20Objects','startsWith','toLowerCase','34659528kYUuKN','Auto\x20Rotate','controlsVisible','onKeyDown','hidden','fas\x20fa-eye-slash','HTTP\x20error!\x20status:\x20','PointLight','innerHTML','Unlocking\x20pointer','querySelectorAll','metadataModal','change','userData','currentSliderIndex','type','preventDefault','children','removeChild','ArrowRight','camera','normalize','aspect','Stop\x20Rotation','.control-panel','enablePan','onstop','screenshots','log','createImageData','findIndex','metadataInputs','value','pointerEvents','AudioLoader','start','drawImage','sliderMetadata','intensity','3PALeBQ','handleUploadSubmit','PerspectiveCamera','addScaledVector','bind','touchstart','recordedFrames','https://via.placeholder.com/350x250','setSize','updateAutoRotate','\x20/\x20','Slider\x20images\x20with\x20metadata:','toFixed','rotationSpeed','avatarInstructions','wrapS'];_0x12bc=function(){return _0x48d784;};return _0x12bc();}class CustomPointerLockControls extends PointerLockControls{constructor(_0x5b6a76,_0x1ced63){super(_0x5b6a76,_0x1ced63),this['sensitivity']=0.001,this['camera']=_0x5b6a76;}[_0x1909a0(0x306)](){return this['camera'];}[_0x1909a0(0x28f)](){const _0x2b280a=_0x1909a0;console[_0x2b280a(0x1ee)]('Attempting\x20to\x20lock\x20pointer'),super[_0x2b280a(0x28f)](),this['domElement'][_0x2b280a(0x22c)]['addEventListener'](_0x2b280a(0x308),this[_0x2b280a(0x253)][_0x2b280a(0x1fd)](this));}[_0x1909a0(0x23d)](){const _0x59e29d=_0x1909a0;console['log'](_0x59e29d(0x1db)),super['unlock'](),this['domElement'][_0x59e29d(0x22c)]['removeEventListener'](_0x59e29d(0x308),this[_0x59e29d(0x253)]['bind'](this));}[_0x1909a0(0x253)](_0x5e1864){const _0x2be997=_0x1909a0;if(this[_0x2be997(0x2e0)]===!![]){const _0x82baf7=_0x5e1864[_0x2be997(0x2f1)]*this[_0x2be997(0x2f7)],_0x3d9b1d=_0x5e1864[_0x2be997(0x2b5)]*this[_0x2be997(0x2f7)],_0x4dc2c4=new _0x1387db['Euler'](0x0,0x0,0x0,'YXZ');_0x4dc2c4[_0x2be997(0x302)](this[_0x2be997(0x1e6)][_0x2be997(0x23a)]),_0x4dc2c4['y']-=_0x82baf7,_0x4dc2c4['x']-=_0x3d9b1d,_0x4dc2c4['x']=Math[_0x2be997(0x2a5)](-Math['PI']/0x2,Math['min'](Math['PI']/0x2,_0x4dc2c4['x'])),this[_0x2be997(0x1e6)][_0x2be997(0x23a)][_0x2be997(0x2ea)](_0x4dc2c4);}}[_0x1909a0(0x2ef)](_0x4c9db5){const _0x4263c2=_0x1909a0;this[_0x4263c2(0x2f7)]=_0x4c9db5;}}class ThreeJSApp{constructor(){const _0x2212c1=_0x1909a0;this[_0x2212c1(0x1c8)]={'roomSize':0xf,'wallHeight':0x5,'cameraHeight':1.6,'initialCameraDistance':0x5,'maxImagesPerWall':null,'displayWidth':3.5,'displayHeight':2.5,'displayDepth':0.2,'frameThickness':0.1,'wallOffset':0.3,'lightIntensity':0.8,'ambientIntensity':0.5,'maxTextureSize':0x400},this[_0x2212c1(0x2fb)]=new _0x1387db[(_0x2212c1(0x1a4))](),this[_0x2212c1(0x1e6)]=new _0x1387db[(_0x2212c1(0x1fb))](0x4b,window[_0x2212c1(0x24f)]/window[_0x2212c1(0x2bb)],0.1,0x3e8),this['roomCameraSettings']=[{'position':new _0x1387db[(_0x2212c1(0x28b))](0x0,this[_0x2212c1(0x1c8)][_0x2212c1(0x2ae)],this[_0x2212c1(0x1c8)][_0x2212c1(0x2a1)]),'lookAt':new _0x1387db[(_0x2212c1(0x28b))](0x0,this[_0x2212c1(0x1c8)][_0x2212c1(0x2ae)],0x0)}];const _0x3e859b=this[_0x2212c1(0x1b3)][0x0];this[_0x2212c1(0x1e6)][_0x2212c1(0x1a9)]['copy'](_0x3e859b[_0x2212c1(0x1a9)]),this[_0x2212c1(0x1e6)][_0x2212c1(0x1c5)](_0x3e859b[_0x2212c1(0x1c5)]),this['renderer']=new _0x1387db['WebGLRenderer']({'alpha':![],'antialias':!![],'preserveDrawingBuffer':!![]}),this[_0x2212c1(0x30f)][_0x2212c1(0x26e)](0x0,0x1),this[_0x2212c1(0x30f)][_0x2212c1(0x2e6)][_0x2212c1(0x299)]=!![],this['renderer'][_0x2212c1(0x2e6)][_0x2212c1(0x1e1)]=_0x1387db[_0x2212c1(0x300)],this[_0x2212c1(0x30f)]['setPixelRatio'](window[_0x2212c1(0x2fc)]),this[_0x2212c1(0x30f)][_0x2212c1(0x201)](window['innerWidth'],window[_0x2212c1(0x2bb)]),document['body'][_0x2212c1(0x1a8)](this[_0x2212c1(0x30f)][_0x2212c1(0x25f)]),this['metadata']=[],this['isMobile']=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i['test'](navigator['userAgent'])||'ontouchstart'in window,this[_0x2212c1(0x1b6)]?(this[_0x2212c1(0x211)]=new OrbitControls(this[_0x2212c1(0x1e6)],this[_0x2212c1(0x30f)]['domElement']),this['controls'][_0x2212c1(0x2ba)][_0x2212c1(0x2c7)](_0x3e859b['lookAt']),this[_0x2212c1(0x211)][_0x2212c1(0x1c2)]=!![],this[_0x2212c1(0x211)]['dampingFactor']=0.05,this['controls'][_0x2212c1(0x310)]=0x1,this['controls']['maxDistance']=0xa,this[_0x2212c1(0x211)][_0x2212c1(0x1eb)]=!![],this[_0x2212c1(0x211)][_0x2212c1(0x20d)]=!![]):(this[_0x2212c1(0x211)]=new CustomPointerLockControls(this[_0x2212c1(0x1e6)],this['renderer']['domElement']),this[_0x2212c1(0x211)][_0x2212c1(0x306)]()['position']['copy'](_0x3e859b['position'])),this['images']=[],this[_0x2212c1(0x229)]=localStorage[_0x2212c1(0x283)](_0x2212c1(0x229)),this[_0x2212c1(0x2f6)]=new _0x1387db[(_0x2212c1(0x261))](),this[_0x2212c1(0x258)]=new _0x1387db['AudioListener'](),this[_0x2212c1(0x1e6)][_0x2212c1(0x1c7)](this[_0x2212c1(0x258)]),this['backgroundAudio']=new _0x1387db[(_0x2212c1(0x2fd))](this[_0x2212c1(0x258)]),this[_0x2212c1(0x2e3)]=new _0x1387db[(_0x2212c1(0x2fd))](this[_0x2212c1(0x258)]),this['raycaster']=new _0x1387db['Raycaster'](),this['mouse']=new _0x1387db['Vector2'](),this[_0x2212c1(0x2c0)]=null,this[_0x2212c1(0x225)]=[],this[_0x2212c1(0x17c)]=0x0,this[_0x2212c1(0x272)]=![],this['isLocked']=![],this['isSliderActive']=![],this[_0x2212c1(0x19c)]=[],this[_0x2212c1(0x1e0)]=0x0,this['previousCameraState']={'position':this[_0x2212c1(0x1e6)]['position']['clone'](),'rotation':this['camera'][_0x2212c1(0x29b)]['clone'](),'target':_0x3e859b[_0x2212c1(0x1c5)][_0x2212c1(0x193)]()},this['lastClickTime']=0x0,this[_0x2212c1(0x19f)]=0x12c,this[_0x2212c1(0x22b)]={'w':![],'a':![],'s':![],'d':![],'q':![],'e':![]},this[_0x2212c1(0x2be)]=0.1,this[_0x2212c1(0x206)]=0.02,this[_0x2212c1(0x26c)]=0x0,this[_0x2212c1(0x2c4)]=null,this['interactionCooldown']=0x0,this[_0x2212c1(0x26a)]=![],this[_0x2212c1(0x1ff)]=[],this['mediaRecorder']=null,this[_0x2212c1(0x245)]=0.5,this[_0x2212c1(0x171)]=![],this[_0x2212c1(0x2dd)]=document[_0x2212c1(0x2d3)](_0x2212c1(0x2dd)),this[_0x2212c1(0x27b)]=new _0x1387db[(_0x2212c1(0x16f))](this['scene']),this[_0x2212c1(0x2d9)]=![],this[_0x2212c1(0x170)]=0x1,this['addLighting'](),this['createGallery'](),this[_0x2212c1(0x29c)](),this[_0x2212c1(0x29f)](),this[_0x2212c1(0x18a)]();}['addLighting'](){const _0x4ede78=_0x1909a0,_0x588dfe=new _0x1387db['AmbientLight'](0xffffff,this[_0x4ede78(0x1c8)][_0x4ede78(0x24b)]);this['scene'][_0x4ede78(0x1c7)](_0x588dfe);const _0x3bc426=new _0x1387db[(_0x4ede78(0x175))](0xffffff,this['config'][_0x4ede78(0x297)]);_0x3bc426[_0x4ede78(0x1a9)][_0x4ede78(0x271)](0x0,this[_0x4ede78(0x1c8)][_0x4ede78(0x194)]*0x2,this[_0x4ede78(0x1c8)][_0x4ede78(0x169)]),_0x3bc426[_0x4ede78(0x2ed)]=!![],_0x3bc426[_0x4ede78(0x1bf)][_0x4ede78(0x29d)][_0x4ede78(0x256)]=0x800,_0x3bc426[_0x4ede78(0x1bf)][_0x4ede78(0x29d)]['height']=0x800,_0x3bc426[_0x4ede78(0x1bf)][_0x4ede78(0x1e6)]['near']=0.5,_0x3bc426[_0x4ede78(0x1bf)][_0x4ede78(0x1e6)][_0x4ede78(0x2d4)]=this[_0x4ede78(0x1c8)][_0x4ede78(0x169)]*0x3,this[_0x4ede78(0x2fb)][_0x4ede78(0x1c7)](_0x3bc426);}['createGallery'](){const _0x1a53a0=_0x1909a0,_0x348d4e=0x888888,_0x3ddffa=0.7,_0xb53e3f=0.1,_0x733664=new _0x1387db[(_0x1a53a0(0x2f0))]({'color':_0x348d4e,'roughness':0.2,'metalness':_0xb53e3f}),_0x8480ee=new _0x1387db[(_0x1a53a0(0x1cc))](this[_0x1a53a0(0x2c9)](0x100,0x100));_0x8480ee[_0x1a53a0(0x291)]=!![],_0x8480ee[_0x1a53a0(0x208)]=_0x8480ee[_0x1a53a0(0x230)]=_0x1387db[_0x1a53a0(0x244)],_0x8480ee[_0x1a53a0(0x2c1)][_0x1a53a0(0x271)](0x4,0x4),_0x733664[_0x1a53a0(0x233)]=_0x8480ee,_0x733664['normalMap']=_0x8480ee,_0x733664[_0x1a53a0(0x301)][_0x1a53a0(0x271)](0.05,0.05);const _0xf3991e=new _0x1387db[(_0x1a53a0(0x261))]()[_0x1a53a0(0x16c)](_0x1a53a0(0x312));_0xf3991e['wrapS']=_0xf3991e[_0x1a53a0(0x230)]=_0x1387db[_0x1a53a0(0x244)],_0xf3991e[_0x1a53a0(0x2c1)][_0x1a53a0(0x271)](0x2,0x1);const _0x358891=new _0x1387db[(_0x1a53a0(0x2f0))]({'color':0xf5f5f5,'roughness':0.4,'metalness':0x0,'normalMap':_0xf3991e,'normalScale':new _0x1387db[(_0x1a53a0(0x29e))](0.1,0.1)}),_0x2ec9c3=new _0x1387db[(_0x1a53a0(0x2f0))]({'color':0xaaaaaa,'roughness':0.4,'metalness':_0xb53e3f,'map':_0x8480ee}),_0x3a8588=new _0x1387db[(_0x1a53a0(0x2bf))]({'color':0xaaaaaa,'transparent':!![],'opacity':0.3,'roughness':0x0,'metalness':0.1,'transmission':0.9}),_0x54799a=new _0x1387db[(_0x1a53a0(0x2f0))]({'color':0xaaaaaa,'roughness':0.3,'metalness':0.8}),_0x16fcad=new _0x1387db[(_0x1a53a0(0x2bf))]({'color':0xffffff,'transparent':!![],'opacity':0.8,'roughness':0.1,'metalness':0.2,'transmission':0.9}),_0x25c316=new _0x1387db[(_0x1a53a0(0x287))]({'color':0xffffff}),_0x95f31=new _0x1387db[(_0x1a53a0(0x183))](),_0x1c7c4c=new _0x1387db[(_0x1a53a0(0x1ab))](new _0x1387db[(_0x1a53a0(0x21c))](this[_0x1a53a0(0x1c8)]['roomSize'],this[_0x1a53a0(0x1c8)][_0x1a53a0(0x169)]),_0x733664);_0x1c7c4c[_0x1a53a0(0x29b)]['x']=-Math['PI']/0x2,_0x1c7c4c[_0x1a53a0(0x199)]=!![],_0x95f31[_0x1a53a0(0x1c7)](_0x1c7c4c);const _0xd68b41=new _0x1387db['BoxGeometry'](this['config'][_0x1a53a0(0x169)],0.02,0.1),_0xa0a59c=this[_0x1a53a0(0x1c8)]['roomSize']/0x5;for(let _0x3b4344=-this[_0x1a53a0(0x1c8)][_0x1a53a0(0x169)]/0x2+_0xa0a59c;_0x3b4344<this[_0x1a53a0(0x1c8)][_0x1a53a0(0x169)]/0x2;_0x3b4344+=_0xa0a59c){const _0xcfcdd=new _0x1387db[(_0x1a53a0(0x1ab))](_0xd68b41,_0x25c316);_0xcfcdd['position'][_0x1a53a0(0x271)](0x0,0.01,_0x3b4344),_0xcfcdd[_0x1a53a0(0x29b)]['x']=-Math['PI']/0x2,_0x95f31['add'](_0xcfcdd);const _0x5d24eb=new _0x1387db['Mesh'](_0xd68b41,_0x25c316);_0x5d24eb[_0x1a53a0(0x1a9)][_0x1a53a0(0x271)](_0x3b4344,0.01,0x0),_0x5d24eb[_0x1a53a0(0x29b)]['x']=-Math['PI']/0x2,_0x5d24eb[_0x1a53a0(0x29b)]['z']=Math['PI']/0x2,_0x95f31[_0x1a53a0(0x1c7)](_0x5d24eb);const _0x45e91b=new _0x1387db[(_0x1a53a0(0x1d9))](0xffffff,0.5,0x2);_0x45e91b[_0x1a53a0(0x1a9)][_0x1a53a0(0x271)](_0x3b4344,0.05,_0x3b4344),_0x95f31['add'](_0x45e91b);}const _0x165bdd=0.15,_0x16e8ac=0.05,_0x5cfc32=new _0x1387db[(_0x1a53a0(0x2a0))](this[_0x1a53a0(0x1c8)][_0x1a53a0(0x169)],_0x165bdd,_0x16e8ac),_0xe837a6=this[_0x1a53a0(0x1c8)][_0x1a53a0(0x169)]/0x2,_0x2919b8=[{'position':new _0x1387db[(_0x1a53a0(0x28b))](0x0,_0x165bdd/0x2,-_0xe837a6+_0x16e8ac/0x2),'rotation':{'x':0x0,'y':0x0,'z':0x0}},{'position':new _0x1387db['Vector3'](0x0,_0x165bdd/0x2,_0xe837a6-_0x16e8ac/0x2),'rotation':{'x':0x0,'y':Math['PI'],'z':0x0}},{'position':new _0x1387db['Vector3'](-_0xe837a6+_0x16e8ac/0x2,_0x165bdd/0x2,0x0),'rotation':{'x':0x0,'y':Math['PI']/0x2,'z':0x0}},{'position':new _0x1387db[(_0x1a53a0(0x28b))](_0xe837a6-_0x16e8ac/0x2,_0x165bdd/0x2,0x0),'rotation':{'x':0x0,'y':-Math['PI']/0x2,'z':0x0}}];_0x2919b8[_0x1a53a0(0x237)](_0x5c6d35=>{const _0x2b57b3=_0x1a53a0,_0x696053=new _0x1387db['Mesh'](_0x5cfc32,_0x54799a);_0x696053[_0x2b57b3(0x1a9)][_0x2b57b3(0x2c7)](_0x5c6d35[_0x2b57b3(0x1a9)]),_0x696053[_0x2b57b3(0x29b)]['set'](_0x5c6d35[_0x2b57b3(0x29b)]['x'],_0x5c6d35[_0x2b57b3(0x29b)]['y'],_0x5c6d35['rotation']['z']),_0x696053[_0x2b57b3(0x2ed)]=!![],_0x696053[_0x2b57b3(0x199)]=!![],_0x95f31['add'](_0x696053);});const _0x19255c=new _0x1387db[(_0x1a53a0(0x168))](0x1,0x6),_0x558ecb=this[_0x1a53a0(0x1c8)][_0x1a53a0(0x169)]/0x5;for(let _0x216778=-0x2;_0x216778<=0x2;_0x216778++){for(let _0x59bf67=-0x2;_0x59bf67<=0x2;_0x59bf67++){if(Math['abs'](_0x216778)===0x2&&Math['abs'](_0x59bf67)===0x2)continue;const _0x2e9249=new _0x1387db[(_0x1a53a0(0x1ab))](_0x19255c,_0x2ec9c3),_0x181e76=Math['random']()*0.5+this[_0x1a53a0(0x1c8)][_0x1a53a0(0x194)]-0.5;_0x2e9249['position'][_0x1a53a0(0x271)](_0x216778*_0x558ecb,_0x181e76,_0x59bf67*_0x558ecb),_0x2e9249[_0x1a53a0(0x29b)]['x']=Math['PI']/0x2,_0x2e9249[_0x1a53a0(0x199)]=!![],_0x95f31[_0x1a53a0(0x1c7)](_0x2e9249);const _0x5c61a1=new _0x1387db['Mesh'](new _0x1387db[(_0x1a53a0(0x168))](0.3,0x6),_0x25c316);_0x5c61a1['position'][_0x1a53a0(0x271)](_0x216778*_0x558ecb,_0x181e76-0.05,_0x59bf67*_0x558ecb),_0x5c61a1[_0x1a53a0(0x29b)]['x']=Math['PI']/0x2,_0x95f31[_0x1a53a0(0x1c7)](_0x5c61a1);const _0x52370e=new _0x1387db[(_0x1a53a0(0x1d9))](0xffffff,0x1,this['config'][_0x1a53a0(0x169)]/0x3);_0x52370e['position'][_0x1a53a0(0x271)](_0x216778*_0x558ecb,_0x181e76-0.1,_0x59bf67*_0x558ecb),_0x95f31[_0x1a53a0(0x1c7)](_0x52370e);}}const _0x3f015d=[new _0x1387db[(_0x1a53a0(0x1ab))](new _0x1387db['PlaneGeometry'](this[_0x1a53a0(0x1c8)][_0x1a53a0(0x169)],this['config'][_0x1a53a0(0x194)]),_0x358891),new _0x1387db[(_0x1a53a0(0x1ab))](new _0x1387db[(_0x1a53a0(0x21c))](this[_0x1a53a0(0x1c8)][_0x1a53a0(0x169)],this[_0x1a53a0(0x1c8)]['wallHeight']),_0x358891),new _0x1387db[(_0x1a53a0(0x1ab))](new _0x1387db['PlaneGeometry'](this[_0x1a53a0(0x1c8)][_0x1a53a0(0x169)],this[_0x1a53a0(0x1c8)][_0x1a53a0(0x194)]),_0x358891),new _0x1387db[(_0x1a53a0(0x1ab))](new _0x1387db[(_0x1a53a0(0x21c))](this[_0x1a53a0(0x1c8)][_0x1a53a0(0x169)],this[_0x1a53a0(0x1c8)]['wallHeight']),_0x358891)],_0x591ab2=this[_0x1a53a0(0x1c8)][_0x1a53a0(0x194)]/0x2;_0x3f015d[0x0][_0x1a53a0(0x1a9)][_0x1a53a0(0x271)](0x0,_0x591ab2,-_0xe837a6),_0x3f015d[0x1]['position'][_0x1a53a0(0x271)](0x0,_0x591ab2,_0xe837a6),_0x3f015d[0x1][_0x1a53a0(0x29b)]['y']=Math['PI'],_0x3f015d[0x2][_0x1a53a0(0x1a9)][_0x1a53a0(0x271)](-_0xe837a6,_0x591ab2,0x0),_0x3f015d[0x2][_0x1a53a0(0x29b)]['y']=Math['PI']/0x2,_0x3f015d[0x3][_0x1a53a0(0x1a9)][_0x1a53a0(0x271)](_0xe837a6,_0x591ab2,0x0),_0x3f015d[0x3]['rotation']['y']=-Math['PI']/0x2,_0x3f015d[_0x1a53a0(0x237)](_0x507e5c=>{const _0x567d3f=_0x1a53a0;_0x507e5c['receiveShadow']=!![],_0x95f31[_0x567d3f(0x1c7)](_0x507e5c);});const _0x1f26dd=[],_0x1946d6=0x14;for(let _0x253b1d=0x0;_0x253b1d<=_0x1946d6;_0x253b1d++){const _0x174d90=_0x253b1d/_0x1946d6*Math['PI'],_0x3969b4=Math[_0x1a53a0(0x17a)](_0x174d90)*0x2-_0xe837a6,_0x59d5f8=Math[_0x1a53a0(0x21d)](_0x174d90)*0x2-_0xe837a6;_0x1f26dd[_0x1a53a0(0x172)](new _0x1387db[(_0x1a53a0(0x28b))](_0x3969b4,0x0,_0x59d5f8));}const _0x11bdf2=new _0x1387db[(_0x1a53a0(0x2c8))](_0x1f26dd),_0x1593af=new _0x1387db['ExtrudeGeometry'](new _0x1387db[(_0x1a53a0(0x2ec))]([new _0x1387db['Vector2'](-_0xe837a6,0x0),new _0x1387db[(_0x1a53a0(0x29e))](_0xe837a6,0x0),new _0x1387db[(_0x1a53a0(0x29e))](_0xe837a6,this[_0x1a53a0(0x1c8)]['wallHeight']),new _0x1387db[(_0x1a53a0(0x29e))](-_0xe837a6,this[_0x1a53a0(0x1c8)][_0x1a53a0(0x194)])]),{'depth':0.1,'extrudePath':_0x11bdf2}),_0x24b8bc=new _0x1387db[(_0x1a53a0(0x1ab))](_0x1593af,_0x3a8588);_0x24b8bc[_0x1a53a0(0x1a9)][_0x1a53a0(0x271)](0x0,0x0,0x0),_0x95f31[_0x1a53a0(0x1c7)](_0x24b8bc);const _0x532004=new _0x1387db[(_0x1a53a0(0x2a0))](0.05,this[_0x1a53a0(0x1c8)][_0x1a53a0(0x194)],0.05),_0x2c18a2=this[_0x1a53a0(0x1c8)][_0x1a53a0(0x169)]/0x7;for(let _0x1b978e=-_0xe837a6+_0x2c18a2;_0x1b978e<_0xe837a6;_0x1b978e+=_0x2c18a2){const _0x3f5585=new _0x1387db[(_0x1a53a0(0x1ab))](_0x532004,_0x54799a);_0x3f5585[_0x1a53a0(0x1a9)]['set'](_0x1b978e,_0x591ab2,-_0xe837a6+0.1),_0x3f5585[_0x1a53a0(0x2ed)]=!![],_0x95f31['add'](_0x3f5585);}const _0x230aaa=this[_0x1a53a0(0x1c8)][_0x1a53a0(0x169)]/0x4,_0xb002aa=new _0x1387db[(_0x1a53a0(0x1ab))](new _0x1387db['BoxGeometry'](_0x230aaa,0.3,0x1),_0x16fcad);_0xb002aa[_0x1a53a0(0x1a9)][_0x1a53a0(0x271)](0x0,0.15,this[_0x1a53a0(0x1c8)][_0x1a53a0(0x169)]/0x5),_0xb002aa[_0x1a53a0(0x2ed)]=!![],_0xb002aa[_0x1a53a0(0x199)]=!![],_0x95f31[_0x1a53a0(0x1c7)](_0xb002aa);const _0x3de593=new _0x1387db[(_0x1a53a0(0x2a0))](_0x230aaa+0.1,0.05,0.05),_0x3b5b44=new _0x1387db[(_0x1a53a0(0x1ab))](_0x3de593,_0x54799a);_0x3b5b44[_0x1a53a0(0x1a9)]['set'](0x0,0.3,this['config'][_0x1a53a0(0x169)]/0x5),_0x3b5b44[_0x1a53a0(0x2ed)]=!![],_0x95f31[_0x1a53a0(0x1c7)](_0x3b5b44);const _0x1bbeb2=new _0x1387db[(_0x1a53a0(0x1ab))](_0x3de593,_0x54799a);_0x1bbeb2[_0x1a53a0(0x1a9)]['set'](0x0,0x0,this[_0x1a53a0(0x1c8)]['roomSize']/0x5),_0x1bbeb2[_0x1a53a0(0x2ed)]=!![],_0x95f31[_0x1a53a0(0x1c7)](_0x1bbeb2);for(let _0x57a7af=0x0;_0x57a7af<0x4;_0x57a7af++){const _0x385398=new _0x1387db[(_0x1a53a0(0x1ab))](new _0x1387db[(_0x1a53a0(0x307))](0.03,0.03,0.3,0x10),_0x54799a);_0x385398[_0x1a53a0(0x1a9)][_0x1a53a0(0x271)](_0x57a7af%0x2===0x0?-_0x230aaa/0x2+0.1:_0x230aaa/0x2-0.1,0.15,this[_0x1a53a0(0x1c8)][_0x1a53a0(0x169)]/0x5+(_0x57a7af<0x2?-0.5:0.5)),_0x385398[_0x1a53a0(0x2ed)]=!![],_0x385398[_0x1a53a0(0x199)]=!![],_0x95f31[_0x1a53a0(0x1c7)](_0x385398);}_0x95f31[_0x1a53a0(0x1a9)][_0x1a53a0(0x271)](0x0,0x0,0x0),this['rooms'][_0x1a53a0(0x172)](_0x95f31),this[_0x1a53a0(0x2fb)][_0x1a53a0(0x1c7)](_0x95f31);}[_0x1909a0(0x2c9)](_0xbcd6a7,_0x1204d2){const _0x4e2f4e=_0x1909a0,_0x1decb3=document['createElement']('canvas');_0x1decb3[_0x4e2f4e(0x256)]=_0xbcd6a7,_0x1decb3[_0x4e2f4e(0x2e2)]=_0x1204d2;const _0x7c4b7f=_0x1decb3[_0x4e2f4e(0x1b4)]('2d'),_0x22e16f=_0x7c4b7f[_0x4e2f4e(0x1ef)](_0xbcd6a7,_0x1204d2);for(let _0x41d2d7=0x0;_0x41d2d7<_0x22e16f['data'][_0x4e2f4e(0x20f)];_0x41d2d7+=0x4){const _0x47f948=Math['random']()*0.1+0.9;_0x22e16f[_0x4e2f4e(0x1b5)][_0x41d2d7]=0x88*_0x47f948,_0x22e16f[_0x4e2f4e(0x1b5)][_0x41d2d7+0x1]=0x88*_0x47f948,_0x22e16f[_0x4e2f4e(0x1b5)][_0x41d2d7+0x2]=0x88*_0x47f948,_0x22e16f['data'][_0x41d2d7+0x3]=0xff;}return _0x7c4b7f[_0x4e2f4e(0x2af)](_0x22e16f,0x0,0x0),_0x1decb3;}[_0x1909a0(0x18a)](){const _0x2ba7d9=_0x1909a0;this[_0x2ba7d9(0x2e7)]=new _0x1387db[(_0x2ba7d9(0x183))]();const _0x416a77=new _0x1387db[(_0x2ba7d9(0x287))]({'color':0xffffff,'transparent':!![],'opacity':0.3}),_0x4bbe52=new _0x1387db[(_0x2ba7d9(0x1ab))](new _0x1387db[(_0x2ba7d9(0x21c))](0.5,0.5),new _0x1387db[(_0x2ba7d9(0x287))]({'color':0xff00,'transparent':!![],'opacity':0x0}));_0x4bbe52[_0x2ba7d9(0x1a9)][_0x2ba7d9(0x271)](0x2,1.7,0x2),this[_0x2ba7d9(0x2e7)]['add'](_0x4bbe52);const _0x25715e=new _0x1387db['Mesh'](new _0x1387db[(_0x2ba7d9(0x307))](0.3,0.3,0x1,0x20),_0x416a77);_0x25715e['position']['set'](0x2,0.5,0x2),this[_0x2ba7d9(0x2e7)][_0x2ba7d9(0x1c7)](_0x25715e);const _0x45607a=new _0x1387db[(_0x2ba7d9(0x1ab))](new _0x1387db[(_0x2ba7d9(0x268))](0.2,0x20,0x20),_0x416a77);_0x45607a[_0x2ba7d9(0x1a9)][_0x2ba7d9(0x271)](0x2,1.2,0x2),this['avatarGroup'][_0x2ba7d9(0x1c7)](_0x45607a);const _0x409ef6=new _0x1387db[(_0x2ba7d9(0x307))](0.1,0.1,0.5,0x20),_0x2a300a=new _0x1387db['Mesh'](_0x409ef6,_0x416a77);_0x2a300a[_0x2ba7d9(0x1a9)][_0x2ba7d9(0x271)](1.7,0.7,0x2),_0x2a300a[_0x2ba7d9(0x29b)]['z']=Math['PI']/0x4,this[_0x2ba7d9(0x2e7)][_0x2ba7d9(0x1c7)](_0x2a300a);const _0x250c66=new _0x1387db[(_0x2ba7d9(0x1ab))](_0x409ef6,_0x416a77);_0x250c66[_0x2ba7d9(0x1a9)]['set'](2.3,0.7,0x2),_0x250c66[_0x2ba7d9(0x29b)]['z']=-Math['PI']/0x4,this[_0x2ba7d9(0x2e7)][_0x2ba7d9(0x1c7)](_0x250c66);const _0xd6d217=new _0x1387db['CylinderGeometry'](0.1,0.1,0.5,0x20),_0x1d6353=new _0x1387db['Mesh'](_0xd6d217,_0x416a77);_0x1d6353['position'][_0x2ba7d9(0x271)](1.8,0.25,0x2),this[_0x2ba7d9(0x2e7)][_0x2ba7d9(0x1c7)](_0x1d6353);const _0x32354b=new _0x1387db[(_0x2ba7d9(0x1ab))](_0xd6d217,_0x416a77);_0x32354b[_0x2ba7d9(0x1a9)][_0x2ba7d9(0x271)](2.2,0.25,0x2),this[_0x2ba7d9(0x2e7)]['add'](_0x32354b),this[_0x2ba7d9(0x2e7)][_0x2ba7d9(0x1df)]={'isAvatar':!![]},this[_0x2ba7d9(0x2fb)]['add'](this[_0x2ba7d9(0x2e7)]),this[_0x2ba7d9(0x1ba)](),this['updateAvatarPosition']();}[_0x1909a0(0x1ba)](){const _0x38ac69=_0x1909a0,_0x1dba6a=[0x0,0x1,0x2],_0x137a9c=[[Math['PI']/0x4,-Math['PI']/0x4],[-Math['PI']/0x4,Math['PI']/0x4],[Math['PI']/0x4,-Math['PI']/0x4]],_0x20d694=new _0x1387db[(_0x38ac69(0x226))](_0x38ac69(0x2ff),_0x1dba6a,_0x137a9c[_0x38ac69(0x233)](_0x38be68=>_0x38be68[0x0])),_0x427a5b=new _0x1387db[(_0x38ac69(0x226))](_0x38ac69(0x235),_0x1dba6a,_0x137a9c[_0x38ac69(0x233)](_0x5bf93c=>_0x5bf93c[0x1])),_0x1ad7df=new _0x1387db['AnimationClip']('avatarWave',0x2,[_0x20d694,_0x427a5b]),_0x12364e=this[_0x38ac69(0x27b)][_0x38ac69(0x227)](_0x1ad7df,this[_0x38ac69(0x2e7)]);_0x12364e[_0x38ac69(0x2e5)](_0x1387db[_0x38ac69(0x220)]),_0x12364e[_0x38ac69(0x1a6)]();}[_0x1909a0(0x273)](){const _0x3b1f0d=_0x1909a0;if(this[_0x3b1f0d(0x1b6)]){const _0x25edad=this[_0x3b1f0d(0x225)][0x0][_0x3b1f0d(0x1a9)]['clone']();this[_0x3b1f0d(0x2e7)][_0x3b1f0d(0x1a9)][_0x3b1f0d(0x2c7)](_0x25edad),this['avatarGroup']['position']['y']=0.5;}else{const _0x123254=new _0x1387db[(_0x3b1f0d(0x28b))]();this[_0x3b1f0d(0x1e6)][_0x3b1f0d(0x2d5)](_0x123254),_0x123254['y']=0x0,_0x123254[_0x3b1f0d(0x1e7)]()['multiplyScalar'](0x2),this[_0x3b1f0d(0x2e7)][_0x3b1f0d(0x1a9)][_0x3b1f0d(0x2c7)](this[_0x3b1f0d(0x1e6)][_0x3b1f0d(0x1a9)])[_0x3b1f0d(0x1c7)](_0x123254),this['avatarGroup'][_0x3b1f0d(0x1a9)]['y']=0.5;}}async[_0x1909a0(0x29c)](){const _0x15480f=_0x1909a0;try{const _0xf059eb=await this[_0x15480f(0x17f)](_0x15480f(0x24c));this[_0x15480f(0x243)][_0x15480f(0x16d)](_0xf059eb),this[_0x15480f(0x243)][_0x15480f(0x2e5)](!![]),this['backgroundAudio'][_0x15480f(0x279)](0.2),this[_0x15480f(0x243)][_0x15480f(0x1a6)]();const _0x284ab8=await this[_0x15480f(0x17f)](_0x15480f(0x24c));this[_0x15480f(0x2e3)][_0x15480f(0x16d)](_0x284ab8),this['clickSound']['setVolume'](0.5);}catch(_0x37af11){console['error']('Error\x20loading\x20audio:',_0x37af11);}}[_0x1909a0(0x17f)](_0x551239){return new Promise((_0xc7fb47,_0x1ee9e0)=>{const _0x1b0b4b=_0x14da,_0xbb1753=new _0x1387db[(_0x1b0b4b(0x1f4))]();_0xbb1753[_0x1b0b4b(0x16c)](_0x551239,_0x32899d=>_0xc7fb47(_0x32899d),undefined,_0x423cf6=>_0x1ee9e0(_0x423cf6));});}['init'](){const _0x2cd2e5=_0x1909a0;console[_0x2cd2e5(0x1ee)](_0x2cd2e5(0x280));if(this[_0x2cd2e5(0x229)])this[_0x2cd2e5(0x2da)](this[_0x2cd2e5(0x229)]);this[_0x2cd2e5(0x20e)](),window['addEventListener'](_0x2cd2e5(0x293),()=>this['handleResize']());}[_0x1909a0(0x20e)](){const _0x556d41=_0x1909a0;requestAnimationFrame(()=>this[_0x556d41(0x20e)]()),this[_0x556d41(0x26c)]+=0.016,this[_0x556d41(0x28d)](),this[_0x556d41(0x24a)](),this[_0x556d41(0x30f)][_0x556d41(0x29a)](this[_0x556d41(0x2fb)],this[_0x556d41(0x1e6)]);if(this[_0x556d41(0x1b6)])this[_0x556d41(0x211)][_0x556d41(0x28d)]();this[_0x556d41(0x273)]();if(this[_0x556d41(0x26a)]){}this[_0x556d41(0x27b)][_0x556d41(0x28d)](0.016*this[_0x556d41(0x170)]),this['updateObjectAnimations']();}[_0x1909a0(0x1ae)](){const _0x5fc98c=_0x1909a0;if(this[_0x5fc98c(0x26a)])return;this[_0x5fc98c(0x26a)]=!![],this[_0x5fc98c(0x1ff)]=[];const _0x4ff036=this[_0x5fc98c(0x30f)][_0x5fc98c(0x25f)]['captureStream'](0x1e);this[_0x5fc98c(0x26b)]=new MediaRecorder(_0x4ff036,{'mimeType':_0x5fc98c(0x20c)}),this[_0x5fc98c(0x26b)][_0x5fc98c(0x19e)]=_0x3ee217=>{const _0x29afbe=_0x5fc98c;_0x3ee217[_0x29afbe(0x1b5)][_0x29afbe(0x2a9)]>0x0&&this['recordedFrames']['push'](_0x3ee217[_0x29afbe(0x1b5)]);},this[_0x5fc98c(0x26b)][_0x5fc98c(0x1ec)]=()=>{this['saveRecording']();},this['mediaRecorder'][_0x5fc98c(0x1f5)](),document[_0x5fc98c(0x2d3)](_0x5fc98c(0x25a))['classList'][_0x5fc98c(0x181)]('hidden'),console[_0x5fc98c(0x1ee)](_0x5fc98c(0x23c));}['stopRecording'](){const _0x298de4=_0x1909a0;if(!this[_0x298de4(0x26a)]||!this['mediaRecorder'])return;this[_0x298de4(0x26a)]=![],this[_0x298de4(0x26b)][_0x298de4(0x19b)](),document['getElementById'](_0x298de4(0x25a))[_0x298de4(0x290)]['add'](_0x298de4(0x1d6)),console['log'](_0x298de4(0x1c0));}['saveRecording'](){const _0x39c946=_0x1909a0,_0x1edb7c=new Blob(this[_0x39c946(0x1ff)],{'type':_0x39c946(0x20c)}),_0x3ef738=URL['createObjectURL'](_0x1edb7c),_0x49c6ef=document['createElement']('a');_0x49c6ef[_0x39c946(0x257)]=_0x3ef738,_0x49c6ef[_0x39c946(0x28a)]='gallery_recording_'+new Date()[_0x39c946(0x17e)]()+'.webm',_0x49c6ef['click'](),URL[_0x39c946(0x210)](_0x3ef738),this[_0x39c946(0x1ff)]=[];}[_0x1909a0(0x1ad)](){const _0x21ef26=_0x1909a0;this[_0x21ef26(0x171)]=!this['isAutoRotating'];const _0x4656ac=document['getElementById'](_0x21ef26(0x23f));_0x4656ac[_0x21ef26(0x174)]=this['isAutoRotating']?_0x21ef26(0x1e9):_0x21ef26(0x1d3),console['log'](this[_0x21ef26(0x171)]?_0x21ef26(0x2aa):_0x21ef26(0x26f));}[_0x1909a0(0x2d7)](){const _0x63ea86=_0x1909a0;this[_0x63ea86(0x2d9)]=!this[_0x63ea86(0x2d9)];const _0x40a43e=document['getElementById'](_0x63ea86(0x18c));_0x40a43e[_0x63ea86(0x174)]=this['isAnimatingObjects']?_0x63ea86(0x2b7):_0x63ea86(0x1cf),console['log'](this[_0x63ea86(0x2d9)]?'üé¨\x20Object\x20animation\x20enabled':_0x63ea86(0x20a));}[_0x1909a0(0x202)](){const _0x3a1e83=_0x1909a0;if(this['isAutoRotating']&&!this[_0x3a1e83(0x272)]){if(this[_0x3a1e83(0x1b6)])this[_0x3a1e83(0x211)][_0x3a1e83(0x1a2)]+=_0x1387db['MathUtils'][_0x3a1e83(0x1ce)](this[_0x3a1e83(0x245)]),this['controls'][_0x3a1e83(0x28d)]();else{if(this[_0x3a1e83(0x2e0)]){const _0x14f027=new _0x1387db[(_0x3a1e83(0x314))](0x0,0x0,0x0,_0x3a1e83(0x2ac));_0x14f027[_0x3a1e83(0x302)](this[_0x3a1e83(0x1e6)][_0x3a1e83(0x23a)]),_0x14f027['y']-=_0x1387db[_0x3a1e83(0x304)]['degToRad'](this[_0x3a1e83(0x245)]),this['camera'][_0x3a1e83(0x23a)][_0x3a1e83(0x2ea)](_0x14f027);}}}}[_0x1909a0(0x2c2)](){const _0x32b46a=_0x1909a0;this[_0x32b46a(0x2d9)]&&(this[_0x32b46a(0x190)]['forEach'](_0x572ed8=>{const _0x4c4396=_0x32b46a;_0x572ed8['mesh'][_0x4c4396(0x29b)]['y']+=0.02*this[_0x4c4396(0x170)];}),this['lightWall']&&this[_0x32b46a(0x2c4)][_0x32b46a(0x1e3)][_0x32b46a(0x237)](_0x5c75e4=>{const _0x1ebc22=_0x32b46a;_0x5c75e4[_0x1ebc22(0x29b)]['y']+=0.03*this['animationSpeed'];}));}['updateImageEffects'](){const _0x319e97=_0x1909a0;this[_0x319e97(0x190)][_0x319e97(0x237)]((_0x41fab0,_0x235cba)=>{const _0x21876a=_0x319e97;if(_0x41fab0[_0x21876a(0x189)]['material'][_0x21876a(0x266)]){_0x41fab0[_0x21876a(0x189)]['material'][_0x21876a(0x266)][_0x21876a(0x26c)][_0x21876a(0x1f2)]=this['time']+_0x235cba;const _0x24e199=_0x41fab0[_0x21876a(0x189)]['parent'][_0x21876a(0x1e3)]['find'](_0x1853a2=>_0x1853a2 instanceof _0x1387db[_0x21876a(0x2dc)]&&_0x1853a2['target']===_0x41fab0[_0x21876a(0x189)]);_0x24e199&&(_0x24e199[_0x21876a(0x1f8)]=0x2+Math[_0x21876a(0x21d)](this[_0x21876a(0x26c)]*0x2+_0x235cba)*0.2);}});}[_0x1909a0(0x29f)](){const _0xb8d800=_0x1909a0,_0x233ff2=document[_0xb8d800(0x2c3)]('div');_0x233ff2['id']=_0xb8d800(0x260),_0x233ff2['style'][_0xb8d800(0x295)]=_0xb8d800(0x28c);this['isMobile']?_0x233ff2['innerHTML']=_0xb8d800(0x25b):_0x233ff2[_0xb8d800(0x1da)]=_0xb8d800(0x30a);document[_0xb8d800(0x213)][_0xb8d800(0x1a8)](_0x233ff2),this[_0xb8d800(0x30f)]['domElement'][_0xb8d800(0x196)](this[_0xb8d800(0x1b6)]?_0xb8d800(0x1fe):'click',_0x2130eb=>this['onCanvasClick'](_0x2130eb));!this[_0xb8d800(0x1b6)]?(document['addEventListener']('keydown',_0x10e928=>this['onKeyDown'](_0x10e928)),document[_0xb8d800(0x196)](_0xb8d800(0x1b9),_0x4af726=>this[_0xb8d800(0x2b3)](_0x4af726)),this[_0xb8d800(0x30f)][_0xb8d800(0x25f)][_0xb8d800(0x196)](_0xb8d800(0x177),()=>{const _0x26012c=_0xb8d800;!this[_0x26012c(0x2e0)]&&!this['isFocused']&&!this[_0x26012c(0x1b1)]&&(this[_0x26012c(0x211)][_0x26012c(0x28f)](),_0x233ff2[_0x26012c(0x2a4)]['display']=_0x26012c(0x27a));}),document[_0xb8d800(0x196)](_0xb8d800(0x254),()=>{const _0xbf0d21=_0xb8d800;this[_0xbf0d21(0x2e0)]=document[_0xbf0d21(0x25c)]===this[_0xbf0d21(0x30f)][_0xbf0d21(0x25f)],console['log'](_0xbf0d21(0x294),this[_0xbf0d21(0x2e0)]?'Locked':_0xbf0d21(0x2e8));if(!this[_0xbf0d21(0x2e0)])this[_0xbf0d21(0x272)]=![];}),document[_0xb8d800(0x196)](_0xb8d800(0x1ac),()=>{const _0x476415=_0xb8d800;console['error'](_0x476415(0x180));})):_0x233ff2[_0xb8d800(0x2a4)][_0xb8d800(0x318)]=_0xb8d800(0x27a);document[_0xb8d800(0x2d3)](_0xb8d800(0x298))?.[_0xb8d800(0x196)]('submit',_0x45af3e=>this['handleUploadSubmit'](_0x45af3e)),document[_0xb8d800(0x2d3)](_0xb8d800(0x298))?.[_0xb8d800(0x196)](_0xb8d800(0x1de),_0x4dd710=>this[_0xb8d800(0x1c1)](_0x4dd710)),document[_0xb8d800(0x2d3)](_0xb8d800(0x303))?.[_0xb8d800(0x196)](_0xb8d800(0x27f),_0x3a5178=>this[_0xb8d800(0x187)](_0x3a5178)),document[_0xb8d800(0x2d3)](_0xb8d800(0x292))?.[_0xb8d800(0x196)](_0xb8d800(0x177),()=>this[_0xb8d800(0x2b8)]()),document['getElementById'](_0xb8d800(0x228))?.[_0xb8d800(0x196)](_0xb8d800(0x212),()=>this['handleZoom']()),document[_0xb8d800(0x2d3)](_0xb8d800(0x21e))?.[_0xb8d800(0x196)](_0xb8d800(0x177),()=>this[_0xb8d800(0x217)]()),document['getElementById']('recordBtn')?.[_0xb8d800(0x196)]('click',()=>{const _0x441d25=_0xb8d800;this[_0x441d25(0x26a)]?(this[_0x441d25(0x18b)](),document[_0x441d25(0x2d3)](_0x441d25(0x2b1))[_0x441d25(0x174)]='Start\x20Recording'):(this[_0x441d25(0x1ae)](),document[_0x441d25(0x2d3)](_0x441d25(0x2b1))['textContent']=_0x441d25(0x1c3));}),document[_0xb8d800(0x2d3)](_0xb8d800(0x23f))?.['addEventListener'](_0xb8d800(0x177),()=>this[_0xb8d800(0x1ad)]()),document[_0xb8d800(0x2d3)]('animateObjectsBtn')?.['addEventListener'](_0xb8d800(0x177),()=>this[_0xb8d800(0x2d7)]()),document[_0xb8d800(0x2d3)](_0xb8d800(0x224))?.['addEventListener'](_0xb8d800(0x212),()=>{const _0x715821=_0xb8d800,_0x50ffae=document['getElementById']('animationSpeedSlider'),_0xf455c8=document[_0x715821(0x2d3)]('animationSpeedValue');this[_0x715821(0x170)]=parseFloat(_0x50ffae[_0x715821(0x1f2)]),_0xf455c8[_0x715821(0x174)]=this[_0x715821(0x170)][_0x715821(0x205)](0x1);});if(!this[_0xb8d800(0x1b6)])document[_0xb8d800(0x2d3)](_0xb8d800(0x2b2))?.[_0xb8d800(0x196)](_0xb8d800(0x212),()=>{const _0x30dc2f=_0xb8d800,_0xede7df=document[_0x30dc2f(0x2d3)](_0x30dc2f(0x2b2)),_0x1edaf8=document[_0x30dc2f(0x2d3)](_0x30dc2f(0x238)),_0x13a2d3=parseFloat(_0xede7df[_0x30dc2f(0x1f2)]);_0x1edaf8[_0x30dc2f(0x174)]=_0x13a2d3[_0x30dc2f(0x205)](0x3),this[_0x30dc2f(0x211)][_0x30dc2f(0x2ef)](_0x13a2d3);});else{const _0x24c971=document[_0xb8d800(0x2eb)]('.slider-group:last-child');if(_0x24c971)_0x24c971[_0xb8d800(0x2a4)][_0xb8d800(0x318)]=_0xb8d800(0x27a);}const _0x2d7f09=document[_0xb8d800(0x2d3)]('prevImage'),_0x5d6581=document[_0xb8d800(0x2d3)](_0xb8d800(0x2ad)),_0x250726=document[_0xb8d800(0x2d3)](_0xb8d800(0x21b));if(_0x2d7f09)_0x2d7f09[_0xb8d800(0x196)](_0xb8d800(0x177),_0x282c65=>{const _0x271a08=_0xb8d800;_0x282c65['stopPropagation'](),console[_0x271a08(0x1ee)](_0x271a08(0x2cc)),this[_0x271a08(0x317)]();});if(_0x5d6581)_0x5d6581[_0xb8d800(0x196)](_0xb8d800(0x177),_0x905944=>{const _0x307272=_0xb8d800;_0x905944[_0x307272(0x2d6)](),console['log'](_0x307272(0x267)),this[_0x307272(0x178)]();});if(_0x250726)_0x250726[_0xb8d800(0x196)](_0xb8d800(0x177),_0x4877fa=>{const _0x128cc9=_0xb8d800;_0x4877fa[_0x128cc9(0x2d6)](),console[_0x128cc9(0x1ee)](_0x128cc9(0x316)),this[_0x128cc9(0x21b)]();});document[_0xb8d800(0x196)](_0xb8d800(0x2a2),_0xe0a6b4=>{const _0x2154e0=_0xb8d800;if(this[_0x2154e0(0x1b1)]){if(_0xe0a6b4[_0x2154e0(0x247)]===_0x2154e0(0x2f3))console[_0x2154e0(0x1ee)](_0x2154e0(0x1b0)),this[_0x2154e0(0x317)]();else _0xe0a6b4[_0x2154e0(0x247)]===_0x2154e0(0x1e5)&&(console[_0x2154e0(0x1ee)](_0x2154e0(0x1ca)),this[_0x2154e0(0x178)]());}this[_0x2154e0(0x1d5)](_0xe0a6b4);});}[_0x1909a0(0x1c1)](_0x31ba62){const _0x5a0394=_0x1909a0,_0x41aa20=_0x31ba62[_0x5a0394(0x2ba)][_0x5a0394(0x319)];if(!_0x41aa20||!this[_0x5a0394(0x2dd)])return;this[_0x5a0394(0x2d0)]=Array[_0x5a0394(0x289)](_0x41aa20),this['previewContainer'][_0x5a0394(0x1da)]='',Array['from'](_0x41aa20)[_0x5a0394(0x237)](_0x3d918e=>{const _0x362cee=_0x5a0394;if(_0x3d918e[_0x362cee(0x1e1)][_0x362cee(0x1d0)](_0x362cee(0x251))){const _0x259bea=new FileReader();_0x259bea['onload']=_0x5a8477=>{const _0xe93945=_0x362cee,_0x29a666=document[_0xe93945(0x2c3)](_0xe93945(0x274));_0x29a666[_0xe93945(0x2b4)]=_0x5a8477[_0xe93945(0x2ba)][_0xe93945(0x18d)],_0x29a666[_0xe93945(0x269)]=_0xe93945(0x296),_0x29a666[_0xe93945(0x2a4)]['cssText']=_0xe93945(0x2df),this[_0xe93945(0x2dd)][_0xe93945(0x1a8)](_0x29a666);},_0x259bea[_0x362cee(0x1af)](_0x3d918e);}}),this[_0x5a0394(0x25d)]();}[_0x1909a0(0x25d)](){const _0x28d57b=_0x1909a0,_0x2edee0=document[_0x28d57b(0x2d3)](_0x28d57b(0x1dd)),_0xf0266=document['getElementById'](_0x28d57b(0x1f1));_0xf0266[_0x28d57b(0x1da)]='',this[_0x28d57b(0x2d0)][_0x28d57b(0x237)]((_0x42390a,_0x1f1faa)=>{const _0x2e921e=_0x28d57b,_0x194ced=document[_0x2e921e(0x2c3)](_0x2e921e(0x27d));_0x194ced[_0x2e921e(0x1da)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>'+_0x42390a[_0x2e921e(0x2c6)]+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22title-'+_0x1f1faa+'\x22\x20placeholder=\x22Image\x20Title\x22\x20value=\x22'+_0x42390a['name'][_0x2e921e(0x1bb)]('.')[0x0]+_0x2e921e(0x264)+_0x1f1faa+'\x22\x20placeholder=\x22Description\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22artist-'+_0x1f1faa+_0x2e921e(0x2cf),_0xf0266[_0x2e921e(0x1a8)](_0x194ced);}),_0x2edee0[_0x28d57b(0x2a4)][_0x28d57b(0x318)]=_0x28d57b(0x31b),document['getElementById'](_0x28d57b(0x2f4))[_0x28d57b(0x1c4)]=()=>this[_0x28d57b(0x2f4)](),document[_0x28d57b(0x2d3)](_0x28d57b(0x2ab))['onclick']=()=>{const _0x105fad=_0x28d57b;_0x2edee0['style'][_0x105fad(0x318)]=_0x105fad(0x27a),this[_0x105fad(0x2d0)]=[],this['previewContainer'][_0x105fad(0x1da)]='',document[_0x105fad(0x2d3)](_0x105fad(0x190))[_0x105fad(0x1f2)]='';};}[_0x1909a0(0x2f4)](){const _0x41efee=_0x1909a0,_0x24a89f=document[_0x41efee(0x2d3)](_0x41efee(0x1dd));this['metadata']=this[_0x41efee(0x2d0)][_0x41efee(0x233)]((_0x1df490,_0x2d53e3)=>({'filename':_0x1df490[_0x41efee(0x2c6)],'title':document['getElementById'](_0x41efee(0x176)+_0x2d53e3)['value']||_0x1df490[_0x41efee(0x2c6)]['split']('.')[0x0],'description':document[_0x41efee(0x2d3)](_0x41efee(0x25e)+_0x2d53e3)[_0x41efee(0x1f2)]||'','artist':document[_0x41efee(0x2d3)](_0x41efee(0x23b)+_0x2d53e3)['value']||_0x41efee(0x30d)})),_0x24a89f[_0x41efee(0x2a4)][_0x41efee(0x318)]=_0x41efee(0x27a),this[_0x41efee(0x1fa)]({'preventDefault':()=>{}});}[_0x1909a0(0x217)](){const _0x54b03e=_0x1909a0;this[_0x54b03e(0x1d4)]=!this['controlsVisible'];const _0x3fa48b=document[_0x54b03e(0x1dc)](_0x54b03e(0x1ea)),_0x58e810=document['getElementById'](_0x54b03e(0x21e));_0x3fa48b['forEach'](_0xb947b=>{const _0x3c3c0a=_0x54b03e;_0xb947b[_0x3c3c0a(0x290)][_0x3c3c0a(0x1b7)]('hidden-panel',!this[_0x3c3c0a(0x1d4)]);}),_0x58e810[_0x54b03e(0x174)]=this[_0x54b03e(0x1d4)]?'Hide\x20Controls':_0x54b03e(0x31c),_0x58e810[_0x54b03e(0x2eb)]('i')&&(_0x58e810[_0x54b03e(0x2eb)]('i')['className']=this['controlsVisible']?'fas\x20fa-eye':_0x54b03e(0x1d7)),console['log'](this['controlsVisible']?_0x54b03e(0x234):_0x54b03e(0x24d));}[_0x1909a0(0x1d5)](_0x19f5ff){const _0x5e8e9b=_0x1909a0;switch(_0x19f5ff[_0x5e8e9b(0x247)]['toLowerCase']()){case'w':this[_0x5e8e9b(0x22b)]['w']=!![];break;case'a':this[_0x5e8e9b(0x22b)]['a']=!![];break;case's':this[_0x5e8e9b(0x22b)]['s']=!![];break;case'd':this[_0x5e8e9b(0x22b)]['d']=!![];break;case'q':this[_0x5e8e9b(0x22b)]['q']=!![];break;case'e':this[_0x5e8e9b(0x22b)]['e']=!![];break;case'escape':this[_0x5e8e9b(0x211)][_0x5e8e9b(0x23d)]();break;}}['onKeyUp'](_0x464298){const _0x3b1b0d=_0x1909a0;switch(_0x464298[_0x3b1b0d(0x247)][_0x3b1b0d(0x1d1)]()){case'w':this[_0x3b1b0d(0x22b)]['w']=![];break;case'a':this[_0x3b1b0d(0x22b)]['a']=![];break;case's':this[_0x3b1b0d(0x22b)]['s']=![];break;case'd':this[_0x3b1b0d(0x22b)]['d']=![];break;case'q':this['keys']['q']=![];break;case'e':this['keys']['e']=![];break;}}[_0x1909a0(0x28d)](){const _0xd010a6=_0x1909a0;if(!this[_0xd010a6(0x1b6)]&&this[_0xd010a6(0x2e0)]&&!this[_0xd010a6(0x248)]&&!this[_0xd010a6(0x272)]){const _0x309ac9=new _0x1387db[(_0xd010a6(0x28b))](),_0x3df3f9=new _0x1387db[(_0xd010a6(0x28b))]();this[_0xd010a6(0x1e6)]['getWorldDirection'](_0x3df3f9),_0x3df3f9['y']=0x0,_0x3df3f9[_0xd010a6(0x1e7)]();if(this[_0xd010a6(0x22b)]['w'])_0x309ac9[_0xd010a6(0x1fc)](_0x3df3f9,this[_0xd010a6(0x2be)]);if(this['keys']['s'])_0x309ac9['addScaledVector'](_0x3df3f9,-this[_0xd010a6(0x2be)]);if(this['keys']['a']){const _0x59b4b8=new _0x1387db[(_0xd010a6(0x28b))]()[_0xd010a6(0x281)](this[_0xd010a6(0x1e6)]['up'],_0x3df3f9)[_0xd010a6(0x1e7)]();_0x309ac9[_0xd010a6(0x1fc)](_0x59b4b8,-this['moveSpeed']);}if(this[_0xd010a6(0x22b)]['d']){const _0x2eafdd=new _0x1387db[(_0xd010a6(0x28b))]()['crossVectors'](this[_0xd010a6(0x1e6)]['up'],_0x3df3f9)[_0xd010a6(0x1e7)]();_0x309ac9[_0xd010a6(0x1fc)](_0x2eafdd,this[_0xd010a6(0x2be)]);}this[_0xd010a6(0x211)][_0xd010a6(0x306)]()['position'][_0xd010a6(0x1c7)](_0x309ac9),this['checkCollisions']();const _0x463b1b=new _0x1387db[(_0xd010a6(0x314))](0x0,0x0,0x0,_0xd010a6(0x2ac));_0x463b1b[_0xd010a6(0x302)](this[_0xd010a6(0x1e6)]['quaternion']);if(this[_0xd010a6(0x22b)]['q'])_0x463b1b['y']+=this[_0xd010a6(0x206)];if(this[_0xd010a6(0x22b)]['e'])_0x463b1b['y']-=this[_0xd010a6(0x206)];this['camera']['quaternion'][_0xd010a6(0x2ea)](_0x463b1b);}if(this[_0xd010a6(0x285)]>0x0)this[_0xd010a6(0x285)]-=0.016;this[_0xd010a6(0x202)]();}[_0x1909a0(0x188)](){const _0x5ca0b6=_0x1909a0;if(!this[_0x5ca0b6(0x1b6)]){this[_0x5ca0b6(0x1e6)]['position']['y']=this[_0x5ca0b6(0x1c8)][_0x5ca0b6(0x2ae)];const _0x12e308=this[_0x5ca0b6(0x225)][0x0][_0x5ca0b6(0x1a9)],_0x4e189b=this[_0x5ca0b6(0x1c8)]['roomSize']/0x2-0x1,_0x3f408d=_0x12e308['x']-_0x4e189b,_0x5b2d8c=_0x12e308['x']+_0x4e189b,_0x5acb3c=_0x12e308['z']-_0x4e189b,_0x896e25=_0x12e308['z']+_0x4e189b;this[_0x5ca0b6(0x1e6)]['position']['x']=Math[_0x5ca0b6(0x2a5)](_0x3f408d,Math[_0x5ca0b6(0x241)](_0x5b2d8c,this[_0x5ca0b6(0x1e6)]['position']['x'])),this['camera'][_0x5ca0b6(0x1a9)]['z']=Math[_0x5ca0b6(0x2a5)](_0x5acb3c,Math['min'](_0x896e25,this[_0x5ca0b6(0x1e6)][_0x5ca0b6(0x1a9)]['z'])),this[_0x5ca0b6(0x211)][_0x5ca0b6(0x306)]()['position']['copy'](this['camera'][_0x5ca0b6(0x1a9)]);}}async[_0x1909a0(0x22e)](_0x1d4ee9){return new Promise(_0x5aadcd=>{const _0x12f2ba=_0x14da,_0x528331=_0x1d4ee9[_0x12f2ba(0x21f)],_0x578c04=document[_0x12f2ba(0x2c3)](_0x12f2ba(0x1bc));_0x578c04[_0x12f2ba(0x256)]=0x8,_0x578c04[_0x12f2ba(0x2e2)]=0x8;const _0x4e2708=_0x578c04[_0x12f2ba(0x1b4)]('2d');_0x4e2708[_0x12f2ba(0x1f6)](_0x528331,0x0,0x0,0x8,0x8);const _0x1ce251=_0x4e2708[_0x12f2ba(0x182)](0x0,0x0,0x8,0x8)[_0x12f2ba(0x1b5)];let _0x21a247=0x0;for(let _0x3e3a22=0x0;_0x3e3a22<_0x1ce251[_0x12f2ba(0x20f)];_0x3e3a22+=0x4){_0x21a247+=_0x1ce251[_0x3e3a22]+_0x1ce251[_0x3e3a22+0x1]+_0x1ce251[_0x3e3a22+0x2];}_0x5aadcd(_0x21a247['toString']());});}async[_0x1909a0(0x2da)](_0x5177f4){const _0x372cef=_0x1909a0,_0xa8f046=0x3;let _0x2b141e=0x0;while(_0x2b141e<_0xa8f046){try{const _0x5f91be=await fetch('http://localhost:3000/api/screenshots/'+_0x5177f4+'/');if(!_0x5f91be['ok'])throw new Error(_0x372cef(0x1d8)+_0x5f91be['status']);const _0x5b8d8d=await _0x5f91be['json']();console[_0x372cef(0x1ee)](_0x372cef(0x1a3),_0x5177f4,':',_0x5b8d8d);!_0x5b8d8d['screenshots']?.['length']?(console[_0x372cef(0x1ee)](_0x372cef(0x1a7)),this['imagesToLoad']=[_0x372cef(0x200),_0x372cef(0x200)],this[_0x372cef(0x192)]=[]):(this[_0x372cef(0x28e)]=_0x5b8d8d[_0x372cef(0x1ed)],this[_0x372cef(0x192)]=_0x5b8d8d[_0x372cef(0x192)]||[],!this[_0x372cef(0x192)][_0x372cef(0x20f)]&&_0x5b8d8d[_0x372cef(0x1ed)][_0x372cef(0x20f)]?(this[_0x372cef(0x192)]=_0x5b8d8d['screenshots'][_0x372cef(0x233)](_0x268875=>({'filename':_0x268875['split']('/')[_0x372cef(0x2b9)](),'title':_0x372cef(0x16b),'description':'','artist':'Unknown'})),console[_0x372cef(0x1ee)](_0x372cef(0x2c5),this[_0x372cef(0x192)])):console[_0x372cef(0x1ee)](_0x372cef(0x2de),this[_0x372cef(0x192)]));await this[_0x372cef(0x17d)]();return;}catch(_0x57f19f){console[_0x372cef(0x2d1)](_0x372cef(0x173)+_0x2b141e+'):',_0x57f19f),_0x2b141e++,_0x2b141e===_0xa8f046?(console[_0x372cef(0x2d1)](_0x372cef(0x197)),this['imagesToLoad']=[_0x372cef(0x200),_0x372cef(0x200)],this[_0x372cef(0x192)]=[],await this['displayImagesInGallery']()):await new Promise(_0x39677f=>setTimeout(_0x39677f,0x1f4*_0x2b141e));}}}async[_0x1909a0(0x17d)](){const _0x597dc9=_0x1909a0;if(!this[_0x597dc9(0x28e)])return;this['clearScene']();const _0x46c139=this[_0x597dc9(0x28e)][_0x597dc9(0x20f)];let _0x577fe6=0x0;const _0x2f6a42=new Set(),_0x365e02=new _0x1387db[(_0x597dc9(0x2f0))]({'color':0x333333,'roughness':0.5,'metalness':0.8}),_0x179c0a=new _0x1387db['MeshStandardMaterial']({'color':0xff0000,'roughness':0.5,'metalness':0x0}),_0x95c8b4=this[_0x597dc9(0x225)][0x0],_0x27b994=this[_0x597dc9(0x1c8)][_0x597dc9(0x169)],_0x53a42a=0x4;this[_0x597dc9(0x1c8)]['maxImagesPerWall']=Math[_0x597dc9(0x27c)](_0x46c139/_0x53a42a);const _0x1b7dfa=_0x27b994/(this[_0x597dc9(0x1c8)][_0x597dc9(0x1aa)]+0x1),_0x50aac1=[{'basePos':new _0x1387db['Vector3'](0x0,this[_0x597dc9(0x1c8)][_0x597dc9(0x194)]/0x2,-_0x27b994/0x2+this[_0x597dc9(0x1c8)][_0x597dc9(0x236)]),'rot':0x0,'dir':'x'},{'basePos':new _0x1387db[(_0x597dc9(0x28b))](-_0x27b994/0x2+this[_0x597dc9(0x1c8)]['wallOffset'],this[_0x597dc9(0x1c8)][_0x597dc9(0x194)]/0x2,0x0),'rot':Math['PI']/0x2,'dir':'z'},{'basePos':new _0x1387db[(_0x597dc9(0x28b))](_0x27b994/0x2-this[_0x597dc9(0x1c8)][_0x597dc9(0x236)],this[_0x597dc9(0x1c8)][_0x597dc9(0x194)]/0x2,0x0),'rot':-Math['PI']/0x2,'dir':'z'},{'basePos':new _0x1387db[(_0x597dc9(0x28b))](0x0,this[_0x597dc9(0x1c8)]['wallHeight']/0x2,_0x27b994/0x2-this[_0x597dc9(0x1c8)][_0x597dc9(0x236)]),'rot':Math['PI'],'dir':'x'}];for(let _0x49dada of _0x50aac1){if(_0x577fe6>=_0x46c139)break;const _0xe2d258=[];for(let _0x2b7075=0x0;_0x2b7075<this[_0x597dc9(0x1c8)][_0x597dc9(0x1aa)]&&_0x577fe6<_0x46c139;_0x2b7075++){const _0x1354d4=-_0x27b994/0x2+(_0x2b7075+0.5)*_0x1b7dfa,_0x504e21=_0x49dada[_0x597dc9(0x2a6)][_0x597dc9(0x193)]();if(_0x49dada[_0x597dc9(0x240)]==='x')_0x504e21['x']+=_0x1354d4;else _0x504e21['z']+=_0x1354d4;_0xe2d258[_0x597dc9(0x172)]({'pos':_0x504e21,'rot':_0x49dada[_0x597dc9(0x27e)]});}for(let {pos:_0x362461,rot:_0x40c132}of _0xe2d258){const _0x33bf54=this[_0x597dc9(0x28e)][_0x577fe6],_0x6a2923=this[_0x597dc9(0x192)][_0x597dc9(0x184)](_0x4507c0=>_0x4507c0[_0x597dc9(0x255)]===_0x33bf54[_0x597dc9(0x1bb)]('/')[_0x597dc9(0x2b9)]())||{'title':'Untitled','description':'','artist':_0x597dc9(0x30d)};console[_0x597dc9(0x1ee)](_0x597dc9(0x249)+_0x33bf54+':',_0x6a2923);try{const _0x4c87a8=await this['loadTexture'](_0x33bf54),_0x181121=await this[_0x597dc9(0x22e)](_0x4c87a8);if(_0x2f6a42[_0x597dc9(0x286)](_0x181121)){console['warn'](_0x597dc9(0x1cd)+_0x33bf54+_0x597dc9(0x2f5)+_0x181121+',\x20skipping'),_0x577fe6++;continue;}_0x2f6a42[_0x597dc9(0x1c7)](_0x181121);let _0x1a838c;_0x4c87a8[_0x597dc9(0x21f)]?_0x1a838c=new _0x1387db[(_0x597dc9(0x2f2))]({'uniforms':{'map':{'value':_0x4c87a8},'opacity':{'value':0x1},'time':{'value':0x0}},'vertexShader':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vNormal\x20=\x20normalMatrix\x20*\x20normal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fragmentShader':_0x597dc9(0x2cb),'transparent':!![],'side':_0x1387db[_0x597dc9(0x2fe)]}):_0x1a838c=_0x179c0a;const _0x11f9f5=_0x4c87a8[_0x597dc9(0x21f)]?_0x4c87a8[_0x597dc9(0x21f)][_0x597dc9(0x256)]/_0x4c87a8[_0x597dc9(0x21f)]['height']:0x1,_0x497b3f=Math['min'](this[_0x597dc9(0x1c8)][_0x597dc9(0x284)]*_0x11f9f5,this[_0x597dc9(0x1c8)][_0x597dc9(0x2bc)]),_0x33a8bb=new _0x1387db[(_0x597dc9(0x2a0))](_0x497b3f,this['config'][_0x597dc9(0x284)],this[_0x597dc9(0x1c8)][_0x597dc9(0x313)]),_0x1efb9b=new _0x1387db[(_0x597dc9(0x1ab))](_0x33a8bb,_0x1a838c);_0x1efb9b['position'][_0x597dc9(0x2c7)](_0x362461)[_0x597dc9(0x1c7)](_0x95c8b4[_0x597dc9(0x1a9)]),_0x1efb9b['rotation']['y']=_0x40c132,_0x1efb9b[_0x597dc9(0x2ed)]=!![],_0x1efb9b[_0x597dc9(0x199)]=!![],_0x1efb9b['userData']={'filename':_0x33bf54,'hash':_0x181121,'baseScale':_0x1efb9b['scale'][_0x597dc9(0x193)](),'metadata':{'title':_0x6a2923[_0x597dc9(0x186)],'description':_0x6a2923[_0x597dc9(0x1c9)],'artist':_0x6a2923[_0x597dc9(0x18f)]}},_0x95c8b4[_0x597dc9(0x1c7)](_0x1efb9b),this[_0x597dc9(0x190)][_0x597dc9(0x172)]({'mesh':_0x1efb9b,'filename':_0x33bf54,'hash':_0x181121,'metadata':_0x6a2923});const _0x375597=new _0x1387db[(_0x597dc9(0x2ec))]();_0x375597[_0x597dc9(0x185)](-_0x497b3f/0x2-this['config'][_0x597dc9(0x2f9)],-this[_0x597dc9(0x1c8)][_0x597dc9(0x284)]/0x2-this[_0x597dc9(0x1c8)][_0x597dc9(0x2f9)]),_0x375597[_0x597dc9(0x223)](_0x497b3f/0x2+this['config'][_0x597dc9(0x2f9)],-this[_0x597dc9(0x1c8)][_0x597dc9(0x284)]/0x2-this[_0x597dc9(0x1c8)][_0x597dc9(0x2f9)]),_0x375597[_0x597dc9(0x223)](_0x497b3f/0x2+this[_0x597dc9(0x1c8)][_0x597dc9(0x2f9)],this[_0x597dc9(0x1c8)][_0x597dc9(0x284)]/0x2+this[_0x597dc9(0x1c8)][_0x597dc9(0x2f9)]),_0x375597[_0x597dc9(0x223)](-_0x497b3f/0x2-this[_0x597dc9(0x1c8)][_0x597dc9(0x2f9)],this['config']['displayHeight']/0x2+this['config']['frameThickness']),_0x375597[_0x597dc9(0x223)](-_0x497b3f/0x2-this['config'][_0x597dc9(0x2f9)],-this['config'][_0x597dc9(0x284)]/0x2-this['config'][_0x597dc9(0x2f9)]);const _0x4e5e50=new _0x1387db['Path']();_0x4e5e50[_0x597dc9(0x185)](-_0x497b3f/0x2,-this[_0x597dc9(0x1c8)][_0x597dc9(0x284)]/0x2),_0x4e5e50['lineTo'](_0x497b3f/0x2,-this[_0x597dc9(0x1c8)][_0x597dc9(0x284)]/0x2),_0x4e5e50['lineTo'](_0x497b3f/0x2,this[_0x597dc9(0x1c8)]['displayHeight']/0x2),_0x4e5e50[_0x597dc9(0x223)](-_0x497b3f/0x2,this[_0x597dc9(0x1c8)]['displayHeight']/0x2),_0x4e5e50['lineTo'](-_0x497b3f/0x2,-this['config'][_0x597dc9(0x284)]/0x2),_0x375597['holes']['push'](_0x4e5e50);const _0x9cd908={'depth':this['config']['frameThickness'],'bevelEnabled':![]},_0x4f9963=new _0x1387db['ExtrudeGeometry'](_0x375597,_0x9cd908),_0xf6a277=new _0x1387db[(_0x597dc9(0x1ab))](_0x4f9963,_0x365e02);_0xf6a277[_0x597dc9(0x1a9)][_0x597dc9(0x2c7)](_0x1efb9b[_0x597dc9(0x1a9)]),_0xf6a277['position']['z']+=_0x40c132===0x0?-this[_0x597dc9(0x1c8)]['displayDepth']/0x2:_0x40c132===Math['PI']?this[_0x597dc9(0x1c8)]['displayDepth']/0x2:0x0,_0xf6a277['position']['x']+=_0x40c132===Math['PI']/0x2?-this[_0x597dc9(0x1c8)][_0x597dc9(0x313)]/0x2:_0x40c132===-Math['PI']/0x2?this[_0x597dc9(0x1c8)][_0x597dc9(0x313)]/0x2:0x0,_0xf6a277['rotation']['y']=_0x40c132,_0xf6a277[_0x597dc9(0x2ed)]=!![],_0xf6a277[_0x597dc9(0x199)]=!![],_0x95c8b4['add'](_0xf6a277);const _0xee0506=new _0x1387db[(_0x597dc9(0x2dc))](0xffffff,0x2,this['config'][_0x597dc9(0x169)],Math['PI']/0x6,0.7),_0x451db6=0x1;_0xee0506[_0x597dc9(0x1a9)][_0x597dc9(0x271)](_0x362461['x']+(Math['abs'](_0x40c132)===Math['PI']/0x2?_0x40c132>0x0?_0x451db6:-_0x451db6:0x0),this['config']['wallHeight']-0.5,_0x362461['z']+(Math['abs'](_0x40c132)===Math['PI']/0x2?0x0:_0x40c132===0x0?-_0x451db6:_0x451db6))[_0x597dc9(0x1c7)](_0x95c8b4[_0x597dc9(0x1a9)]),_0xee0506['target']=_0x1efb9b,_0xee0506[_0x597dc9(0x2ed)]=!![],_0xee0506[_0x597dc9(0x1bf)][_0x597dc9(0x29d)]['width']=0x200,_0xee0506[_0x597dc9(0x1bf)][_0x597dc9(0x29d)][_0x597dc9(0x2e2)]=0x200,_0xee0506[_0x597dc9(0x1bf)][_0x597dc9(0x2d2)]=-0.0001,_0x95c8b4[_0x597dc9(0x1c7)](_0xee0506),_0x577fe6++;}catch(_0x59ad22){console[_0x597dc9(0x2d1)](_0x597dc9(0x221)+_0x33bf54+':',_0x59ad22),_0x577fe6++;}}}console[_0x597dc9(0x1ee)](_0x597dc9(0x282)+this[_0x597dc9(0x17c)]+':\x20'+this['images'][_0x597dc9(0x20f)]+'/'+_0x46c139+',\x20Unique\x20hashes:\x20'+_0x2f6a42[_0x597dc9(0x2a9)]);}[_0x1909a0(0x2d8)](){const _0x3ac5d7=_0x1909a0;this[_0x3ac5d7(0x190)][_0x3ac5d7(0x237)](_0x30e060=>{const _0x440cbf=_0x3ac5d7;_0x30e060[_0x440cbf(0x189)]['parent']&&_0x30e060[_0x440cbf(0x189)][_0x440cbf(0x20b)][_0x440cbf(0x181)](_0x30e060['mesh']);_0x30e060[_0x440cbf(0x189)][_0x440cbf(0x24e)]['dispose']();if(_0x30e060[_0x440cbf(0x189)]['material'][_0x440cbf(0x233)])_0x30e060[_0x440cbf(0x189)][_0x440cbf(0x1a1)][_0x440cbf(0x233)][_0x440cbf(0x1b8)]();_0x30e060[_0x440cbf(0x189)][_0x440cbf(0x1a1)]['dispose']();}),this['images']=[],this['rooms']['forEach'](_0x355200=>{const _0x62d093=_0x3ac5d7,_0x2e7fb3=_0x355200['children'][_0x62d093(0x252)](_0x6a1e71=>_0x6a1e71 instanceof _0x1387db[_0x62d093(0x2dc)]||_0x6a1e71[_0x62d093(0x1df)][_0x62d093(0x255)]||_0x6a1e71[_0x62d093(0x1a1)]?.[_0x62d093(0x315)]?.['getHex']()===0x333333);_0x2e7fb3['forEach'](_0x69d281=>{const _0x22838d=_0x62d093;_0x355200['remove'](_0x69d281);if(_0x69d281[_0x22838d(0x24e)])_0x69d281['geometry']['dispose']();if(_0x69d281['material'])_0x69d281[_0x22838d(0x1a1)][_0x22838d(0x1b8)]();});}),console[_0x3ac5d7(0x1ee)]('üóëÔ∏è\x20Scene\x20cleared');}[_0x1909a0(0x275)](_0x1bc70c){return new Promise((_0xa31a06,_0xcf0761)=>{const _0x31885b=_0x14da;this[_0x31885b(0x2f6)][_0x31885b(0x16c)](_0x1bc70c,_0x54c348=>{const _0x1aa674=_0x31885b,_0xbcb9fb=this[_0x1aa674(0x1c8)][_0x1aa674(0x2e4)];if(_0x54c348[_0x1aa674(0x21f)][_0x1aa674(0x256)]>_0xbcb9fb||_0x54c348['image']['height']>_0xbcb9fb){const _0x25dda1=document[_0x1aa674(0x2c3)](_0x1aa674(0x1bc)),_0x4c1f33=_0x25dda1[_0x1aa674(0x1b4)]('2d'),_0x557c71=Math['min'](_0xbcb9fb/_0x54c348[_0x1aa674(0x21f)][_0x1aa674(0x256)],_0xbcb9fb/_0x54c348['image'][_0x1aa674(0x2e2)]);_0x25dda1[_0x1aa674(0x256)]=_0x54c348[_0x1aa674(0x21f)]['width']*_0x557c71,_0x25dda1[_0x1aa674(0x2e2)]=_0x54c348[_0x1aa674(0x21f)][_0x1aa674(0x2e2)]*_0x557c71,_0x4c1f33[_0x1aa674(0x1f6)](_0x54c348[_0x1aa674(0x21f)],0x0,0x0,_0x25dda1[_0x1aa674(0x256)],_0x25dda1[_0x1aa674(0x2e2)]),_0x54c348['image']=_0x25dda1,_0x54c348['needsUpdate']=!![];}_0x54c348['minFilter']=_0x1387db[_0x1aa674(0x1cb)],_0x54c348[_0x1aa674(0x26d)]=_0x1387db[_0x1aa674(0x239)],_0x54c348['generateMipmaps']=!![],_0x54c348['anisotropy']=Math['min'](0x8,this[_0x1aa674(0x30f)]['capabilities'][_0x1aa674(0x22f)]()||0x1),_0xa31a06(_0x54c348);},undefined,_0x1457db=>_0xcf0761(_0x1457db));});}[_0x1909a0(0x250)](_0x256c56){const _0x5c611a=_0x1909a0,_0xa8524c=new Date()[_0x5c611a(0x278)](),_0x1fa26b=_0xa8524c-this['lastClickTime'];if(_0x1fa26b<this[_0x5c611a(0x19f)]){this[_0x5c611a(0x209)]['x']=_0x256c56['clientX']/window[_0x5c611a(0x24f)]*0x2-0x1,this[_0x5c611a(0x209)]['y']=-(_0x256c56[_0x5c611a(0x1be)]/window['innerHeight'])*0x2+0x1,this[_0x5c611a(0x2cd)]['setFromCamera'](this[_0x5c611a(0x209)],this[_0x5c611a(0x1e6)]);const _0x39f46a=this[_0x5c611a(0x2cd)][_0x5c611a(0x2db)]([...this[_0x5c611a(0x190)][_0x5c611a(0x233)](_0x2e6876=>_0x2e6876[_0x5c611a(0x189)]),...this[_0x5c611a(0x2fb)][_0x5c611a(0x1e3)]['filter'](_0x1917a2=>_0x1917a2[_0x5c611a(0x20b)]&&_0x1917a2[_0x5c611a(0x20b)][_0x5c611a(0x1df)][_0x5c611a(0x2f8)]||_0x1917a2[_0x5c611a(0x1df)]['isInteractive'])[_0x5c611a(0x31a)](_0x584d33=>_0x584d33[_0x5c611a(0x1e3)][_0x5c611a(0x20f)]?_0x584d33[_0x5c611a(0x1e3)]:[_0x584d33])]);if(_0x39f46a[_0x5c611a(0x20f)]>0x0&&this[_0x5c611a(0x285)]<=0x0){const _0x1a0d89=_0x39f46a[0x0][_0x5c611a(0x219)];if(this['isFocused'])this[_0x5c611a(0x16e)](),this[_0x5c611a(0x21b)]();else{if(_0x1a0d89[_0x5c611a(0x20b)]&&_0x1a0d89[_0x5c611a(0x20b)]['userData'][_0x5c611a(0x2f8)])this[_0x5c611a(0x19a)]();else{if(_0x1a0d89[_0x5c611a(0x1df)][_0x5c611a(0x255)]){console[_0x5c611a(0x1ee)](_0x5c611a(0x18e)+_0x1a0d89['userData'][_0x5c611a(0x255)]);if(!this[_0x5c611a(0x2e3)]['isPlaying'])this[_0x5c611a(0x2e3)][_0x5c611a(0x1a6)]();this[_0x5c611a(0x30b)](_0x1a0d89),this[_0x5c611a(0x2ee)](_0x1a0d89),this[_0x5c611a(0x1b2)](_0x1a0d89);}else _0x1a0d89['parent']&&_0x1a0d89[_0x5c611a(0x20b)][_0x5c611a(0x1df)][_0x5c611a(0x1e1)]==='lightWall'&&(_0x1a0d89[_0x5c611a(0x1a1)][_0x5c611a(0x315)][_0x5c611a(0x1c6)](Math[_0x5c611a(0x277)](),0.8,0x1),this[_0x5c611a(0x285)]=0.5);}}}}this['lastClickTime']=_0xa8524c;}[_0x1909a0(0x1b2)](_0x2e5723){const _0x2a3e3f=_0x1909a0;if(!this[_0x2a3e3f(0x190)][_0x2a3e3f(0x20f)])return;!this['isMobile']&&this[_0x2a3e3f(0x2e0)]&&(this[_0x2a3e3f(0x211)][_0x2a3e3f(0x23d)](),this[_0x2a3e3f(0x2e0)]=![]);this[_0x2a3e3f(0x1b1)]=!![],this['sliderImages']=this[_0x2a3e3f(0x190)][_0x2a3e3f(0x233)](_0x5a80a0=>({'src':_0x5a80a0[_0x2a3e3f(0x255)],'mesh':_0x5a80a0[_0x2a3e3f(0x189)],'metadata':_0x5a80a0[_0x2a3e3f(0x192)]||_0x5a80a0[_0x2a3e3f(0x189)][_0x2a3e3f(0x1df)][_0x2a3e3f(0x192)]||{'title':'Untitled','description':'','artist':_0x2a3e3f(0x30d)}})),console[_0x2a3e3f(0x1ee)](_0x2a3e3f(0x204),this[_0x2a3e3f(0x19c)]),this[_0x2a3e3f(0x1e0)]=this['sliderImages'][_0x2a3e3f(0x1f0)](_0x19d1f2=>_0x19d1f2[_0x2a3e3f(0x189)]===_0x2e5723);if(this[_0x2a3e3f(0x1e0)]===-0x1)this['currentSliderIndex']=0x0;const _0x1348e0=document[_0x2a3e3f(0x2d3)](_0x2a3e3f(0x195));_0x1348e0?(_0x1348e0[_0x2a3e3f(0x290)][_0x2a3e3f(0x181)](_0x2a3e3f(0x1d6)),_0x1348e0[_0x2a3e3f(0x2a4)]['pointerEvents']=_0x2a3e3f(0x265),this[_0x2a3e3f(0x288)]()):(console[_0x2a3e3f(0x2d1)](_0x2a3e3f(0x16a)),this[_0x2a3e3f(0x1b1)]=![]);}['closeSlider'](){const _0x40eb98=_0x1909a0;this[_0x40eb98(0x1b1)]=![];const _0x3ae4c7=document[_0x40eb98(0x2d3)](_0x40eb98(0x195));_0x3ae4c7?(_0x3ae4c7[_0x40eb98(0x290)][_0x40eb98(0x1c7)](_0x40eb98(0x1d6)),_0x3ae4c7[_0x40eb98(0x2a4)][_0x40eb98(0x1f3)]=_0x40eb98(0x27a)):console['error'](_0x40eb98(0x16a)),this[_0x40eb98(0x272)]?this[_0x40eb98(0x16e)]():console[_0x40eb98(0x1ee)]('Slider\x20closed;\x20click\x20canvas\x20to\x20re-lock\x20pointer\x20if\x20desired');}[_0x1909a0(0x317)](){const _0x5b15a8=_0x1909a0;this[_0x5b15a8(0x1e0)]>0x0&&(this[_0x5b15a8(0x1e0)]--,this[_0x5b15a8(0x288)](),this['focusImage'](this[_0x5b15a8(0x19c)][this[_0x5b15a8(0x1e0)]]['mesh']));}[_0x1909a0(0x178)](){const _0x5aecf8=_0x1909a0;this[_0x5aecf8(0x1e0)]<this['sliderImages']['length']-0x1&&(this[_0x5aecf8(0x1e0)]++,this['updateSliderDisplay'](),this[_0x5aecf8(0x30b)](this['sliderImages'][this[_0x5aecf8(0x1e0)]][_0x5aecf8(0x189)]));}[_0x1909a0(0x288)](){const _0x3eba58=_0x1909a0,_0x5aea26=document[_0x3eba58(0x2d3)](_0x3eba58(0x262)),_0x77726=document[_0x3eba58(0x2d3)](_0x3eba58(0x191)),_0x4cc73b=document['querySelector']('.slider-content'),_0xd04002=this[_0x3eba58(0x19c)][this[_0x3eba58(0x1e0)]];if(_0x5aea26&&_0x77726&&_0x4cc73b){_0x5aea26[_0x3eba58(0x2b4)]=_0xd04002[_0x3eba58(0x2b4)],_0x77726[_0x3eba58(0x174)]=this['currentSliderIndex']+0x1+_0x3eba58(0x203)+this['sliderImages'][_0x3eba58(0x20f)];let _0x288928=document[_0x3eba58(0x2d3)](_0x3eba58(0x1f7));!_0x288928&&(_0x288928=document[_0x3eba58(0x2c3)](_0x3eba58(0x27d)),_0x288928['id']=_0x3eba58(0x1f7),_0x288928[_0x3eba58(0x2a4)][_0x3eba58(0x295)]=_0x3eba58(0x259),_0x4cc73b[_0x3eba58(0x1a8)](_0x288928)),_0x288928[_0x3eba58(0x1da)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>'+(_0xd04002[_0x3eba58(0x192)]['title']||'Untitled')+_0x3eba58(0x246)+(_0xd04002['metadata'][_0x3eba58(0x18f)]||_0x3eba58(0x30d))+_0x3eba58(0x305)+(_0xd04002[_0x3eba58(0x192)][_0x3eba58(0x1c9)]||'')+_0x3eba58(0x242);}else console['error']('Slider\x20elements\x20missing:',{'sliderImage':_0x5aea26,'sliderIndex':_0x77726,'sliderContent':_0x4cc73b});}[_0x1909a0(0x2ee)](_0x2d889e){const _0x40be25=_0x1909a0,_0x4b6b11=_0x2d889e[_0x40be25(0x2fa)][_0x40be25(0x193)](),_0x3698dc=_0x2d889e[_0x40be25(0x1df)]['baseScale'][_0x40be25(0x193)]()[_0x40be25(0x17b)](1.2),_0x394e46=0x1f4,_0x1e3374=performance[_0x40be25(0x2ca)](),_0x265247=_0x32b76f=>{const _0x4eb177=_0x40be25,_0x8f1ef5=_0x32b76f-_0x1e3374,_0x4abf34=Math[_0x4eb177(0x241)](_0x8f1ef5/_0x394e46,0x1);_0x2d889e['scale'][_0x4eb177(0x216)](_0x4b6b11,_0x3698dc,_0x4abf34);if(_0x4abf34<0x1)requestAnimationFrame(_0x265247);else{const _0x4f0f3a=_0x4fa353=>{const _0x4ad892=_0x4eb177,_0x443cf3=_0x4fa353-_0x1e3374-_0x394e46,_0x2d6644=Math['min'](_0x443cf3/_0x394e46,0x1);_0x2d889e[_0x4ad892(0x2fa)]['lerpVectors'](_0x3698dc,_0x4b6b11,_0x2d6644);if(_0x2d6644<0x1)requestAnimationFrame(_0x4f0f3a);};requestAnimationFrame(_0x4f0f3a);}};requestAnimationFrame(_0x265247);}[_0x1909a0(0x30b)](_0x35d057){const _0x1896ed=_0x1909a0;this[_0x1896ed(0x2a3)](),this[_0x1896ed(0x272)]=!![];if(this[_0x1896ed(0x1b6)]){const _0x48687b=_0x35d057[_0x1896ed(0x1a9)][_0x1896ed(0x193)]();_0x48687b['y']=this[_0x1896ed(0x1c8)][_0x1896ed(0x2ae)];const _0x3e1f24=0x2,_0x47963d=new _0x1387db[(_0x1896ed(0x28b))]();_0x47963d['subVectors'](this[_0x1896ed(0x1e6)][_0x1896ed(0x1a9)],_0x48687b)[_0x1896ed(0x1e7)](),_0x48687b[_0x1896ed(0x1c7)](_0x47963d['multiplyScalar'](-_0x3e1f24));const _0x3350bf=this[_0x1896ed(0x1e6)][_0x1896ed(0x1a9)][_0x1896ed(0x193)](),_0x5a3ca1=this[_0x1896ed(0x211)][_0x1896ed(0x2ba)]['clone'](),_0x4f768b=0x1f4,_0x5638e6=performance['now'](),_0x239660=_0x111b57=>{const _0x5abce1=_0x1896ed,_0x48a120=_0x111b57-_0x5638e6,_0xd73faa=Math['min'](_0x48a120/_0x4f768b,0x1);this[_0x5abce1(0x1e6)][_0x5abce1(0x1a9)]['lerpVectors'](_0x3350bf,_0x48687b,_0xd73faa),this[_0x5abce1(0x211)][_0x5abce1(0x2ba)][_0x5abce1(0x216)](_0x5a3ca1,_0x35d057[_0x5abce1(0x1a9)],_0xd73faa),this[_0x5abce1(0x211)][_0x5abce1(0x28d)]();if(_0xd73faa<0x1)requestAnimationFrame(_0x239660);};requestAnimationFrame(_0x239660);}else{const _0xe49e9b=new _0x1387db['Vector3']();this['camera'][_0x1896ed(0x2d5)](_0xe49e9b);const _0x1fce67=_0x35d057[_0x1896ed(0x1a9)][_0x1896ed(0x193)]()[_0x1896ed(0x198)](_0xe49e9b['multiplyScalar'](0x2));_0x1fce67['y']=this['config'][_0x1896ed(0x2ae)];const _0x4812b8=this[_0x1896ed(0x225)][0x0][_0x1896ed(0x1a9)],_0xf73a07=this[_0x1896ed(0x1c8)][_0x1896ed(0x169)]/0x2-0x1,_0x182399=_0x4812b8['x']-_0xf73a07,_0x8eced7=_0x4812b8['x']+_0xf73a07,_0x3d07c6=_0x4812b8['z']-_0xf73a07,_0x50db25=_0x4812b8['z']+_0xf73a07;_0x1fce67['x']=Math['max'](_0x182399,Math[_0x1896ed(0x241)](_0x8eced7,_0x1fce67['x'])),_0x1fce67['z']=Math[_0x1896ed(0x2a5)](_0x3d07c6,Math[_0x1896ed(0x241)](_0x50db25,_0x1fce67['z']));const _0x588b65=this[_0x1896ed(0x1e6)][_0x1896ed(0x1a9)][_0x1896ed(0x193)](),_0x215414=0x1f4,_0x40e009=performance['now'](),_0x59f82d=_0x353f64=>{const _0x157852=_0x1896ed,_0x30fedb=_0x353f64-_0x40e009,_0x33479a=Math[_0x157852(0x241)](_0x30fedb/_0x215414,0x1);this[_0x157852(0x1e6)][_0x157852(0x1a9)][_0x157852(0x216)](_0x588b65,_0x1fce67,_0x33479a),this[_0x157852(0x211)][_0x157852(0x306)]()['position'][_0x157852(0x2c7)](this[_0x157852(0x1e6)][_0x157852(0x1a9)]),this['camera'][_0x157852(0x1c5)](_0x35d057[_0x157852(0x1a9)]),this[_0x157852(0x188)]();if(_0x33479a<0x1)requestAnimationFrame(_0x59f82d);};requestAnimationFrame(_0x59f82d);}}[_0x1909a0(0x16e)](){const _0x173e82=_0x1909a0;if(!this['isFocused'])return;const _0x4127c1=this['camera'][_0x173e82(0x1a9)]['clone'](),_0x174873=this['previousCameraState']['position'][_0x173e82(0x193)](),_0x3b1e8f=0x1f4,_0x2007a9=performance['now']();if(this[_0x173e82(0x1b6)]){const _0x5ea80a=this[_0x173e82(0x211)]['target'][_0x173e82(0x193)](),_0x3f5352=this['previousCameraState'][_0x173e82(0x2ba)][_0x173e82(0x193)](),_0x5cc9d3=_0x1d02e6=>{const _0x537cd8=_0x173e82,_0xace827=_0x1d02e6-_0x2007a9,_0x439565=Math[_0x537cd8(0x241)](_0xace827/_0x3b1e8f,0x1),_0x24277b=0.5-0.5*Math[_0x537cd8(0x17a)](Math['PI']*_0x439565);this['camera']['position']['lerpVectors'](_0x4127c1,_0x174873,_0x24277b),this[_0x537cd8(0x211)][_0x537cd8(0x2ba)][_0x537cd8(0x216)](_0x5ea80a,_0x3f5352,_0x24277b),this[_0x537cd8(0x211)][_0x537cd8(0x28d)]();if(_0x439565<0x1)requestAnimationFrame(_0x5cc9d3);else this[_0x537cd8(0x272)]=![],this['closeSlider']();};requestAnimationFrame(_0x5cc9d3);}else{const _0x5beebc=_0x4353b9=>{const _0x5c9edc=_0x173e82,_0x4c047b=_0x4353b9-_0x2007a9,_0x20b49f=Math[_0x5c9edc(0x241)](_0x4c047b/_0x3b1e8f,0x1),_0x5e5705=0.5-0.5*Math[_0x5c9edc(0x17a)](Math['PI']*_0x20b49f);this[_0x5c9edc(0x1e6)]['position'][_0x5c9edc(0x216)](_0x4127c1,_0x174873,_0x5e5705),this[_0x5c9edc(0x211)][_0x5c9edc(0x306)]()[_0x5c9edc(0x1a9)]['copy'](this['camera'][_0x5c9edc(0x1a9)]),this[_0x5c9edc(0x188)]();if(_0x20b49f<0x1)requestAnimationFrame(_0x5beebc);else this[_0x5c9edc(0x272)]=![],this[_0x5c9edc(0x21b)]();};requestAnimationFrame(_0x5beebc);}}['updateCameraState'](){const _0x201c60=_0x1909a0;this[_0x201c60(0x2e9)]={'position':this[_0x201c60(0x1e6)][_0x201c60(0x1a9)]['clone'](),'rotation':this[_0x201c60(0x1e6)][_0x201c60(0x29b)][_0x201c60(0x193)](),'target':this[_0x201c60(0x1b6)]?this[_0x201c60(0x211)]['target'][_0x201c60(0x193)]():this[_0x201c60(0x1e6)]['getWorldDirection'](new _0x1387db[(_0x201c60(0x28b))]())[_0x201c60(0x17b)](0x5)[_0x201c60(0x1c7)](this['camera'][_0x201c60(0x1a9)])};}[_0x1909a0(0x2b8)](){const _0x342f96=_0x1909a0,_0xe6e5c2=this[_0x342f96(0x30f)]['domElement'][_0x342f96(0x309)]('image/png'),_0x19d2f9=document[_0x342f96(0x2c3)]('a');_0x19d2f9[_0x342f96(0x257)]=_0xe6e5c2,_0x19d2f9[_0x342f96(0x28a)]='gallery_view.png',_0x19d2f9[_0x342f96(0x177)]();}[_0x1909a0(0x222)](){const _0x57a2f2=_0x1909a0,_0x3e358a=document[_0x57a2f2(0x2d3)]('zoomSlider'),_0x158ae9=document['getElementById'](_0x57a2f2(0x1a5)),_0x4a0d58=parseFloat(_0x3e358a[_0x57a2f2(0x1f2)]);_0x158ae9[_0x57a2f2(0x174)]=_0x4a0d58[_0x57a2f2(0x205)](0x1),this['isMobile']?(this[_0x57a2f2(0x211)][_0x57a2f2(0x310)]=0x1/_0x4a0d58,this['controls'][_0x57a2f2(0x270)]=0xa/_0x4a0d58,this[_0x57a2f2(0x211)][_0x57a2f2(0x28d)]()):(this[_0x57a2f2(0x2be)]=_0x4a0d58/0xa,this[_0x57a2f2(0x1e6)][_0x57a2f2(0x22a)]=0x4b/(_0x4a0d58*0.5+0.5),this[_0x57a2f2(0x1e6)][_0x57a2f2(0x30c)]());}async['handleScreenshotSubmit'](_0x4ea2ae){const _0x2a326c=_0x1909a0;_0x4ea2ae[_0x2a326c(0x1e2)]();const _0x13f8b1=document[_0x2a326c(0x2d3)](_0x2a326c(0x231))?.[_0x2a326c(0x1f2)];if(!_0x13f8b1)return;try{const _0x659ace=await fetch('http://localhost:3000/api/capture',{'method':_0x2a326c(0x1a0),'headers':{'Content-Type':_0x2a326c(0x2e1)},'body':JSON['stringify']({'url':_0x13f8b1})}),_0x481a5f=await _0x659ace[_0x2a326c(0x22d)]();_0x481a5f[_0x2a326c(0x229)]&&(this[_0x2a326c(0x229)]=_0x481a5f[_0x2a326c(0x229)],localStorage[_0x2a326c(0x23e)](_0x2a326c(0x229),this[_0x2a326c(0x229)]),await this['loadImages'](this[_0x2a326c(0x229)]));}catch(_0x59031f){console[_0x2a326c(0x2d1)]('Error\x20capturing\x20screenshot:',_0x59031f);}}async['handleUploadSubmit'](_0x8809a3){const _0x784eac=_0x1909a0;_0x8809a3[_0x784eac(0x1e2)]();if(!this['pendingFiles'][_0x784eac(0x20f)]||!this[_0x784eac(0x192)][_0x784eac(0x20f)]){console[_0x784eac(0x1ee)](_0x784eac(0x311));return;}const _0x359fba=new FormData();this[_0x784eac(0x2d0)][_0x784eac(0x237)]((_0x4bd7a8,_0x67182b)=>{const _0x2acf36=_0x784eac;_0x359fba[_0x2acf36(0x218)](_0x2acf36(0x190),_0x4bd7a8),_0x359fba[_0x2acf36(0x218)](_0x2acf36(0x186),this['metadata'][_0x67182b][_0x2acf36(0x186)]),_0x359fba[_0x2acf36(0x218)](_0x2acf36(0x1c9),this[_0x2acf36(0x192)][_0x67182b]['description']),_0x359fba[_0x2acf36(0x218)](_0x2acf36(0x18f),this[_0x2acf36(0x192)][_0x67182b][_0x2acf36(0x18f)]);});try{const _0x1638ac=await fetch(_0x784eac(0x1bd)+(this['sessionId']?'/'+this[_0x784eac(0x229)]:''),{'method':_0x784eac(0x1a0),'body':_0x359fba}),_0x3a4101=await _0x1638ac['json']();_0x3a4101['success']&&(this[_0x784eac(0x229)]=_0x3a4101[_0x784eac(0x229)],localStorage[_0x784eac(0x23e)](_0x784eac(0x229),this[_0x784eac(0x229)]),this['metadata']=this[_0x784eac(0x2d0)][_0x784eac(0x233)]((_0x5a0e58,_0x41c879)=>({'filename':_0x5a0e58['name'],'title':this[_0x784eac(0x192)][_0x41c879][_0x784eac(0x186)],'description':this[_0x784eac(0x192)][_0x41c879][_0x784eac(0x1c9)],'artist':this[_0x784eac(0x192)][_0x41c879][_0x784eac(0x18f)]})),await new Promise(_0x19fcb8=>setTimeout(_0x19fcb8,0x64)),await this[_0x784eac(0x2da)](this[_0x784eac(0x229)]),this[_0x784eac(0x2d0)]=[],document[_0x784eac(0x2d3)](_0x784eac(0x190))[_0x784eac(0x1f2)]='',this['previewContainer'][_0x784eac(0x1da)]='');}catch(_0xbafd07){console[_0x784eac(0x2d1)](_0x784eac(0x19d),_0xbafd07);}}['handleResize'](){const _0x32b3e6=_0x1909a0;this[_0x32b3e6(0x1e6)][_0x32b3e6(0x1e8)]=window[_0x32b3e6(0x24f)]/window[_0x32b3e6(0x2bb)],this['camera'][_0x32b3e6(0x30c)](),this[_0x32b3e6(0x30f)][_0x32b3e6(0x201)](window[_0x32b3e6(0x24f)],window[_0x32b3e6(0x2bb)]);}['showAvatarInstructions'](){const _0x46a4ff=_0x1909a0,_0x23f8a0=document[_0x46a4ff(0x2c3)](_0x46a4ff(0x27d));_0x23f8a0['id']=_0x46a4ff(0x207),_0x23f8a0[_0x46a4ff(0x2a4)][_0x46a4ff(0x295)]=_0x46a4ff(0x28c),this[_0x46a4ff(0x1b6)]?_0x23f8a0[_0x46a4ff(0x1da)]=_0x46a4ff(0x179):_0x23f8a0[_0x46a4ff(0x1da)]=_0x46a4ff(0x276),document[_0x46a4ff(0x213)][_0x46a4ff(0x1a8)](_0x23f8a0),document[_0x46a4ff(0x2d3)](_0x46a4ff(0x215))['addEventListener']('click',()=>{const _0x537251=_0x46a4ff;document[_0x537251(0x213)][_0x537251(0x1e4)](_0x23f8a0);});}}const app=new ThreeJSApp();function _0x14da(_0x3cbfc1,_0x5954ba){const _0x12bcc1=_0x12bc();return _0x14da=function(_0x14daf9,_0x47e106){_0x14daf9=_0x14daf9-0x168;let _0x201aef=_0x12bcc1[_0x14daf9];return _0x201aef;},_0x14da(_0x3cbfc1,_0x5954ba);}app[_0x1909a0(0x2a8)]();