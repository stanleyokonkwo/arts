function _0x2804(_0x54978a,_0xf0a5ee){const _0x4cbbc4=_0x4cbb();return _0x2804=function(_0x2804f7,_0x5c034b){_0x2804f7=_0x2804f7-0x86;let _0x523993=_0x4cbbc4[_0x2804f7];return _0x523993;},_0x2804(_0x54978a,_0xf0a5ee);}const _0x389c97=_0x2804;(function(_0x361398,_0x2ecc24){const _0x148600=_0x2804,_0x550066=_0x361398();while(!![]){try{const _0x205729=parseInt(_0x148600(0x19e))/0x1+-parseInt(_0x148600(0xe2))/0x2+-parseInt(_0x148600(0xb7))/0x3*(parseInt(_0x148600(0x21b))/0x4)+parseInt(_0x148600(0x8a))/0x5+parseInt(_0x148600(0x1a5))/0x6+-parseInt(_0x148600(0x19d))/0x7*(-parseInt(_0x148600(0x11b))/0x8)+-parseInt(_0x148600(0x109))/0x9*(-parseInt(_0x148600(0x171))/0xa);if(_0x205729===_0x2ecc24)break;else _0x550066['push'](_0x550066['shift']());}catch(_0x43647f){_0x550066['push'](_0x550066['shift']());}}}(_0x4cbb,0x79dca));import*as _0x2d4112 from'three';function _0x4cbb(){const _0x1a9223=['data','MathUtils','normalMap','Error\x20capturing\x20screenshot:','src','lineTo','Mesh','change','toLowerCase','WebGLRenderer','sliderIndex','hidden','download','near','textContent','time','isLocked','MeshPhysicalMaterial','setupEventListeners','update','enablePan','warn','normalScale','now','Click\x20to\x20enter\x20the\x20gallery.\x20Use\x20W,\x20A,\x20S,\x20D\x20to\x20move,\x20Q/E\x20to\x20rotate,\x20mouse\x20to\x20look\x20up/down,\x20double-click\x20art\x20to\x20focus,\x20click\x20avatar\x20for\x20help.','toFixed','setItem','screenshotForm','parent','ExtrudeGeometry','zoomValue','435272tFAeka','controls','innerWidth','style','.children[4].rotation[z]','magFilter','min','cos','clientY','readAsDataURL','render','updateSliderDisplay','isPlaying','stop','ðŸ“¸\x20Fetched\x20data\x20for\x20session','appendChild','clickSound','loadTexture','target','captureStream','HTTP\x20error!\x20status:\x20','Arrow\x20Right\x20pressed','onclick','azimuthAngle','.webm','checkCollisions','mousemove','POST','isMobile','add','removeEventListener','openSlider','recordStatus','loadAudio','preventDefault','computeImageHash','anisotropy','sliderMetadata','bind','999xizwXO','sin','flatMap','getImageData','mesh','position:absolute;\x20top:50%;\x20left:50%;\x20transform:translate(-50%,\x20-50%);\x20color:white;\x20background:rgba(0,0,0,0.7);\x20padding:20px;\x20border-radius:5px;\x20z-index:11;\x20text-align:center;','controlsVisible','createObjectURL','classList','DoubleSide','toggleControlsBtn','Untitled','backgroundAudio','test','AudioLoader','removeChild','setSize','Euler','1640AluEHY','Path','isAnimatingObjects','mouse','avatarGroup','showAvatarInstructions','Max\x20retries\x20reached,\x20using\x20fallback','castShadow','screenshots','maxImagesPerWall','intensity','material','Auto\x20Rotate','lerpVectors','updateObjectAnimations','previousCameraState','status','innerHTML','setFromQuaternion','Scene','ðŸŽ¥\x20Recording\x20started','AnimationClip','lastClickTime','YXZ','toDataURL','image','moveTo','key','interactionCooldown','enabled','SpotLight','animateObjectsBtn','prevImage','tutorialOverlay','animationMixer','files','revokeObjectURL','.slider-group:last-child','Vector2','rooms','CircleGeometry','holes','userData','hidden-panel','addEventListener','toString','className','querySelector','rot','max-width:\x20100px;\x20max-height:\x20100px;\x20margin:\x205px;\x20object-fit:\x20cover;','/api/upload','camera','getTime','crossVectors','dir','Animate\x20Objects','isInteractive','image/','minDistance','NumberKeyframeTrack','SphereGeometry','textureLoader','recordBtn','needsUpdate','setHSL','onCanvasClick','log','displayHeight','Texture','âŒ\x20Error\x20fetching\x20images\x20(attempt\x20','BoxGeometry','closeSlider','far','init','sliderImage','addScaledVector','max','showImagePreviewsAndMetadataPrompt','Next\x20button\x20clicked','isMoving','Prev\x20button\x20clicked','fov','Unlocking\x20pointer','auto','avatarInstructions','remove','21680hVnPxO','minFilter','displayDepth','setPixelRatio','metadataModal','ArrowLeft','PlaneGeometry','split','ðŸŽ¨\x20Images\x20rendered\x20in\x20room\x20','repeat','body','random','onKeyDown','toggleAutoRotate','Stop\x20Animating','resetCamera','ðŸ–¥ï¸\x20Controls\x20visible','Show\x20Controls','updateAvatarPosition','ontouchstart','dampingFactor','children','none','keys','getHex','Swipe\x20to\x20look\x20around,\x20pinch\x20to\x20zoom,\x20tap\x20artwork\x20to\x20focus,\x20tap\x20avatar\x20for\x20help.','zoomSlider','setFromEuler','description','CatmullRomCurve3','type','lock','CylinderGeometry','setupAudio','Error\x20loading\x20audio:','devicePixelRatio','quaternion','uploadForm','onstop','video/webm','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22description-','querySelectorAll','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Gallery\x20Controls</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Click\x20to\x20lock\x20pointer\x20and\x20start\x20exploring.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Use\x20W,\x20A,\x20S,\x20D\x20to\x20move.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Mouse\x20to\x20look\x20around.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Double-click\x20an\x20artwork\x20to\x20focus\x20and\x20scale,\x20double-click\x20again\x20to\x20reset.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeInstructions\x22\x20style=\x22margin-top:10px;\x20padding:5px\x2010px;\x20background:#1e90ff;\x20border:none;\x20color:white;\x20border-radius:5px;\x20cursor:pointer;\x22>Close</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generateNoiseCanvas','9401UdYVgD','191525xpHBIg','Unlocked','find','PCFSoftShadowMap','Stop\x20Recording','displayImagesInGallery','Slider\x20images\x20with\x20metadata:','3810066NHixCI','title','isSliderActive','getWorldDirection','ownerDocument','Locked','showMetadataModal','innerHeight','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Using\x20server-provided\x20metadata:','filename','animationSpeedSlider','handleResize','lookAt','json','ShaderMaterial','updateImageEffects','downloadBtn','cssText','input','width','setVolume','toggle','audioListener','uniforms','maxTextureSize','ðŸŽ¬\x20Object\x20animation\x20disabled','Pointer\x20lock\x20state\x20changed:','AmbientLight','DirectionalLight','fas\x20fa-eye-slash','saveRecording','toggleObjectAnimation','cameraHeight','isAutoRotating','metadata','stopPropagation','drawImage','scaleImage','\x20with\x20hash\x20','https://via.placeholder.com/350x250','sweet.mp3','success','escape','generateMipmaps','createAvatar','clone','append','currentRoom','pendingFiles','resize','pointerEvents','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Description:</strong>\x20','keyup','clientX','filter','wallOffset','scale','map','isFocused','stringify','length','loadImages','keydown','previewContainer','onMouseMove','Attempting\x20to\x20lock\x20pointer','Error\x20loading\x20image\x20','putImageData','movementY','click','geometry','enableDamping','object','handleScreenshotSubmit','normalize','canvas','Audio','ðŸŽ¥\x20Recording\x20stopped','Vector3','size','lightIntensity','startRecording','Slider\x20container\x20not\x20found\x20in\x20DOM','getElementById','.children[3].rotation[z]','updateCameraState','handleUploadSubmit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>Gallery\x20Controls</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Swipe\x20to\x20look\x20around.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Pinch\x20to\x20zoom\x20in/out.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Tap\x20an\x20artwork\x20to\x20focus,\x20tap\x20again\x20to\x20reset.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22closeInstructions\x22\x20style=\x22margin-top:10px;\x20padding:5px\x2010px;\x20background:#1e90ff;\x20border:none;\x20color:white;\x20border-radius:5px;\x20cursor:pointer;\x22>Close</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','nextSliderImage','Slider\x20closed;\x20click\x20canvas\x20to\x20re-lock\x20pointer\x20if\x20desired','handleDownload','animate','/api/capture','roomSize','wallHeight','autoRotateSpeed','ðŸ”„\x20Auto-rotation\x20disabled','bias','subVectors','gallery_recording_','TextureLoader','Clicked\x20image:\x20','selectedMesh','Hide\x20Controls','block','animationSpeed','AnimationMixer','pop','clickDelay','isRecording','intersectObjects','rotationSpeed','mediaRecorder','PointLight','createElement','value','mapSize','200VsTMOe','set','forEach','lightWall','getContext','maxDistance','sensitivityValue','receiveShadow','ðŸš€\x20Virtual\x20Gallery\x20loaded','from','ArrowRight','getMaxAnisotropy','updateProjectionMatrix','toggleControls','moveSpeed','displayWidth','recordedFrames','ondataavailable','play','config','position','MeshStandardMaterial','abs','Error\x20uploading\x20files:','Generated\x20fallback\x20metadata:','submitMetadata','prevSliderImage','imageSliderContainer','degToRad','application/json','currentSliderIndex','imagesToLoad','sliderImages','wrapS','RepeatWrapping','LinearFilter','push','name','wrapT','ceil','raycaster','error','stopRecording','artist','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>','metadataInputs','sensitivitySlider','createGallery','setBuffer','unlock','510665qQfZVU','addLighting','\x22\x20placeholder=\x22Image\x20Title\x22\x20value=\x22','updateAutoRotate','capabilities','height','domElement','color','frameThickness','pointerLockElement','getObject','clearScene','result','.slider-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>','focusImage','isAvatar','shadowMap','Raycaster','copy','ðŸ–¥ï¸\x20Controls\x20hidden','Unknown','renderer','nextImage','Close\x20button\x20clicked','multiplyScalar','.control-panel','color:\x20white;\x20background:\x20rgba(0,0,0,0.7);\x20padding:\x2010px;\x20border-radius:\x205px;\x20margin-top:\x2010px;','Group','touchstart','LoopRepeat','Start\x20Recording','sensitivity','sessionId','images','rotation','display','autoRotateBtn','submit','sub','shadow','scene','wave.jpg','findIndex',',\x20skipping','43671NaAqTf','Stop\x20Rotation','dispose','Arrow\x20Left\x20pressed','ðŸŽ¬\x20Object\x20animation\x20enabled','div','/api/screenshots/','\x22\x20placeholder=\x22Description\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22artist-','roomCameraSettings','Duplicate\x20image\x20content\x20detected\x20for\x20','onKeyUp','setLoop'];_0x4cbb=function(){return _0x1a9223;};return _0x4cbb();}import{PointerLockControls}from'PointerLockControls';import{OrbitControls}from'OrbitControls';class CustomPointerLockControls extends PointerLockControls{constructor(_0x5c55fe,_0x516212){const _0x33204f=_0x2804;super(_0x5c55fe,_0x516212),this[_0x33204f(0xaa)]=0.001,this[_0x33204f(0x14e)]=_0x5c55fe;}[_0x389c97(0x94)](){return this['camera'];}[_0x389c97(0x190)](){const _0x53f718=_0x389c97;console[_0x53f718(0x15d)](_0x53f718(0x1e7)),super[_0x53f718(0x190)](),this[_0x53f718(0x90)][_0x53f718(0x1a9)][_0x53f718(0x147)](_0x53f718(0xfc),this[_0x53f718(0x1e6)][_0x53f718(0x108)](this));}['unlock'](){const _0x538ca4=_0x389c97;console[_0x538ca4(0x15d)](_0x538ca4(0x16d)),super[_0x538ca4(0x89)](),this[_0x538ca4(0x90)][_0x538ca4(0x1a9)][_0x538ca4(0x100)](_0x538ca4(0xfc),this['onMouseMove']['bind'](this));}[_0x389c97(0x1e6)](_0x155e16){const _0x40d91c=_0x389c97;if(this[_0x40d91c(0xd3)]===!![]){const _0x1f8a31=_0x155e16['movementX']*this[_0x40d91c(0xaa)],_0x2b3696=_0x155e16[_0x40d91c(0x1ea)]*this[_0x40d91c(0xaa)],_0x4acac7=new _0x2d4112[(_0x40d91c(0x11a))](0x0,0x0,0x0,'YXZ');_0x4acac7[_0x40d91c(0x12d)](this[_0x40d91c(0x14e)]['quaternion']),_0x4acac7['y']-=_0x1f8a31,_0x4acac7['x']-=_0x2b3696,_0x4acac7['x']=Math['max'](-Math['PI']/0x2,Math[_0x40d91c(0xe8)](Math['PI']/0x2,_0x4acac7['x'])),this[_0x40d91c(0x14e)][_0x40d91c(0x195)][_0x40d91c(0x18c)](_0x4acac7);}}['setSensitivity'](_0x4aeba8){const _0x69a901=_0x389c97;this[_0x69a901(0xaa)]=_0x4aeba8;}}class ThreeJSApp{constructor(){const _0x3634c9=_0x389c97;this[_0x3634c9(0x22e)]={'roomSize':0xf,'wallHeight':0x5,'cameraHeight':1.6,'initialCameraDistance':0x5,'maxImagesPerWall':null,'displayWidth':3.5,'displayHeight':2.5,'displayDepth':0.2,'frameThickness':0.1,'wallOffset':0.3,'lightIntensity':0.8,'ambientIntensity':0.5,'maxTextureSize':0x400},this[_0x3634c9(0xb3)]=new _0x2d4112[(_0x3634c9(0x12e))](),this[_0x3634c9(0x14e)]=new _0x2d4112['PerspectiveCamera'](0x4b,window['innerWidth']/window[_0x3634c9(0x1ac)],0.1,0x3e8),this[_0x3634c9(0xbf)]=[{'position':new _0x2d4112[(_0x3634c9(0x1f4))](0x0,this['config'][_0x3634c9(0x1c6)],this[_0x3634c9(0x22e)]['initialCameraDistance']),'lookAt':new _0x2d4112[(_0x3634c9(0x1f4))](0x0,this['config'][_0x3634c9(0x1c6)],0x0)}];const _0x268d14=this[_0x3634c9(0xbf)][0x0];this[_0x3634c9(0x14e)][_0x3634c9(0x22f)][_0x3634c9(0x9d)](_0x268d14[_0x3634c9(0x22f)]),this['camera'][_0x3634c9(0x1b2)](_0x268d14[_0x3634c9(0x1b2)]),this[_0x3634c9(0xa0)]=new _0x2d4112[(_0x3634c9(0xcc))]({'alpha':![],'antialias':!![],'preserveDrawingBuffer':!![]}),this[_0x3634c9(0xa0)]['setClearColor'](0x0,0x1),this[_0x3634c9(0xa0)]['shadowMap'][_0x3634c9(0x138)]=!![],this[_0x3634c9(0xa0)][_0x3634c9(0x9b)][_0x3634c9(0x18f)]=_0x2d4112[_0x3634c9(0x1a1)],this['renderer'][_0x3634c9(0x174)](window[_0x3634c9(0x194)]),this['renderer']['setSize'](window['innerWidth'],window[_0x3634c9(0x1ac)]),document[_0x3634c9(0x17b)][_0x3634c9(0xf1)](this[_0x3634c9(0xa0)][_0x3634c9(0x90)]),this[_0x3634c9(0x1c8)]=[],this['isMobile']=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i[_0x3634c9(0x116)](navigator['userAgent'])||_0x3634c9(0x184)in window,this[_0x3634c9(0xfe)]?(this['controls']=new OrbitControls(this[_0x3634c9(0x14e)],this[_0x3634c9(0xa0)][_0x3634c9(0x90)]),this[_0x3634c9(0xe3)][_0x3634c9(0xf4)][_0x3634c9(0x9d)](_0x268d14[_0x3634c9(0x1b2)]),this['controls'][_0x3634c9(0x1ed)]=!![],this[_0x3634c9(0xe3)][_0x3634c9(0x185)]=0.05,this[_0x3634c9(0xe3)][_0x3634c9(0x155)]=0x1,this['controls'][_0x3634c9(0x220)]=0xa,this[_0x3634c9(0xe3)][_0x3634c9(0xd7)]=!![],this['controls']['enableZoom']=!![]):(this[_0x3634c9(0xe3)]=new CustomPointerLockControls(this[_0x3634c9(0x14e)],this[_0x3634c9(0xa0)][_0x3634c9(0x90)]),this[_0x3634c9(0xe3)]['getObject']()[_0x3634c9(0x22f)][_0x3634c9(0x9d)](_0x268d14[_0x3634c9(0x22f)])),this[_0x3634c9(0xac)]=[],this['sessionId']=localStorage['getItem'](_0x3634c9(0xab)),this['textureLoader']=new _0x2d4112['TextureLoader'](),this['audioListener']=new _0x2d4112['AudioListener'](),this[_0x3634c9(0x14e)][_0x3634c9(0xff)](this[_0x3634c9(0x1bc)]),this['backgroundAudio']=new _0x2d4112[(_0x3634c9(0x1f2))](this[_0x3634c9(0x1bc)]),this['clickSound']=new _0x2d4112[(_0x3634c9(0x1f2))](this[_0x3634c9(0x1bc)]),this[_0x3634c9(0x243)]=new _0x2d4112[(_0x3634c9(0x9c))](),this['mouse']=new _0x2d4112[(_0x3634c9(0x141))](),this[_0x3634c9(0x20c)]=null,this[_0x3634c9(0x142)]=[],this[_0x3634c9(0x1d5)]=0x0,this[_0x3634c9(0x1e0)]=![],this[_0x3634c9(0xd3)]=![],this[_0x3634c9(0x1a7)]=![],this[_0x3634c9(0x23b)]=[],this[_0x3634c9(0x239)]=0x0,this[_0x3634c9(0x12a)]={'position':this[_0x3634c9(0x14e)][_0x3634c9(0x22f)][_0x3634c9(0x1d3)](),'rotation':this[_0x3634c9(0x14e)][_0x3634c9(0xad)][_0x3634c9(0x1d3)](),'target':_0x268d14[_0x3634c9(0x1b2)][_0x3634c9(0x1d3)]()},this[_0x3634c9(0x131)]=0x0,this['clickDelay']=0x12c,this['keys']={'w':![],'a':![],'s':![],'d':![],'q':![],'e':![]},this['moveSpeed']=0.1,this[_0x3634c9(0x215)]=0.02,this['time']=0x0,this[_0x3634c9(0x21e)]=null,this['interactionCooldown']=0x0,this[_0x3634c9(0x213)]=![],this['recordedFrames']=[],this[_0x3634c9(0x216)]=null,this[_0x3634c9(0x205)]=0.5,this[_0x3634c9(0x1c7)]=![],this['previewContainer']=document[_0x3634c9(0x1f9)](_0x3634c9(0x1e5)),this[_0x3634c9(0x13d)]=new _0x2d4112[(_0x3634c9(0x210))](this[_0x3634c9(0xb3)]),this['isAnimatingObjects']=![],this['animationSpeed']=0x1,this[_0x3634c9(0x8b)](),this[_0x3634c9(0x87)](),this['setupAudio'](),this[_0x3634c9(0xd5)](),this[_0x3634c9(0x1d2)]();}[_0x389c97(0x8b)](){const _0x3b174e=_0x389c97,_0x10a43e=new _0x2d4112[(_0x3b174e(0x1c1))](0xffffff,this['config']['ambientIntensity']);this[_0x3b174e(0xb3)][_0x3b174e(0xff)](_0x10a43e);const _0x2fb690=new _0x2d4112[(_0x3b174e(0x1c2))](0xffffff,this['config'][_0x3b174e(0x1f6)]);_0x2fb690[_0x3b174e(0x22f)]['set'](0x0,this[_0x3b174e(0x22e)]['wallHeight']*0x2,this[_0x3b174e(0x22e)][_0x3b174e(0x203)]),_0x2fb690[_0x3b174e(0x122)]=!![],_0x2fb690['shadow'][_0x3b174e(0x21a)][_0x3b174e(0x1b9)]=0x800,_0x2fb690[_0x3b174e(0xb2)]['mapSize'][_0x3b174e(0x8f)]=0x800,_0x2fb690[_0x3b174e(0xb2)]['camera'][_0x3b174e(0xd0)]=0.5,_0x2fb690[_0x3b174e(0xb2)][_0x3b174e(0x14e)][_0x3b174e(0x163)]=this['config'][_0x3b174e(0x203)]*0x3,this[_0x3b174e(0xb3)][_0x3b174e(0xff)](_0x2fb690);}['createGallery'](){const _0x9cdc99=_0x389c97,_0x4007e3=0x888888,_0x318baf=0.7,_0x429543=0.1,_0x5b4b61=new _0x2d4112[(_0x9cdc99(0x230))]({'color':_0x4007e3,'roughness':0.2,'metalness':_0x429543}),_0x3a262a=new _0x2d4112[(_0x9cdc99(0x15f))](this[_0x9cdc99(0x19c)](0x100,0x100));_0x3a262a[_0x9cdc99(0x15a)]=!![],_0x3a262a[_0x9cdc99(0x23c)]=_0x3a262a[_0x9cdc99(0x241)]=_0x2d4112[_0x9cdc99(0x23d)],_0x3a262a['repeat'][_0x9cdc99(0x21c)](0x4,0x4),_0x5b4b61['map']=_0x3a262a,_0x5b4b61[_0x9cdc99(0xc5)]=_0x3a262a,_0x5b4b61[_0x9cdc99(0xd9)]['set'](0.05,0.05);const _0x444b31=new _0x2d4112[(_0x9cdc99(0x20a))]()['load'](_0x9cdc99(0xb4));_0x444b31[_0x9cdc99(0x23c)]=_0x444b31[_0x9cdc99(0x241)]=_0x2d4112[_0x9cdc99(0x23d)],_0x444b31[_0x9cdc99(0x17a)][_0x9cdc99(0x21c)](0x2,0x1);const _0x212a0b=new _0x2d4112[(_0x9cdc99(0x230))]({'color':0xf5f5f5,'roughness':0.4,'metalness':0x0,'normalMap':_0x444b31,'normalScale':new _0x2d4112[(_0x9cdc99(0x141))](0.1,0.1)}),_0x502328=new _0x2d4112[(_0x9cdc99(0x230))]({'color':0xaaaaaa,'roughness':0.4,'metalness':_0x429543,'map':_0x3a262a}),_0x2accb5=new _0x2d4112[(_0x9cdc99(0xd4))]({'color':0xaaaaaa,'transparent':!![],'opacity':0.3,'roughness':0x0,'metalness':0.1,'transmission':0.9}),_0xebe048=new _0x2d4112[(_0x9cdc99(0x230))]({'color':0xaaaaaa,'roughness':0.3,'metalness':0.8}),_0x45f743=new _0x2d4112[(_0x9cdc99(0xd4))]({'color':0xffffff,'transparent':!![],'opacity':0.8,'roughness':0.1,'metalness':0.2,'transmission':0.9}),_0x3c0757=new _0x2d4112['MeshBasicMaterial']({'color':0xffffff}),_0x357896=new _0x2d4112[(_0x9cdc99(0xa6))](),_0x215521=new _0x2d4112[(_0x9cdc99(0xc9))](new _0x2d4112['PlaneGeometry'](this[_0x9cdc99(0x22e)][_0x9cdc99(0x203)],this[_0x9cdc99(0x22e)]['roomSize']),_0x5b4b61);_0x215521['rotation']['x']=-Math['PI']/0x2,_0x215521[_0x9cdc99(0x222)]=!![],_0x357896[_0x9cdc99(0xff)](_0x215521);const _0xa36510=new _0x2d4112[(_0x9cdc99(0x161))](this[_0x9cdc99(0x22e)][_0x9cdc99(0x203)],0.02,0.1),_0x31fb32=this['config'][_0x9cdc99(0x203)]/0x5;for(let _0x3a3d63=-this[_0x9cdc99(0x22e)][_0x9cdc99(0x203)]/0x2+_0x31fb32;_0x3a3d63<this['config'][_0x9cdc99(0x203)]/0x2;_0x3a3d63+=_0x31fb32){const _0x4bccf1=new _0x2d4112['Mesh'](_0xa36510,_0x3c0757);_0x4bccf1['position'][_0x9cdc99(0x21c)](0x0,0.01,_0x3a3d63),_0x4bccf1[_0x9cdc99(0xad)]['x']=-Math['PI']/0x2,_0x357896[_0x9cdc99(0xff)](_0x4bccf1);const _0x44476f=new _0x2d4112['Mesh'](_0xa36510,_0x3c0757);_0x44476f[_0x9cdc99(0x22f)][_0x9cdc99(0x21c)](_0x3a3d63,0.01,0x0),_0x44476f['rotation']['x']=-Math['PI']/0x2,_0x44476f[_0x9cdc99(0xad)]['z']=Math['PI']/0x2,_0x357896[_0x9cdc99(0xff)](_0x44476f);const _0x3b1441=new _0x2d4112[(_0x9cdc99(0x217))](0xffffff,0.5,0x2);_0x3b1441['position'][_0x9cdc99(0x21c)](_0x3a3d63,0.05,_0x3a3d63),_0x357896[_0x9cdc99(0xff)](_0x3b1441);}const _0xeb94ba=0.15,_0x3889e5=0.05,_0x31a783=new _0x2d4112[(_0x9cdc99(0x161))](this[_0x9cdc99(0x22e)]['roomSize'],_0xeb94ba,_0x3889e5),_0x4c5969=this['config'][_0x9cdc99(0x203)]/0x2,_0x3e156d=[{'position':new _0x2d4112['Vector3'](0x0,_0xeb94ba/0x2,-_0x4c5969+_0x3889e5/0x2),'rotation':{'x':0x0,'y':0x0,'z':0x0}},{'position':new _0x2d4112['Vector3'](0x0,_0xeb94ba/0x2,_0x4c5969-_0x3889e5/0x2),'rotation':{'x':0x0,'y':Math['PI'],'z':0x0}},{'position':new _0x2d4112[(_0x9cdc99(0x1f4))](-_0x4c5969+_0x3889e5/0x2,_0xeb94ba/0x2,0x0),'rotation':{'x':0x0,'y':Math['PI']/0x2,'z':0x0}},{'position':new _0x2d4112[(_0x9cdc99(0x1f4))](_0x4c5969-_0x3889e5/0x2,_0xeb94ba/0x2,0x0),'rotation':{'x':0x0,'y':-Math['PI']/0x2,'z':0x0}}];_0x3e156d[_0x9cdc99(0x21d)](_0x179772=>{const _0x310790=_0x9cdc99,_0x314192=new _0x2d4112['Mesh'](_0x31a783,_0xebe048);_0x314192[_0x310790(0x22f)][_0x310790(0x9d)](_0x179772['position']),_0x314192['rotation']['set'](_0x179772[_0x310790(0xad)]['x'],_0x179772[_0x310790(0xad)]['y'],_0x179772[_0x310790(0xad)]['z']),_0x314192['castShadow']=!![],_0x314192[_0x310790(0x222)]=!![],_0x357896[_0x310790(0xff)](_0x314192);});const _0x20620f=new _0x2d4112[(_0x9cdc99(0x143))](0x1,0x6),_0x42ff02=this['config'][_0x9cdc99(0x203)]/0x5;for(let _0xea1df2=-0x2;_0xea1df2<=0x2;_0xea1df2++){for(let _0x5ca323=-0x2;_0x5ca323<=0x2;_0x5ca323++){if(Math[_0x9cdc99(0x231)](_0xea1df2)===0x2&&Math[_0x9cdc99(0x231)](_0x5ca323)===0x2)continue;const _0xb21bd9=new _0x2d4112['Mesh'](_0x20620f,_0x502328),_0x5809ee=Math[_0x9cdc99(0x17c)]()*0.5+this[_0x9cdc99(0x22e)]['wallHeight']-0.5;_0xb21bd9[_0x9cdc99(0x22f)][_0x9cdc99(0x21c)](_0xea1df2*_0x42ff02,_0x5809ee,_0x5ca323*_0x42ff02),_0xb21bd9[_0x9cdc99(0xad)]['x']=Math['PI']/0x2,_0xb21bd9[_0x9cdc99(0x222)]=!![],_0x357896['add'](_0xb21bd9);const _0x38b4bb=new _0x2d4112[(_0x9cdc99(0xc9))](new _0x2d4112[(_0x9cdc99(0x143))](0.3,0x6),_0x3c0757);_0x38b4bb[_0x9cdc99(0x22f)][_0x9cdc99(0x21c)](_0xea1df2*_0x42ff02,_0x5809ee-0.05,_0x5ca323*_0x42ff02),_0x38b4bb[_0x9cdc99(0xad)]['x']=Math['PI']/0x2,_0x357896[_0x9cdc99(0xff)](_0x38b4bb);const _0x250197=new _0x2d4112[(_0x9cdc99(0x217))](0xffffff,0x1,this[_0x9cdc99(0x22e)][_0x9cdc99(0x203)]/0x3);_0x250197[_0x9cdc99(0x22f)][_0x9cdc99(0x21c)](_0xea1df2*_0x42ff02,_0x5809ee-0.1,_0x5ca323*_0x42ff02),_0x357896[_0x9cdc99(0xff)](_0x250197);}}const _0x5e93a0=[new _0x2d4112[(_0x9cdc99(0xc9))](new _0x2d4112[(_0x9cdc99(0x177))](this[_0x9cdc99(0x22e)]['roomSize'],this[_0x9cdc99(0x22e)][_0x9cdc99(0x204)]),_0x212a0b),new _0x2d4112['Mesh'](new _0x2d4112[(_0x9cdc99(0x177))](this[_0x9cdc99(0x22e)][_0x9cdc99(0x203)],this[_0x9cdc99(0x22e)][_0x9cdc99(0x204)]),_0x212a0b),new _0x2d4112['Mesh'](new _0x2d4112['PlaneGeometry'](this[_0x9cdc99(0x22e)][_0x9cdc99(0x203)],this[_0x9cdc99(0x22e)]['wallHeight']),_0x212a0b),new _0x2d4112[(_0x9cdc99(0xc9))](new _0x2d4112[(_0x9cdc99(0x177))](this[_0x9cdc99(0x22e)][_0x9cdc99(0x203)],this[_0x9cdc99(0x22e)][_0x9cdc99(0x204)]),_0x212a0b)],_0x33704c=this[_0x9cdc99(0x22e)][_0x9cdc99(0x204)]/0x2;_0x5e93a0[0x0][_0x9cdc99(0x22f)][_0x9cdc99(0x21c)](0x0,_0x33704c,-_0x4c5969),_0x5e93a0[0x1][_0x9cdc99(0x22f)][_0x9cdc99(0x21c)](0x0,_0x33704c,_0x4c5969),_0x5e93a0[0x1][_0x9cdc99(0xad)]['y']=Math['PI'],_0x5e93a0[0x2][_0x9cdc99(0x22f)][_0x9cdc99(0x21c)](-_0x4c5969,_0x33704c,0x0),_0x5e93a0[0x2][_0x9cdc99(0xad)]['y']=Math['PI']/0x2,_0x5e93a0[0x3][_0x9cdc99(0x22f)]['set'](_0x4c5969,_0x33704c,0x0),_0x5e93a0[0x3][_0x9cdc99(0xad)]['y']=-Math['PI']/0x2,_0x5e93a0[_0x9cdc99(0x21d)](_0xc4aebb=>{const _0x197247=_0x9cdc99;_0xc4aebb['receiveShadow']=!![],_0x357896[_0x197247(0xff)](_0xc4aebb);});const _0x5a8d5d=[],_0x463308=0x14;for(let _0x2df659=0x0;_0x2df659<=_0x463308;_0x2df659++){const _0x439f7a=_0x2df659/_0x463308*Math['PI'],_0x34981f=Math[_0x9cdc99(0xe9)](_0x439f7a)*0x2-_0x4c5969,_0x51fcf2=Math[_0x9cdc99(0x10a)](_0x439f7a)*0x2-_0x4c5969;_0x5a8d5d[_0x9cdc99(0x23f)](new _0x2d4112[(_0x9cdc99(0x1f4))](_0x34981f,0x0,_0x51fcf2));}const _0xbc98f4=new _0x2d4112[(_0x9cdc99(0x18e))](_0x5a8d5d),_0x5a0b98=new _0x2d4112['ExtrudeGeometry'](new _0x2d4112['Shape']([new _0x2d4112[(_0x9cdc99(0x141))](-_0x4c5969,0x0),new _0x2d4112['Vector2'](_0x4c5969,0x0),new _0x2d4112[(_0x9cdc99(0x141))](_0x4c5969,this[_0x9cdc99(0x22e)][_0x9cdc99(0x204)]),new _0x2d4112[(_0x9cdc99(0x141))](-_0x4c5969,this['config']['wallHeight'])]),{'depth':0.1,'extrudePath':_0xbc98f4}),_0x531893=new _0x2d4112['Mesh'](_0x5a0b98,_0x2accb5);_0x531893['position'][_0x9cdc99(0x21c)](0x0,0x0,0x0),_0x357896[_0x9cdc99(0xff)](_0x531893);const _0x722c5b=new _0x2d4112[(_0x9cdc99(0x161))](0.05,this[_0x9cdc99(0x22e)][_0x9cdc99(0x204)],0.05),_0x13043e=this[_0x9cdc99(0x22e)][_0x9cdc99(0x203)]/0x7;for(let _0x4d133d=-_0x4c5969+_0x13043e;_0x4d133d<_0x4c5969;_0x4d133d+=_0x13043e){const _0x39df18=new _0x2d4112['Mesh'](_0x722c5b,_0xebe048);_0x39df18[_0x9cdc99(0x22f)][_0x9cdc99(0x21c)](_0x4d133d,_0x33704c,-_0x4c5969+0.1),_0x39df18['castShadow']=!![],_0x357896[_0x9cdc99(0xff)](_0x39df18);}const _0x397c6d=this[_0x9cdc99(0x22e)][_0x9cdc99(0x203)]/0x4,_0x319bf9=new _0x2d4112[(_0x9cdc99(0xc9))](new _0x2d4112[(_0x9cdc99(0x161))](_0x397c6d,0.3,0x1),_0x45f743);_0x319bf9[_0x9cdc99(0x22f)][_0x9cdc99(0x21c)](0x0,0.15,this[_0x9cdc99(0x22e)]['roomSize']/0x5),_0x319bf9[_0x9cdc99(0x122)]=!![],_0x319bf9['receiveShadow']=!![],_0x357896[_0x9cdc99(0xff)](_0x319bf9);const _0x486587=new _0x2d4112[(_0x9cdc99(0x161))](_0x397c6d+0.1,0.05,0.05),_0x41906c=new _0x2d4112['Mesh'](_0x486587,_0xebe048);_0x41906c[_0x9cdc99(0x22f)][_0x9cdc99(0x21c)](0x0,0.3,this[_0x9cdc99(0x22e)][_0x9cdc99(0x203)]/0x5),_0x41906c[_0x9cdc99(0x122)]=!![],_0x357896['add'](_0x41906c);const _0x5c256a=new _0x2d4112['Mesh'](_0x486587,_0xebe048);_0x5c256a[_0x9cdc99(0x22f)][_0x9cdc99(0x21c)](0x0,0x0,this[_0x9cdc99(0x22e)][_0x9cdc99(0x203)]/0x5),_0x5c256a['castShadow']=!![],_0x357896[_0x9cdc99(0xff)](_0x5c256a);for(let _0x230573=0x0;_0x230573<0x4;_0x230573++){const _0x9d655c=new _0x2d4112['Mesh'](new _0x2d4112[(_0x9cdc99(0x191))](0.03,0.03,0.3,0x10),_0xebe048);_0x9d655c[_0x9cdc99(0x22f)]['set'](_0x230573%0x2===0x0?-_0x397c6d/0x2+0.1:_0x397c6d/0x2-0.1,0.15,this['config']['roomSize']/0x5+(_0x230573<0x2?-0.5:0.5)),_0x9d655c[_0x9cdc99(0x122)]=!![],_0x9d655c[_0x9cdc99(0x222)]=!![],_0x357896[_0x9cdc99(0xff)](_0x9d655c);}_0x357896[_0x9cdc99(0x22f)][_0x9cdc99(0x21c)](0x0,0x0,0x0),this[_0x9cdc99(0x142)][_0x9cdc99(0x23f)](_0x357896),this[_0x9cdc99(0xb3)]['add'](_0x357896);}[_0x389c97(0x19c)](_0x4ed45b,_0xbd4a79){const _0x351fd9=_0x389c97,_0x565288=document['createElement']('canvas');_0x565288[_0x351fd9(0x1b9)]=_0x4ed45b,_0x565288[_0x351fd9(0x8f)]=_0xbd4a79;const _0x43da67=_0x565288[_0x351fd9(0x21f)]('2d'),_0x2c924e=_0x43da67['createImageData'](_0x4ed45b,_0xbd4a79);for(let _0x188612=0x0;_0x188612<_0x2c924e[_0x351fd9(0xc3)][_0x351fd9(0x1e2)];_0x188612+=0x4){const _0x4bc44d=Math[_0x351fd9(0x17c)]()*0.1+0.9;_0x2c924e[_0x351fd9(0xc3)][_0x188612]=0x88*_0x4bc44d,_0x2c924e['data'][_0x188612+0x1]=0x88*_0x4bc44d,_0x2c924e[_0x351fd9(0xc3)][_0x188612+0x2]=0x88*_0x4bc44d,_0x2c924e[_0x351fd9(0xc3)][_0x188612+0x3]=0xff;}return _0x43da67[_0x351fd9(0x1e9)](_0x2c924e,0x0,0x0),_0x565288;}[_0x389c97(0x1d2)](){const _0x487375=_0x389c97;this[_0x487375(0x11f)]=new _0x2d4112[(_0x487375(0xa6))]();const _0x305926=new _0x2d4112['MeshBasicMaterial']({'color':0xffffff,'transparent':!![],'opacity':0.3}),_0x42ea8c=new _0x2d4112[(_0x487375(0xc9))](new _0x2d4112['PlaneGeometry'](0.5,0.5),new _0x2d4112['MeshBasicMaterial']({'color':0xff00,'transparent':!![],'opacity':0x0}));_0x42ea8c[_0x487375(0x22f)][_0x487375(0x21c)](0x2,1.7,0x2),this[_0x487375(0x11f)]['add'](_0x42ea8c);const _0x9aa24e=new _0x2d4112['Mesh'](new _0x2d4112['CylinderGeometry'](0.3,0.3,0x1,0x20),_0x305926);_0x9aa24e['position'][_0x487375(0x21c)](0x2,0.5,0x2),this['avatarGroup'][_0x487375(0xff)](_0x9aa24e);const _0x29e2cc=new _0x2d4112[(_0x487375(0xc9))](new _0x2d4112[(_0x487375(0x157))](0.2,0x20,0x20),_0x305926);_0x29e2cc[_0x487375(0x22f)][_0x487375(0x21c)](0x2,1.2,0x2),this[_0x487375(0x11f)][_0x487375(0xff)](_0x29e2cc);const _0x156560=new _0x2d4112['CylinderGeometry'](0.1,0.1,0.5,0x20),_0x1d2d5b=new _0x2d4112[(_0x487375(0xc9))](_0x156560,_0x305926);_0x1d2d5b[_0x487375(0x22f)]['set'](1.7,0.7,0x2),_0x1d2d5b[_0x487375(0xad)]['z']=Math['PI']/0x4,this[_0x487375(0x11f)][_0x487375(0xff)](_0x1d2d5b);const _0x9bfdcf=new _0x2d4112[(_0x487375(0xc9))](_0x156560,_0x305926);_0x9bfdcf['position']['set'](2.3,0.7,0x2),_0x9bfdcf['rotation']['z']=-Math['PI']/0x4,this['avatarGroup'][_0x487375(0xff)](_0x9bfdcf);const _0x43bf34=new _0x2d4112['CylinderGeometry'](0.1,0.1,0.5,0x20),_0x266e35=new _0x2d4112['Mesh'](_0x43bf34,_0x305926);_0x266e35[_0x487375(0x22f)][_0x487375(0x21c)](1.8,0.25,0x2),this[_0x487375(0x11f)][_0x487375(0xff)](_0x266e35);const _0x7611e7=new _0x2d4112[(_0x487375(0xc9))](_0x43bf34,_0x305926);_0x7611e7['position'][_0x487375(0x21c)](2.2,0.25,0x2),this[_0x487375(0x11f)]['add'](_0x7611e7),this[_0x487375(0x11f)][_0x487375(0x145)]={'isAvatar':!![]},this[_0x487375(0xb3)][_0x487375(0xff)](this[_0x487375(0x11f)]),this['setupAvatarAnimation'](),this[_0x487375(0x183)]();}['setupAvatarAnimation'](){const _0x382e35=_0x389c97,_0x27f325=[0x0,0x1,0x2],_0x2b4b81=[[Math['PI']/0x4,-Math['PI']/0x4],[-Math['PI']/0x4,Math['PI']/0x4],[Math['PI']/0x4,-Math['PI']/0x4]],_0x394536=new _0x2d4112[(_0x382e35(0x156))](_0x382e35(0x1fa),_0x27f325,_0x2b4b81[_0x382e35(0x1df)](_0x4c9001=>_0x4c9001[0x0])),_0x26176a=new _0x2d4112[(_0x382e35(0x156))](_0x382e35(0xe6),_0x27f325,_0x2b4b81[_0x382e35(0x1df)](_0x8e888a=>_0x8e888a[0x1])),_0x350d95=new _0x2d4112[(_0x382e35(0x130))]('avatarWave',0x2,[_0x394536,_0x26176a]),_0x3b75c4=this['animationMixer']['clipAction'](_0x350d95,this[_0x382e35(0x11f)]);_0x3b75c4[_0x382e35(0xc2)](_0x2d4112[_0x382e35(0xa8)]),_0x3b75c4[_0x382e35(0x22d)]();}['updateAvatarPosition'](){const _0x235ec5=_0x389c97;if(this[_0x235ec5(0xfe)]){const _0x30bdf8=this['rooms'][0x0]['position']['clone']();this[_0x235ec5(0x11f)][_0x235ec5(0x22f)][_0x235ec5(0x9d)](_0x30bdf8),this[_0x235ec5(0x11f)][_0x235ec5(0x22f)]['y']=0.5;}else{const _0x5683b2=new _0x2d4112[(_0x235ec5(0x1f4))]();this['camera'][_0x235ec5(0x1a8)](_0x5683b2),_0x5683b2['y']=0x0,_0x5683b2[_0x235ec5(0x1f0)]()[_0x235ec5(0xa3)](0x2),this['avatarGroup'][_0x235ec5(0x22f)]['copy'](this[_0x235ec5(0x14e)][_0x235ec5(0x22f)])[_0x235ec5(0xff)](_0x5683b2),this[_0x235ec5(0x11f)][_0x235ec5(0x22f)]['y']=0.5;}}async[_0x389c97(0x192)](){const _0x32bd36=_0x389c97;try{const _0x2d5c56=await this['loadAudio']('sweet.mp3');this[_0x32bd36(0x115)]['setBuffer'](_0x2d5c56),this['backgroundAudio'][_0x32bd36(0xc2)](!![]),this[_0x32bd36(0x115)]['setVolume'](0.2),this[_0x32bd36(0x115)][_0x32bd36(0x22d)]();const _0x419dd7=await this[_0x32bd36(0x103)](_0x32bd36(0x1ce));this[_0x32bd36(0xf2)][_0x32bd36(0x88)](_0x419dd7),this[_0x32bd36(0xf2)][_0x32bd36(0x1ba)](0.5);}catch(_0x1caaa7){console[_0x32bd36(0x244)](_0x32bd36(0x193),_0x1caaa7);}}['loadAudio'](_0x4e9b5a){return new Promise((_0x542aa8,_0x5a6519)=>{const _0x553038=_0x2804,_0x277185=new _0x2d4112[(_0x553038(0x117))]();_0x277185['load'](_0x4e9b5a,_0x38dfb1=>_0x542aa8(_0x38dfb1),undefined,_0x1db8f0=>_0x5a6519(_0x1db8f0));});}['init'](){const _0x3040c6=_0x389c97;console[_0x3040c6(0x15d)](_0x3040c6(0x223));if(this[_0x3040c6(0xab)])this[_0x3040c6(0x1e3)](this[_0x3040c6(0xab)]);this[_0x3040c6(0x201)](),window[_0x3040c6(0x147)](_0x3040c6(0x1d7),()=>this[_0x3040c6(0x1b1)]());}[_0x389c97(0x201)](){const _0x680cad=_0x389c97;requestAnimationFrame(()=>this[_0x680cad(0x201)]()),this[_0x680cad(0xd2)]+=0.016,this[_0x680cad(0xd6)](),this[_0x680cad(0x1b5)](),this['renderer'][_0x680cad(0xec)](this[_0x680cad(0xb3)],this[_0x680cad(0x14e)]);if(this[_0x680cad(0xfe)])this[_0x680cad(0xe3)]['update']();this[_0x680cad(0x183)]();if(this[_0x680cad(0x213)]){}this['animationMixer']['update'](0.016*this[_0x680cad(0x20f)]),this[_0x680cad(0x129)]();}['startRecording'](){const _0x5f14ae=_0x389c97;if(this['isRecording'])return;this[_0x5f14ae(0x213)]=!![],this['recordedFrames']=[];const _0x7f56e2=this[_0x5f14ae(0xa0)][_0x5f14ae(0x90)][_0x5f14ae(0xf5)](0x1e);this[_0x5f14ae(0x216)]=new MediaRecorder(_0x7f56e2,{'mimeType':_0x5f14ae(0x198)}),this[_0x5f14ae(0x216)][_0x5f14ae(0x22c)]=_0x3012dd=>{const _0x18532a=_0x5f14ae;_0x3012dd[_0x18532a(0xc3)][_0x18532a(0x1f5)]>0x0&&this[_0x18532a(0x22b)]['push'](_0x3012dd[_0x18532a(0xc3)]);},this['mediaRecorder'][_0x5f14ae(0x197)]=()=>{this['saveRecording']();},this[_0x5f14ae(0x216)]['start'](),document[_0x5f14ae(0x1f9)](_0x5f14ae(0x102))[_0x5f14ae(0x111)][_0x5f14ae(0x170)](_0x5f14ae(0xce)),console[_0x5f14ae(0x15d)](_0x5f14ae(0x12f));}[_0x389c97(0x245)](){const _0xd9658e=_0x389c97;if(!this['isRecording']||!this[_0xd9658e(0x216)])return;this[_0xd9658e(0x213)]=![],this[_0xd9658e(0x216)][_0xd9658e(0xef)](),document['getElementById']('recordStatus')[_0xd9658e(0x111)][_0xd9658e(0xff)](_0xd9658e(0xce)),console['log'](_0xd9658e(0x1f3));}[_0x389c97(0x1c4)](){const _0x3e226b=_0x389c97,_0xcf9809=new Blob(this['recordedFrames'],{'type':'video/webm'}),_0x2d3b1e=URL[_0x3e226b(0x110)](_0xcf9809),_0x59e58a=document[_0x3e226b(0x218)]('a');_0x59e58a['href']=_0x2d3b1e,_0x59e58a['download']=_0x3e226b(0x209)+new Date()['toISOString']()+_0x3e226b(0xfa),_0x59e58a[_0x3e226b(0x1eb)](),URL[_0x3e226b(0x13f)](_0x2d3b1e),this['recordedFrames']=[];}[_0x389c97(0x17e)](){const _0x1a1d82=_0x389c97;this[_0x1a1d82(0x1c7)]=!this[_0x1a1d82(0x1c7)];const _0x5f38fd=document[_0x1a1d82(0x1f9)]('autoRotateBtn');_0x5f38fd['textContent']=this[_0x1a1d82(0x1c7)]?_0x1a1d82(0xb8):_0x1a1d82(0x127),console[_0x1a1d82(0x15d)](this[_0x1a1d82(0x1c7)]?'ðŸ”„\x20Auto-rotation\x20enabled':_0x1a1d82(0x206));}[_0x389c97(0x1c5)](){const _0x103fd7=_0x389c97;this[_0x103fd7(0x11d)]=!this[_0x103fd7(0x11d)];const _0x47e527=document[_0x103fd7(0x1f9)](_0x103fd7(0x13a));_0x47e527[_0x103fd7(0xd1)]=this[_0x103fd7(0x11d)]?_0x103fd7(0x17f):_0x103fd7(0x152),console['log'](this[_0x103fd7(0x11d)]?_0x103fd7(0xbb):_0x103fd7(0x1bf));}[_0x389c97(0x8d)](){const _0x4cbc78=_0x389c97;if(this[_0x4cbc78(0x1c7)]&&!this[_0x4cbc78(0x1e0)]){if(this[_0x4cbc78(0xfe)])this[_0x4cbc78(0xe3)][_0x4cbc78(0xf9)]+=_0x2d4112[_0x4cbc78(0xc4)][_0x4cbc78(0x237)](this[_0x4cbc78(0x205)]),this[_0x4cbc78(0xe3)][_0x4cbc78(0xd6)]();else{if(this[_0x4cbc78(0xd3)]){const _0x735f57=new _0x2d4112[(_0x4cbc78(0x11a))](0x0,0x0,0x0,_0x4cbc78(0x132));_0x735f57[_0x4cbc78(0x12d)](this[_0x4cbc78(0x14e)][_0x4cbc78(0x195)]),_0x735f57['y']-=_0x2d4112['MathUtils']['degToRad'](this[_0x4cbc78(0x205)]),this[_0x4cbc78(0x14e)][_0x4cbc78(0x195)][_0x4cbc78(0x18c)](_0x735f57);}}}}[_0x389c97(0x129)](){const _0x3a6b7c=_0x389c97;this[_0x3a6b7c(0x11d)]&&(this[_0x3a6b7c(0xac)][_0x3a6b7c(0x21d)](_0x49f24c=>{const _0x27af0c=_0x3a6b7c;_0x49f24c[_0x27af0c(0x10d)][_0x27af0c(0xad)]['y']+=0.02*this[_0x27af0c(0x20f)];}),this[_0x3a6b7c(0x21e)]&&this[_0x3a6b7c(0x21e)][_0x3a6b7c(0x186)][_0x3a6b7c(0x21d)](_0x4ce5e4=>{const _0x50adae=_0x3a6b7c;_0x4ce5e4['rotation']['y']+=0.03*this[_0x50adae(0x20f)];}));}[_0x389c97(0x1b5)](){const _0x4abb9d=_0x389c97;this[_0x4abb9d(0xac)][_0x4abb9d(0x21d)]((_0x95a55d,_0x4c737b)=>{const _0x23d4e7=_0x4abb9d;if(_0x95a55d[_0x23d4e7(0x10d)][_0x23d4e7(0x126)][_0x23d4e7(0x1bd)]){_0x95a55d[_0x23d4e7(0x10d)][_0x23d4e7(0x126)][_0x23d4e7(0x1bd)][_0x23d4e7(0xd2)][_0x23d4e7(0x219)]=this[_0x23d4e7(0xd2)]+_0x4c737b;const _0x4b8823=_0x95a55d[_0x23d4e7(0x10d)][_0x23d4e7(0xdf)][_0x23d4e7(0x186)]['find'](_0x58a660=>_0x58a660 instanceof _0x2d4112['SpotLight']&&_0x58a660[_0x23d4e7(0xf4)]===_0x95a55d[_0x23d4e7(0x10d)]);_0x4b8823&&(_0x4b8823[_0x23d4e7(0x125)]=0x2+Math[_0x23d4e7(0x10a)](this[_0x23d4e7(0xd2)]*0x2+_0x4c737b)*0.2);}});}['setupEventListeners'](){const _0x4b4806=_0x389c97,_0x5090ce=document[_0x4b4806(0x218)](_0x4b4806(0xbc));_0x5090ce['id']=_0x4b4806(0x13c),_0x5090ce[_0x4b4806(0xe5)]['cssText']='position:absolute;\x20top:50%;\x20left:50%;\x20transform:translate(-50%,\x20-50%);\x20color:white;\x20background:rgba(0,0,0,0.7);\x20padding:20px;\x20border-radius:5px;\x20z-index:11;\x20text-align:center;';this[_0x4b4806(0xfe)]?_0x5090ce[_0x4b4806(0x12c)]=_0x4b4806(0x18a):_0x5090ce[_0x4b4806(0x12c)]=_0x4b4806(0xdb);document[_0x4b4806(0x17b)]['appendChild'](_0x5090ce),this[_0x4b4806(0xa0)]['domElement'][_0x4b4806(0x147)](this[_0x4b4806(0xfe)]?_0x4b4806(0xa7):'click',_0x4acc8d=>this[_0x4b4806(0x15c)](_0x4acc8d));!this['isMobile']?(document[_0x4b4806(0x147)](_0x4b4806(0x1e4),_0x4045a0=>this['onKeyDown'](_0x4045a0)),document[_0x4b4806(0x147)](_0x4b4806(0x1da),_0x2affc5=>this['onKeyUp'](_0x2affc5)),this[_0x4b4806(0xa0)]['domElement'][_0x4b4806(0x147)](_0x4b4806(0x1eb),()=>{const _0x2a0f70=_0x4b4806;!this[_0x2a0f70(0xd3)]&&!this[_0x2a0f70(0x1e0)]&&!this[_0x2a0f70(0x1a7)]&&(this[_0x2a0f70(0xe3)][_0x2a0f70(0x190)](),_0x5090ce[_0x2a0f70(0xe5)]['display']=_0x2a0f70(0x187));}),document[_0x4b4806(0x147)]('pointerlockchange',()=>{const _0x54308d=_0x4b4806;this['isLocked']=document[_0x54308d(0x93)]===this[_0x54308d(0xa0)][_0x54308d(0x90)],console['log'](_0x54308d(0x1c0),this['isLocked']?_0x54308d(0x1aa):_0x54308d(0x19f));if(!this[_0x54308d(0xd3)])this['isFocused']=![];}),document['addEventListener']('pointerlockerror',()=>{const _0x126f82=_0x4b4806;console[_0x126f82(0x244)]('Pointer\x20Lock\x20failed');})):_0x5090ce['style']['display']=_0x4b4806(0x187);document[_0x4b4806(0x1f9)](_0x4b4806(0x196))?.[_0x4b4806(0x147)]('submit',_0x44a552=>this[_0x4b4806(0x1fc)](_0x44a552)),document[_0x4b4806(0x1f9)](_0x4b4806(0x196))?.[_0x4b4806(0x147)](_0x4b4806(0xca),_0x21e512=>this['showImagePreviewsAndMetadataPrompt'](_0x21e512)),document['getElementById'](_0x4b4806(0xde))?.[_0x4b4806(0x147)](_0x4b4806(0xb0),_0x36d8db=>this[_0x4b4806(0x1ef)](_0x36d8db)),document[_0x4b4806(0x1f9)](_0x4b4806(0x1b6))?.['addEventListener'](_0x4b4806(0x1eb),()=>this[_0x4b4806(0x200)]()),document[_0x4b4806(0x1f9)]('zoomSlider')?.[_0x4b4806(0x147)](_0x4b4806(0x1b8),()=>this['handleZoom']()),document[_0x4b4806(0x1f9)](_0x4b4806(0x113))?.[_0x4b4806(0x147)](_0x4b4806(0x1eb),()=>this[_0x4b4806(0x228)]()),document[_0x4b4806(0x1f9)](_0x4b4806(0x159))?.[_0x4b4806(0x147)]('click',()=>{const _0x3311d2=_0x4b4806;this[_0x3311d2(0x213)]?(this[_0x3311d2(0x245)](),document[_0x3311d2(0x1f9)]('recordBtn')['textContent']=_0x3311d2(0xa9)):(this[_0x3311d2(0x1f7)](),document[_0x3311d2(0x1f9)]('recordBtn')[_0x3311d2(0xd1)]=_0x3311d2(0x1a2));}),document[_0x4b4806(0x1f9)](_0x4b4806(0xaf))?.[_0x4b4806(0x147)](_0x4b4806(0x1eb),()=>this[_0x4b4806(0x17e)]()),document[_0x4b4806(0x1f9)](_0x4b4806(0x13a))?.[_0x4b4806(0x147)]('click',()=>this['toggleObjectAnimation']()),document[_0x4b4806(0x1f9)]('animationSpeedSlider')?.[_0x4b4806(0x147)]('input',()=>{const _0x2b1ae7=_0x4b4806,_0x3ac775=document[_0x2b1ae7(0x1f9)](_0x2b1ae7(0x1b0)),_0x4cf45c=document[_0x2b1ae7(0x1f9)]('animationSpeedValue');this[_0x2b1ae7(0x20f)]=parseFloat(_0x3ac775[_0x2b1ae7(0x219)]),_0x4cf45c['textContent']=this[_0x2b1ae7(0x20f)][_0x2b1ae7(0xdc)](0x1);});if(!this[_0x4b4806(0xfe)])document[_0x4b4806(0x1f9)](_0x4b4806(0x86))?.[_0x4b4806(0x147)](_0x4b4806(0x1b8),()=>{const _0x4402ae=_0x4b4806,_0x2b2cd1=document[_0x4402ae(0x1f9)]('sensitivitySlider'),_0xb6f467=document[_0x4402ae(0x1f9)](_0x4402ae(0x221)),_0x40d8f5=parseFloat(_0x2b2cd1['value']);_0xb6f467['textContent']=_0x40d8f5[_0x4402ae(0xdc)](0x3),this[_0x4402ae(0xe3)]['setSensitivity'](_0x40d8f5);});else{const _0x548b3d=document['querySelector'](_0x4b4806(0x140));if(_0x548b3d)_0x548b3d[_0x4b4806(0xe5)][_0x4b4806(0xae)]=_0x4b4806(0x187);}const _0x43d891=document[_0x4b4806(0x1f9)](_0x4b4806(0x13b)),_0x5e251d=document[_0x4b4806(0x1f9)](_0x4b4806(0xa1)),_0x1f2a51=document[_0x4b4806(0x1f9)](_0x4b4806(0x162));if(_0x43d891)_0x43d891['addEventListener'](_0x4b4806(0x1eb),_0x327c00=>{const _0x3b831d=_0x4b4806;_0x327c00[_0x3b831d(0x1c9)](),console[_0x3b831d(0x15d)](_0x3b831d(0x16b)),this[_0x3b831d(0x235)]();});if(_0x5e251d)_0x5e251d[_0x4b4806(0x147)](_0x4b4806(0x1eb),_0x46db55=>{const _0x572d7c=_0x4b4806;_0x46db55['stopPropagation'](),console[_0x572d7c(0x15d)](_0x572d7c(0x169)),this[_0x572d7c(0x1fe)]();});if(_0x1f2a51)_0x1f2a51['addEventListener'](_0x4b4806(0x1eb),_0x414949=>{const _0x254b72=_0x4b4806;_0x414949[_0x254b72(0x1c9)](),console[_0x254b72(0x15d)](_0x254b72(0xa2)),this['closeSlider']();});document[_0x4b4806(0x147)](_0x4b4806(0x1e4),_0x2c8341=>{const _0x171705=_0x4b4806;if(this[_0x171705(0x1a7)]){if(_0x2c8341[_0x171705(0x136)]===_0x171705(0x176))console[_0x171705(0x15d)](_0x171705(0xba)),this[_0x171705(0x235)]();else _0x2c8341[_0x171705(0x136)]===_0x171705(0x225)&&(console[_0x171705(0x15d)](_0x171705(0xf7)),this[_0x171705(0x1fe)]());}this[_0x171705(0x17d)](_0x2c8341);});}[_0x389c97(0x168)](_0x1a1da5){const _0x289290=_0x389c97,_0x54db61=_0x1a1da5[_0x289290(0xf4)][_0x289290(0x13e)];if(!_0x54db61||!this[_0x289290(0x1e5)])return;this['pendingFiles']=Array[_0x289290(0x224)](_0x54db61),this[_0x289290(0x1e5)][_0x289290(0x12c)]='',Array[_0x289290(0x224)](_0x54db61)['forEach'](_0x49b2bb=>{const _0x27e01a=_0x289290;if(_0x49b2bb['type']['startsWith'](_0x27e01a(0x154))){const _0x1f3dc8=new FileReader();_0x1f3dc8['onload']=_0x573661=>{const _0xf469ee=_0x27e01a,_0x5d2c88=document[_0xf469ee(0x218)]('img');_0x5d2c88[_0xf469ee(0xc7)]=_0x573661[_0xf469ee(0xf4)][_0xf469ee(0x96)],_0x5d2c88[_0xf469ee(0x149)]='image-preview',_0x5d2c88['style'][_0xf469ee(0x1b7)]=_0xf469ee(0x14c),this[_0xf469ee(0x1e5)][_0xf469ee(0xf1)](_0x5d2c88);},_0x1f3dc8[_0x27e01a(0xeb)](_0x49b2bb);}}),this[_0x289290(0x1ab)]();}['showMetadataModal'](){const _0x144ae5=_0x389c97,_0x51045a=document[_0x144ae5(0x1f9)]('metadataModal'),_0x8d8f88=document['getElementById'](_0x144ae5(0x248));_0x8d8f88[_0x144ae5(0x12c)]='',this['pendingFiles']['forEach']((_0xc13cee,_0x1eb3d8)=>{const _0x40c32e=_0x144ae5,_0x34a00b=document['createElement']('div');_0x34a00b[_0x40c32e(0x12c)]=_0x40c32e(0x98)+_0xc13cee[_0x40c32e(0x240)]+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22title-'+_0x1eb3d8+_0x40c32e(0x8c)+_0xc13cee['name'][_0x40c32e(0x178)]('.')[0x0]+_0x40c32e(0x199)+_0x1eb3d8+_0x40c32e(0xbe)+_0x1eb3d8+'\x22\x20placeholder=\x22Artist\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x8d8f88[_0x40c32e(0xf1)](_0x34a00b);}),_0x51045a[_0x144ae5(0xe5)][_0x144ae5(0xae)]=_0x144ae5(0x20e),document['getElementById'](_0x144ae5(0x234))[_0x144ae5(0xf8)]=()=>this[_0x144ae5(0x234)](),document['getElementById']('cancelMetadata')[_0x144ae5(0xf8)]=()=>{const _0x6eebc2=_0x144ae5;_0x51045a[_0x6eebc2(0xe5)][_0x6eebc2(0xae)]=_0x6eebc2(0x187),this['pendingFiles']=[],this[_0x6eebc2(0x1e5)][_0x6eebc2(0x12c)]='',document[_0x6eebc2(0x1f9)](_0x6eebc2(0xac))['value']='';};}[_0x389c97(0x234)](){const _0x3753de=_0x389c97,_0x5e9416=document[_0x3753de(0x1f9)](_0x3753de(0x175));this[_0x3753de(0x1c8)]=this[_0x3753de(0x1d6)][_0x3753de(0x1df)]((_0x3b481e,_0x423224)=>({'filename':_0x3b481e[_0x3753de(0x240)],'title':document[_0x3753de(0x1f9)]('title-'+_0x423224)[_0x3753de(0x219)]||_0x3b481e['name']['split']('.')[0x0],'description':document[_0x3753de(0x1f9)]('description-'+_0x423224)[_0x3753de(0x219)]||'','artist':document['getElementById']('artist-'+_0x423224)[_0x3753de(0x219)]||_0x3753de(0x9f)})),_0x5e9416[_0x3753de(0xe5)][_0x3753de(0xae)]=_0x3753de(0x187),this[_0x3753de(0x1fc)]({'preventDefault':()=>{}});}[_0x389c97(0x228)](){const _0x4baf63=_0x389c97;this['controlsVisible']=!this[_0x4baf63(0x10f)];const _0x27790e=document[_0x4baf63(0x19a)](_0x4baf63(0xa4)),_0x2b6956=document[_0x4baf63(0x1f9)](_0x4baf63(0x113));_0x27790e[_0x4baf63(0x21d)](_0x298002=>{const _0x380c4b=_0x4baf63;_0x298002['classList'][_0x380c4b(0x1bb)](_0x380c4b(0x146),!this[_0x380c4b(0x10f)]);}),_0x2b6956['textContent']=this[_0x4baf63(0x10f)]?_0x4baf63(0x20d):_0x4baf63(0x182),_0x2b6956['querySelector']('i')&&(_0x2b6956[_0x4baf63(0x14a)]('i')[_0x4baf63(0x149)]=this[_0x4baf63(0x10f)]?'fas\x20fa-eye':_0x4baf63(0x1c3)),console['log'](this['controlsVisible']?_0x4baf63(0x181):_0x4baf63(0x9e));}['onKeyDown'](_0x39876f){const _0x1f2721=_0x389c97;switch(_0x39876f[_0x1f2721(0x136)][_0x1f2721(0xcb)]()){case'w':this[_0x1f2721(0x188)]['w']=!![];break;case'a':this[_0x1f2721(0x188)]['a']=!![];break;case's':this[_0x1f2721(0x188)]['s']=!![];break;case'd':this[_0x1f2721(0x188)]['d']=!![];break;case'q':this['keys']['q']=!![];break;case'e':this['keys']['e']=!![];break;case _0x1f2721(0x1d0):this['controls'][_0x1f2721(0x89)]();break;}}[_0x389c97(0xc1)](_0x2e3c16){const _0xd41b68=_0x389c97;switch(_0x2e3c16['key'][_0xd41b68(0xcb)]()){case'w':this[_0xd41b68(0x188)]['w']=![];break;case'a':this[_0xd41b68(0x188)]['a']=![];break;case's':this[_0xd41b68(0x188)]['s']=![];break;case'd':this[_0xd41b68(0x188)]['d']=![];break;case'q':this[_0xd41b68(0x188)]['q']=![];break;case'e':this[_0xd41b68(0x188)]['e']=![];break;}}['update'](){const _0x49bfca=_0x389c97;if(!this[_0x49bfca(0xfe)]&&this[_0x49bfca(0xd3)]&&!this[_0x49bfca(0x16a)]&&!this[_0x49bfca(0x1e0)]){const _0x411627=new _0x2d4112[(_0x49bfca(0x1f4))](),_0x3dbd6b=new _0x2d4112[(_0x49bfca(0x1f4))]();this['camera'][_0x49bfca(0x1a8)](_0x3dbd6b),_0x3dbd6b['y']=0x0,_0x3dbd6b[_0x49bfca(0x1f0)]();if(this[_0x49bfca(0x188)]['w'])_0x411627[_0x49bfca(0x166)](_0x3dbd6b,this[_0x49bfca(0x229)]);if(this[_0x49bfca(0x188)]['s'])_0x411627['addScaledVector'](_0x3dbd6b,-this['moveSpeed']);if(this[_0x49bfca(0x188)]['a']){const _0x531a7c=new _0x2d4112['Vector3']()[_0x49bfca(0x150)](this[_0x49bfca(0x14e)]['up'],_0x3dbd6b)['normalize']();_0x411627[_0x49bfca(0x166)](_0x531a7c,-this[_0x49bfca(0x229)]);}if(this['keys']['d']){const _0x5bc29a=new _0x2d4112[(_0x49bfca(0x1f4))]()[_0x49bfca(0x150)](this[_0x49bfca(0x14e)]['up'],_0x3dbd6b)['normalize']();_0x411627[_0x49bfca(0x166)](_0x5bc29a,this[_0x49bfca(0x229)]);}this['controls'][_0x49bfca(0x94)]()['position']['add'](_0x411627),this[_0x49bfca(0xfb)]();const _0x76f651=new _0x2d4112[(_0x49bfca(0x11a))](0x0,0x0,0x0,_0x49bfca(0x132));_0x76f651[_0x49bfca(0x12d)](this['camera'][_0x49bfca(0x195)]);if(this[_0x49bfca(0x188)]['q'])_0x76f651['y']+=this[_0x49bfca(0x215)];if(this[_0x49bfca(0x188)]['e'])_0x76f651['y']-=this['rotationSpeed'];this[_0x49bfca(0x14e)][_0x49bfca(0x195)][_0x49bfca(0x18c)](_0x76f651);}if(this[_0x49bfca(0x137)]>0x0)this['interactionCooldown']-=0.016;this[_0x49bfca(0x8d)]();}[_0x389c97(0xfb)](){const _0x1a738d=_0x389c97;if(!this[_0x1a738d(0xfe)]){this[_0x1a738d(0x14e)][_0x1a738d(0x22f)]['y']=this[_0x1a738d(0x22e)]['cameraHeight'];const _0x4024af=this[_0x1a738d(0x142)][0x0][_0x1a738d(0x22f)],_0x1a3aac=this['config'][_0x1a738d(0x203)]/0x2-0x1,_0x12627a=_0x4024af['x']-_0x1a3aac,_0x5d2cb6=_0x4024af['x']+_0x1a3aac,_0x323e91=_0x4024af['z']-_0x1a3aac,_0x3f3a70=_0x4024af['z']+_0x1a3aac;this[_0x1a738d(0x14e)][_0x1a738d(0x22f)]['x']=Math['max'](_0x12627a,Math['min'](_0x5d2cb6,this[_0x1a738d(0x14e)][_0x1a738d(0x22f)]['x'])),this[_0x1a738d(0x14e)]['position']['z']=Math[_0x1a738d(0x167)](_0x323e91,Math[_0x1a738d(0xe8)](_0x3f3a70,this[_0x1a738d(0x14e)][_0x1a738d(0x22f)]['z'])),this[_0x1a738d(0xe3)][_0x1a738d(0x94)]()[_0x1a738d(0x22f)][_0x1a738d(0x9d)](this[_0x1a738d(0x14e)][_0x1a738d(0x22f)]);}}async[_0x389c97(0x105)](_0x242a28){return new Promise(_0x59a4ac=>{const _0x14a47d=_0x2804,_0x3eb503=_0x242a28[_0x14a47d(0x134)],_0x423e40=document[_0x14a47d(0x218)](_0x14a47d(0x1f1));_0x423e40[_0x14a47d(0x1b9)]=0x8,_0x423e40[_0x14a47d(0x8f)]=0x8;const _0x21452a=_0x423e40['getContext']('2d');_0x21452a['drawImage'](_0x3eb503,0x0,0x0,0x8,0x8);const _0x42232=_0x21452a[_0x14a47d(0x10c)](0x0,0x0,0x8,0x8)[_0x14a47d(0xc3)];let _0x224cbf=0x0;for(let _0x8cc50c=0x0;_0x8cc50c<_0x42232[_0x14a47d(0x1e2)];_0x8cc50c+=0x4){_0x224cbf+=_0x42232[_0x8cc50c]+_0x42232[_0x8cc50c+0x1]+_0x42232[_0x8cc50c+0x2];}_0x59a4ac(_0x224cbf[_0x14a47d(0x148)]());});}async[_0x389c97(0x1e3)](_0x4646b7){const _0x445674=_0x389c97,_0x4db838=0x3;let _0x282dc8=0x0;while(_0x282dc8<_0x4db838){try{const _0x3f4181=await fetch(_0x445674(0xbd)+_0x4646b7+'/');if(!_0x3f4181['ok'])throw new Error(_0x445674(0xf6)+_0x3f4181[_0x445674(0x12b)]);const _0x95d3f1=await _0x3f4181[_0x445674(0x1b3)]();console[_0x445674(0x15d)](_0x445674(0xf0),_0x4646b7,':',_0x95d3f1);!_0x95d3f1[_0x445674(0x123)]?.[_0x445674(0x1e2)]?(console[_0x445674(0x15d)]('No\x20screenshots\x20found,\x20using\x20fallback'),this[_0x445674(0x23a)]=['https://via.placeholder.com/350x250',_0x445674(0x1cd)],this[_0x445674(0x1c8)]=[]):(this[_0x445674(0x23a)]=_0x95d3f1['screenshots'],this[_0x445674(0x1c8)]=_0x95d3f1['metadata']||[],!this[_0x445674(0x1c8)][_0x445674(0x1e2)]&&_0x95d3f1[_0x445674(0x123)][_0x445674(0x1e2)]?(this['metadata']=_0x95d3f1['screenshots'][_0x445674(0x1df)](_0x336a32=>({'filename':_0x336a32['split']('/')[_0x445674(0x211)](),'title':_0x445674(0x114),'description':'','artist':_0x445674(0x9f)})),console[_0x445674(0x15d)](_0x445674(0x233),this['metadata'])):console[_0x445674(0x15d)](_0x445674(0x1ae),this[_0x445674(0x1c8)]));await this[_0x445674(0x1a3)]();return;}catch(_0x2ce101){console['error'](_0x445674(0x160)+_0x282dc8+'):',_0x2ce101),_0x282dc8++,_0x282dc8===_0x4db838?(console[_0x445674(0x244)](_0x445674(0x121)),this['imagesToLoad']=['https://via.placeholder.com/350x250',_0x445674(0x1cd)],this[_0x445674(0x1c8)]=[],await this[_0x445674(0x1a3)]()):await new Promise(_0x3fb0ee=>setTimeout(_0x3fb0ee,0x1f4*_0x282dc8));}}}async[_0x389c97(0x1a3)](){const _0x4a1423=_0x389c97;if(!this[_0x4a1423(0x23a)])return;this[_0x4a1423(0x95)]();const _0xa7b0f=this['imagesToLoad'][_0x4a1423(0x1e2)];let _0x4471df=0x0;const _0x3de511=new Set(),_0x39c639=new _0x2d4112[(_0x4a1423(0x230))]({'color':0x333333,'roughness':0.5,'metalness':0.8}),_0x599c33=new _0x2d4112[(_0x4a1423(0x230))]({'color':0xff0000,'roughness':0.5,'metalness':0x0}),_0x469945=this[_0x4a1423(0x142)][0x0],_0x392b28=this[_0x4a1423(0x22e)][_0x4a1423(0x203)],_0x4777bc=0x4;this[_0x4a1423(0x22e)][_0x4a1423(0x124)]=Math[_0x4a1423(0x242)](_0xa7b0f/_0x4777bc);const _0x56ee7c=_0x392b28/(this[_0x4a1423(0x22e)][_0x4a1423(0x124)]+0x1),_0x28aa59=[{'basePos':new _0x2d4112[(_0x4a1423(0x1f4))](0x0,this[_0x4a1423(0x22e)][_0x4a1423(0x204)]/0x2,-_0x392b28/0x2+this[_0x4a1423(0x22e)][_0x4a1423(0x1dd)]),'rot':0x0,'dir':'x'},{'basePos':new _0x2d4112[(_0x4a1423(0x1f4))](-_0x392b28/0x2+this[_0x4a1423(0x22e)][_0x4a1423(0x1dd)],this[_0x4a1423(0x22e)][_0x4a1423(0x204)]/0x2,0x0),'rot':Math['PI']/0x2,'dir':'z'},{'basePos':new _0x2d4112[(_0x4a1423(0x1f4))](_0x392b28/0x2-this[_0x4a1423(0x22e)][_0x4a1423(0x1dd)],this['config']['wallHeight']/0x2,0x0),'rot':-Math['PI']/0x2,'dir':'z'},{'basePos':new _0x2d4112[(_0x4a1423(0x1f4))](0x0,this['config']['wallHeight']/0x2,_0x392b28/0x2-this[_0x4a1423(0x22e)][_0x4a1423(0x1dd)]),'rot':Math['PI'],'dir':'x'}];for(let _0x4d6ca0 of _0x28aa59){if(_0x4471df>=_0xa7b0f)break;const _0x17222b=[];for(let _0x4e2de3=0x0;_0x4e2de3<this[_0x4a1423(0x22e)][_0x4a1423(0x124)]&&_0x4471df<_0xa7b0f;_0x4e2de3++){const _0x231d1c=-_0x392b28/0x2+(_0x4e2de3+0.5)*_0x56ee7c,_0x20d83e=_0x4d6ca0['basePos'][_0x4a1423(0x1d3)]();if(_0x4d6ca0[_0x4a1423(0x151)]==='x')_0x20d83e['x']+=_0x231d1c;else _0x20d83e['z']+=_0x231d1c;_0x17222b['push']({'pos':_0x20d83e,'rot':_0x4d6ca0[_0x4a1423(0x14b)]});}for(let {pos:_0x3ce23e,rot:_0x40ecba}of _0x17222b){const _0x4f8c96=this[_0x4a1423(0x23a)][_0x4471df],_0x2c8d79=this[_0x4a1423(0x1c8)][_0x4a1423(0x1a0)](_0x3e966f=>_0x3e966f[_0x4a1423(0x1af)]===_0x4f8c96[_0x4a1423(0x178)]('/')['pop']())||{'title':_0x4a1423(0x114),'description':'','artist':'Unknown'};console[_0x4a1423(0x15d)]('Assigning\x20metadata\x20to\x20'+_0x4f8c96+':',_0x2c8d79);try{const _0x183c54=await this[_0x4a1423(0xf3)](_0x4f8c96),_0x3b1824=await this[_0x4a1423(0x105)](_0x183c54);if(_0x3de511['has'](_0x3b1824)){console[_0x4a1423(0xd8)](_0x4a1423(0xc0)+_0x4f8c96+_0x4a1423(0x1cc)+_0x3b1824+_0x4a1423(0xb6)),_0x4471df++;continue;}_0x3de511[_0x4a1423(0xff)](_0x3b1824);let _0x5464a5;_0x183c54[_0x4a1423(0x134)]?_0x5464a5=new _0x2d4112[(_0x4a1423(0x1b4))]({'uniforms':{'map':{'value':_0x183c54},'opacity':{'value':0x1},'time':{'value':0x0}},'vertexShader':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vNormal\x20=\x20normalMatrix\x20*\x20normal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fragmentShader':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20map;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20time;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color\x20=\x20texture2D(map,\x20vUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(color.a\x20<\x200.5)\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(color.rgb,\x20color.a\x20*\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','transparent':!![],'side':_0x2d4112[_0x4a1423(0x112)]}):_0x5464a5=_0x599c33;const _0x2cc04f=_0x183c54[_0x4a1423(0x134)]?_0x183c54[_0x4a1423(0x134)]['width']/_0x183c54[_0x4a1423(0x134)][_0x4a1423(0x8f)]:0x1,_0x206c53=Math[_0x4a1423(0xe8)](this['config'][_0x4a1423(0x15e)]*_0x2cc04f,this[_0x4a1423(0x22e)][_0x4a1423(0x22a)]),_0x4d7da6=new _0x2d4112['BoxGeometry'](_0x206c53,this['config']['displayHeight'],this[_0x4a1423(0x22e)][_0x4a1423(0x173)]),_0x5609cc=new _0x2d4112[(_0x4a1423(0xc9))](_0x4d7da6,_0x5464a5);_0x5609cc[_0x4a1423(0x22f)][_0x4a1423(0x9d)](_0x3ce23e)[_0x4a1423(0xff)](_0x469945[_0x4a1423(0x22f)]),_0x5609cc['rotation']['y']=_0x40ecba,_0x5609cc[_0x4a1423(0x122)]=!![],_0x5609cc[_0x4a1423(0x222)]=!![],_0x5609cc[_0x4a1423(0x145)]={'filename':_0x4f8c96,'hash':_0x3b1824,'baseScale':_0x5609cc[_0x4a1423(0x1de)]['clone'](),'metadata':{'title':_0x2c8d79['title'],'description':_0x2c8d79[_0x4a1423(0x18d)],'artist':_0x2c8d79[_0x4a1423(0x246)]}},_0x469945[_0x4a1423(0xff)](_0x5609cc),this[_0x4a1423(0xac)][_0x4a1423(0x23f)]({'mesh':_0x5609cc,'filename':_0x4f8c96,'hash':_0x3b1824,'metadata':_0x2c8d79});const _0x4630f1=new _0x2d4112['Shape']();_0x4630f1[_0x4a1423(0x135)](-_0x206c53/0x2-this[_0x4a1423(0x22e)]['frameThickness'],-this[_0x4a1423(0x22e)]['displayHeight']/0x2-this[_0x4a1423(0x22e)]['frameThickness']),_0x4630f1[_0x4a1423(0xc8)](_0x206c53/0x2+this[_0x4a1423(0x22e)][_0x4a1423(0x92)],-this['config'][_0x4a1423(0x15e)]/0x2-this[_0x4a1423(0x22e)][_0x4a1423(0x92)]),_0x4630f1[_0x4a1423(0xc8)](_0x206c53/0x2+this[_0x4a1423(0x22e)][_0x4a1423(0x92)],this['config'][_0x4a1423(0x15e)]/0x2+this[_0x4a1423(0x22e)]['frameThickness']),_0x4630f1[_0x4a1423(0xc8)](-_0x206c53/0x2-this['config']['frameThickness'],this[_0x4a1423(0x22e)]['displayHeight']/0x2+this[_0x4a1423(0x22e)][_0x4a1423(0x92)]),_0x4630f1['lineTo'](-_0x206c53/0x2-this[_0x4a1423(0x22e)][_0x4a1423(0x92)],-this['config'][_0x4a1423(0x15e)]/0x2-this[_0x4a1423(0x22e)][_0x4a1423(0x92)]);const _0x111d78=new _0x2d4112[(_0x4a1423(0x11c))]();_0x111d78[_0x4a1423(0x135)](-_0x206c53/0x2,-this[_0x4a1423(0x22e)][_0x4a1423(0x15e)]/0x2),_0x111d78['lineTo'](_0x206c53/0x2,-this['config'][_0x4a1423(0x15e)]/0x2),_0x111d78['lineTo'](_0x206c53/0x2,this['config'][_0x4a1423(0x15e)]/0x2),_0x111d78['lineTo'](-_0x206c53/0x2,this[_0x4a1423(0x22e)][_0x4a1423(0x15e)]/0x2),_0x111d78[_0x4a1423(0xc8)](-_0x206c53/0x2,-this[_0x4a1423(0x22e)][_0x4a1423(0x15e)]/0x2),_0x4630f1[_0x4a1423(0x144)][_0x4a1423(0x23f)](_0x111d78);const _0x10c49a={'depth':this[_0x4a1423(0x22e)][_0x4a1423(0x92)],'bevelEnabled':![]},_0x2a1712=new _0x2d4112[(_0x4a1423(0xe0))](_0x4630f1,_0x10c49a),_0x3f6594=new _0x2d4112[(_0x4a1423(0xc9))](_0x2a1712,_0x39c639);_0x3f6594[_0x4a1423(0x22f)][_0x4a1423(0x9d)](_0x5609cc[_0x4a1423(0x22f)]),_0x3f6594[_0x4a1423(0x22f)]['z']+=_0x40ecba===0x0?-this[_0x4a1423(0x22e)][_0x4a1423(0x173)]/0x2:_0x40ecba===Math['PI']?this[_0x4a1423(0x22e)][_0x4a1423(0x173)]/0x2:0x0,_0x3f6594[_0x4a1423(0x22f)]['x']+=_0x40ecba===Math['PI']/0x2?-this['config'][_0x4a1423(0x173)]/0x2:_0x40ecba===-Math['PI']/0x2?this[_0x4a1423(0x22e)][_0x4a1423(0x173)]/0x2:0x0,_0x3f6594[_0x4a1423(0xad)]['y']=_0x40ecba,_0x3f6594[_0x4a1423(0x122)]=!![],_0x3f6594[_0x4a1423(0x222)]=!![],_0x469945['add'](_0x3f6594);const _0x147949=new _0x2d4112[(_0x4a1423(0x139))](0xffffff,0x2,this[_0x4a1423(0x22e)][_0x4a1423(0x203)],Math['PI']/0x6,0.7),_0x583489=0x1;_0x147949['position'][_0x4a1423(0x21c)](_0x3ce23e['x']+(Math['abs'](_0x40ecba)===Math['PI']/0x2?_0x40ecba>0x0?_0x583489:-_0x583489:0x0),this[_0x4a1423(0x22e)][_0x4a1423(0x204)]-0.5,_0x3ce23e['z']+(Math[_0x4a1423(0x231)](_0x40ecba)===Math['PI']/0x2?0x0:_0x40ecba===0x0?-_0x583489:_0x583489))['add'](_0x469945[_0x4a1423(0x22f)]),_0x147949[_0x4a1423(0xf4)]=_0x5609cc,_0x147949[_0x4a1423(0x122)]=!![],_0x147949[_0x4a1423(0xb2)][_0x4a1423(0x21a)][_0x4a1423(0x1b9)]=0x200,_0x147949[_0x4a1423(0xb2)]['mapSize'][_0x4a1423(0x8f)]=0x200,_0x147949[_0x4a1423(0xb2)][_0x4a1423(0x207)]=-0.0001,_0x469945[_0x4a1423(0xff)](_0x147949),_0x4471df++;}catch(_0x767095){console[_0x4a1423(0x244)](_0x4a1423(0x1e8)+_0x4f8c96+':',_0x767095),_0x4471df++;}}}console[_0x4a1423(0x15d)](_0x4a1423(0x179)+this[_0x4a1423(0x1d5)]+':\x20'+this[_0x4a1423(0xac)][_0x4a1423(0x1e2)]+'/'+_0xa7b0f+',\x20Unique\x20hashes:\x20'+_0x3de511[_0x4a1423(0x1f5)]);}[_0x389c97(0x95)](){const _0x5726f8=_0x389c97;this[_0x5726f8(0xac)][_0x5726f8(0x21d)](_0x4c471f=>{const _0x433e4e=_0x5726f8;_0x4c471f['mesh'][_0x433e4e(0xdf)]&&_0x4c471f[_0x433e4e(0x10d)][_0x433e4e(0xdf)]['remove'](_0x4c471f[_0x433e4e(0x10d)]);_0x4c471f[_0x433e4e(0x10d)][_0x433e4e(0x1ec)][_0x433e4e(0xb9)]();if(_0x4c471f[_0x433e4e(0x10d)][_0x433e4e(0x126)][_0x433e4e(0x1df)])_0x4c471f[_0x433e4e(0x10d)][_0x433e4e(0x126)][_0x433e4e(0x1df)]['dispose']();_0x4c471f[_0x433e4e(0x10d)][_0x433e4e(0x126)][_0x433e4e(0xb9)]();}),this['images']=[],this[_0x5726f8(0x142)][_0x5726f8(0x21d)](_0x119d55=>{const _0x3ab32a=_0x5726f8,_0x2bd3c2=_0x119d55[_0x3ab32a(0x186)]['filter'](_0x24e66a=>_0x24e66a instanceof _0x2d4112[_0x3ab32a(0x139)]||_0x24e66a['userData'][_0x3ab32a(0x1af)]||_0x24e66a[_0x3ab32a(0x126)]?.[_0x3ab32a(0x91)]?.[_0x3ab32a(0x189)]()===0x333333);_0x2bd3c2[_0x3ab32a(0x21d)](_0x51fe50=>{const _0x20768d=_0x3ab32a;_0x119d55[_0x20768d(0x170)](_0x51fe50);if(_0x51fe50[_0x20768d(0x1ec)])_0x51fe50[_0x20768d(0x1ec)]['dispose']();if(_0x51fe50['material'])_0x51fe50['material'][_0x20768d(0xb9)]();});}),console[_0x5726f8(0x15d)]('ðŸ—‘ï¸\x20Scene\x20cleared');}['loadTexture'](_0xbbf60){return new Promise((_0x327805,_0x587f67)=>{const _0x32b4fc=_0x2804;this[_0x32b4fc(0x158)]['load'](_0xbbf60,_0x5d60b5=>{const _0x29fff5=_0x32b4fc,_0x34fb98=this['config'][_0x29fff5(0x1be)];if(_0x5d60b5['image'][_0x29fff5(0x1b9)]>_0x34fb98||_0x5d60b5[_0x29fff5(0x134)][_0x29fff5(0x8f)]>_0x34fb98){const _0x13c6c1=document['createElement'](_0x29fff5(0x1f1)),_0x2df98c=_0x13c6c1[_0x29fff5(0x21f)]('2d'),_0x486554=Math[_0x29fff5(0xe8)](_0x34fb98/_0x5d60b5[_0x29fff5(0x134)][_0x29fff5(0x1b9)],_0x34fb98/_0x5d60b5[_0x29fff5(0x134)]['height']);_0x13c6c1[_0x29fff5(0x1b9)]=_0x5d60b5[_0x29fff5(0x134)][_0x29fff5(0x1b9)]*_0x486554,_0x13c6c1[_0x29fff5(0x8f)]=_0x5d60b5['image'][_0x29fff5(0x8f)]*_0x486554,_0x2df98c[_0x29fff5(0x1ca)](_0x5d60b5[_0x29fff5(0x134)],0x0,0x0,_0x13c6c1[_0x29fff5(0x1b9)],_0x13c6c1[_0x29fff5(0x8f)]),_0x5d60b5[_0x29fff5(0x134)]=_0x13c6c1,_0x5d60b5[_0x29fff5(0x15a)]=!![];}_0x5d60b5[_0x29fff5(0x172)]=_0x2d4112['LinearMipmapLinearFilter'],_0x5d60b5[_0x29fff5(0xe7)]=_0x2d4112[_0x29fff5(0x23e)],_0x5d60b5[_0x29fff5(0x1d1)]=!![],_0x5d60b5[_0x29fff5(0x106)]=Math['min'](0x8,this[_0x29fff5(0xa0)][_0x29fff5(0x8e)][_0x29fff5(0x226)]()||0x1),_0x327805(_0x5d60b5);},undefined,_0x4fac8c=>_0x587f67(_0x4fac8c));});}[_0x389c97(0x15c)](_0x1b0e3f){const _0x2694fa=_0x389c97,_0x19b944=new Date()[_0x2694fa(0x14f)](),_0x52d183=_0x19b944-this['lastClickTime'];if(_0x52d183<this[_0x2694fa(0x212)]){this[_0x2694fa(0x11e)]['x']=_0x1b0e3f[_0x2694fa(0x1db)]/window[_0x2694fa(0xe4)]*0x2-0x1,this[_0x2694fa(0x11e)]['y']=-(_0x1b0e3f[_0x2694fa(0xea)]/window['innerHeight'])*0x2+0x1,this[_0x2694fa(0x243)]['setFromCamera'](this[_0x2694fa(0x11e)],this['camera']);const _0x2e2ae8=this['raycaster'][_0x2694fa(0x214)]([...this[_0x2694fa(0xac)][_0x2694fa(0x1df)](_0x413cdc=>_0x413cdc[_0x2694fa(0x10d)]),...this[_0x2694fa(0xb3)][_0x2694fa(0x186)][_0x2694fa(0x1dc)](_0x819c=>_0x819c[_0x2694fa(0xdf)]&&_0x819c['parent'][_0x2694fa(0x145)]['isAvatar']||_0x819c[_0x2694fa(0x145)][_0x2694fa(0x153)])[_0x2694fa(0x10b)](_0x4347a2=>_0x4347a2[_0x2694fa(0x186)][_0x2694fa(0x1e2)]?_0x4347a2[_0x2694fa(0x186)]:[_0x4347a2])]);if(_0x2e2ae8[_0x2694fa(0x1e2)]>0x0&&this[_0x2694fa(0x137)]<=0x0){const _0x2845ff=_0x2e2ae8[0x0][_0x2694fa(0x1ee)];if(this['isFocused'])this['resetCamera'](),this[_0x2694fa(0x162)]();else{if(_0x2845ff[_0x2694fa(0xdf)]&&_0x2845ff[_0x2694fa(0xdf)][_0x2694fa(0x145)][_0x2694fa(0x9a)])this[_0x2694fa(0x120)]();else{if(_0x2845ff[_0x2694fa(0x145)]['filename']){console[_0x2694fa(0x15d)](_0x2694fa(0x20b)+_0x2845ff[_0x2694fa(0x145)][_0x2694fa(0x1af)]);if(!this['clickSound'][_0x2694fa(0xee)])this[_0x2694fa(0xf2)][_0x2694fa(0x22d)]();this['focusImage'](_0x2845ff),this[_0x2694fa(0x1cb)](_0x2845ff),this[_0x2694fa(0x101)](_0x2845ff);}else _0x2845ff[_0x2694fa(0xdf)]&&_0x2845ff[_0x2694fa(0xdf)]['userData']['type']===_0x2694fa(0x21e)&&(_0x2845ff[_0x2694fa(0x126)][_0x2694fa(0x91)][_0x2694fa(0x15b)](Math[_0x2694fa(0x17c)](),0.8,0x1),this[_0x2694fa(0x137)]=0.5);}}}}this['lastClickTime']=_0x19b944;}[_0x389c97(0x101)](_0x258831){const _0x2e7a26=_0x389c97;if(!this[_0x2e7a26(0xac)]['length'])return;!this['isMobile']&&this[_0x2e7a26(0xd3)]&&(this[_0x2e7a26(0xe3)][_0x2e7a26(0x89)](),this[_0x2e7a26(0xd3)]=![]);this[_0x2e7a26(0x1a7)]=!![],this[_0x2e7a26(0x23b)]=this[_0x2e7a26(0xac)]['map'](_0x478913=>({'src':_0x478913['filename'],'mesh':_0x478913['mesh'],'metadata':_0x478913[_0x2e7a26(0x1c8)]||_0x478913[_0x2e7a26(0x10d)][_0x2e7a26(0x145)][_0x2e7a26(0x1c8)]||{'title':_0x2e7a26(0x114),'description':'','artist':_0x2e7a26(0x9f)}})),console[_0x2e7a26(0x15d)](_0x2e7a26(0x1a4),this['sliderImages']),this[_0x2e7a26(0x239)]=this[_0x2e7a26(0x23b)][_0x2e7a26(0xb5)](_0x23bd0f=>_0x23bd0f[_0x2e7a26(0x10d)]===_0x258831);if(this['currentSliderIndex']===-0x1)this['currentSliderIndex']=0x0;const _0x3d1715=document[_0x2e7a26(0x1f9)](_0x2e7a26(0x236));_0x3d1715?(_0x3d1715[_0x2e7a26(0x111)][_0x2e7a26(0x170)](_0x2e7a26(0xce)),_0x3d1715[_0x2e7a26(0xe5)][_0x2e7a26(0x1d8)]=_0x2e7a26(0x16e),this[_0x2e7a26(0xed)]()):(console[_0x2e7a26(0x244)](_0x2e7a26(0x1f8)),this[_0x2e7a26(0x1a7)]=![]);}[_0x389c97(0x162)](){const _0x3e3a4e=_0x389c97;this[_0x3e3a4e(0x1a7)]=![];const _0x37788a=document[_0x3e3a4e(0x1f9)](_0x3e3a4e(0x236));_0x37788a?(_0x37788a[_0x3e3a4e(0x111)][_0x3e3a4e(0xff)](_0x3e3a4e(0xce)),_0x37788a[_0x3e3a4e(0xe5)][_0x3e3a4e(0x1d8)]=_0x3e3a4e(0x187)):console[_0x3e3a4e(0x244)](_0x3e3a4e(0x1f8)),this[_0x3e3a4e(0x1e0)]?this[_0x3e3a4e(0x180)]():console[_0x3e3a4e(0x15d)](_0x3e3a4e(0x1ff));}[_0x389c97(0x235)](){const _0x114ac9=_0x389c97;this[_0x114ac9(0x239)]>0x0&&(this['currentSliderIndex']--,this[_0x114ac9(0xed)](),this['focusImage'](this['sliderImages'][this['currentSliderIndex']][_0x114ac9(0x10d)]));}[_0x389c97(0x1fe)](){const _0x54584c=_0x389c97;this[_0x54584c(0x239)]<this[_0x54584c(0x23b)][_0x54584c(0x1e2)]-0x1&&(this[_0x54584c(0x239)]++,this[_0x54584c(0xed)](),this[_0x54584c(0x99)](this[_0x54584c(0x23b)][this['currentSliderIndex']]['mesh']));}[_0x389c97(0xed)](){const _0x58f6ec=_0x389c97,_0x104929=document['getElementById'](_0x58f6ec(0x165)),_0x113f80=document[_0x58f6ec(0x1f9)](_0x58f6ec(0xcd)),_0x1f291c=document[_0x58f6ec(0x14a)](_0x58f6ec(0x97)),_0x4bc5b3=this[_0x58f6ec(0x23b)][this[_0x58f6ec(0x239)]];if(_0x104929&&_0x113f80&&_0x1f291c){_0x104929[_0x58f6ec(0xc7)]=_0x4bc5b3['src'],_0x113f80[_0x58f6ec(0xd1)]=this['currentSliderIndex']+0x1+'\x20/\x20'+this[_0x58f6ec(0x23b)][_0x58f6ec(0x1e2)];let _0x1ae62b=document[_0x58f6ec(0x1f9)](_0x58f6ec(0x107));!_0x1ae62b&&(_0x1ae62b=document['createElement']('div'),_0x1ae62b['id']='sliderMetadata',_0x1ae62b[_0x58f6ec(0xe5)][_0x58f6ec(0x1b7)]=_0x58f6ec(0xa5),_0x1f291c[_0x58f6ec(0xf1)](_0x1ae62b)),_0x1ae62b[_0x58f6ec(0x12c)]=_0x58f6ec(0x247)+(_0x4bc5b3[_0x58f6ec(0x1c8)][_0x58f6ec(0x1a6)]||_0x58f6ec(0x114))+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Artist:</strong>\x20'+(_0x4bc5b3[_0x58f6ec(0x1c8)][_0x58f6ec(0x246)]||_0x58f6ec(0x9f))+_0x58f6ec(0x1d9)+(_0x4bc5b3[_0x58f6ec(0x1c8)][_0x58f6ec(0x18d)]||'')+_0x58f6ec(0x1ad);}else console[_0x58f6ec(0x244)]('Slider\x20elements\x20missing:',{'sliderImage':_0x104929,'sliderIndex':_0x113f80,'sliderContent':_0x1f291c});}[_0x389c97(0x1cb)](_0x3d40da){const _0x1d8f85=_0x389c97,_0x3ba3ed=_0x3d40da[_0x1d8f85(0x1de)][_0x1d8f85(0x1d3)](),_0x44cbc2=_0x3d40da['userData']['baseScale']['clone']()[_0x1d8f85(0xa3)](1.2),_0x32cc4f=0x1f4,_0xb72e07=performance[_0x1d8f85(0xda)](),_0x6aafb=_0x1bcfc8=>{const _0x32d2db=_0x1d8f85,_0x3986bd=_0x1bcfc8-_0xb72e07,_0x4aac65=Math[_0x32d2db(0xe8)](_0x3986bd/_0x32cc4f,0x1);_0x3d40da[_0x32d2db(0x1de)][_0x32d2db(0x128)](_0x3ba3ed,_0x44cbc2,_0x4aac65);if(_0x4aac65<0x1)requestAnimationFrame(_0x6aafb);else{const _0x2ecb14=_0x2bd7a0=>{const _0x3b7b7c=_0x32d2db,_0x2324ff=_0x2bd7a0-_0xb72e07-_0x32cc4f,_0x25bbb3=Math[_0x3b7b7c(0xe8)](_0x2324ff/_0x32cc4f,0x1);_0x3d40da[_0x3b7b7c(0x1de)]['lerpVectors'](_0x44cbc2,_0x3ba3ed,_0x25bbb3);if(_0x25bbb3<0x1)requestAnimationFrame(_0x2ecb14);};requestAnimationFrame(_0x2ecb14);}};requestAnimationFrame(_0x6aafb);}[_0x389c97(0x99)](_0x52a55c){const _0x48b1f8=_0x389c97;this[_0x48b1f8(0x1fb)](),this[_0x48b1f8(0x1e0)]=!![];if(this[_0x48b1f8(0xfe)]){const _0x81388b=_0x52a55c['position'][_0x48b1f8(0x1d3)]();_0x81388b['y']=this['config'][_0x48b1f8(0x1c6)];const _0x8e9b94=0x2,_0x434a03=new _0x2d4112[(_0x48b1f8(0x1f4))]();_0x434a03[_0x48b1f8(0x208)](this[_0x48b1f8(0x14e)][_0x48b1f8(0x22f)],_0x81388b)['normalize'](),_0x81388b[_0x48b1f8(0xff)](_0x434a03['multiplyScalar'](-_0x8e9b94));const _0x2b9453=this[_0x48b1f8(0x14e)][_0x48b1f8(0x22f)][_0x48b1f8(0x1d3)](),_0x165ef5=this[_0x48b1f8(0xe3)][_0x48b1f8(0xf4)][_0x48b1f8(0x1d3)](),_0x476fb0=0x1f4,_0x54806f=performance['now'](),_0x53a0bd=_0x2eca34=>{const _0x2c82b6=_0x48b1f8,_0x74ff05=_0x2eca34-_0x54806f,_0x460a6a=Math[_0x2c82b6(0xe8)](_0x74ff05/_0x476fb0,0x1);this[_0x2c82b6(0x14e)][_0x2c82b6(0x22f)]['lerpVectors'](_0x2b9453,_0x81388b,_0x460a6a),this[_0x2c82b6(0xe3)][_0x2c82b6(0xf4)][_0x2c82b6(0x128)](_0x165ef5,_0x52a55c[_0x2c82b6(0x22f)],_0x460a6a),this[_0x2c82b6(0xe3)]['update']();if(_0x460a6a<0x1)requestAnimationFrame(_0x53a0bd);};requestAnimationFrame(_0x53a0bd);}else{const _0x583c4f=new _0x2d4112[(_0x48b1f8(0x1f4))]();this[_0x48b1f8(0x14e)]['getWorldDirection'](_0x583c4f);const _0x50b72d=_0x52a55c[_0x48b1f8(0x22f)][_0x48b1f8(0x1d3)]()[_0x48b1f8(0xb1)](_0x583c4f[_0x48b1f8(0xa3)](0x2));_0x50b72d['y']=this[_0x48b1f8(0x22e)][_0x48b1f8(0x1c6)];const _0x5422d0=this[_0x48b1f8(0x142)][0x0][_0x48b1f8(0x22f)],_0x1e2fb1=this[_0x48b1f8(0x22e)][_0x48b1f8(0x203)]/0x2-0x1,_0x5f0ece=_0x5422d0['x']-_0x1e2fb1,_0x2fcca0=_0x5422d0['x']+_0x1e2fb1,_0x27d8eb=_0x5422d0['z']-_0x1e2fb1,_0x7ff65a=_0x5422d0['z']+_0x1e2fb1;_0x50b72d['x']=Math[_0x48b1f8(0x167)](_0x5f0ece,Math[_0x48b1f8(0xe8)](_0x2fcca0,_0x50b72d['x'])),_0x50b72d['z']=Math[_0x48b1f8(0x167)](_0x27d8eb,Math[_0x48b1f8(0xe8)](_0x7ff65a,_0x50b72d['z']));const _0x2627c9=this[_0x48b1f8(0x14e)]['position'][_0x48b1f8(0x1d3)](),_0x5c756b=0x1f4,_0x3b8540=performance[_0x48b1f8(0xda)](),_0x39d3c1=_0x221231=>{const _0x1cb5ab=_0x48b1f8,_0x16a476=_0x221231-_0x3b8540,_0x2a246d=Math[_0x1cb5ab(0xe8)](_0x16a476/_0x5c756b,0x1);this[_0x1cb5ab(0x14e)]['position'][_0x1cb5ab(0x128)](_0x2627c9,_0x50b72d,_0x2a246d),this['controls'][_0x1cb5ab(0x94)]()[_0x1cb5ab(0x22f)]['copy'](this[_0x1cb5ab(0x14e)][_0x1cb5ab(0x22f)]),this[_0x1cb5ab(0x14e)]['lookAt'](_0x52a55c['position']),this[_0x1cb5ab(0xfb)]();if(_0x2a246d<0x1)requestAnimationFrame(_0x39d3c1);};requestAnimationFrame(_0x39d3c1);}}[_0x389c97(0x180)](){const _0xf9adaa=_0x389c97;if(!this[_0xf9adaa(0x1e0)])return;const _0x52da10=this[_0xf9adaa(0x14e)]['position'][_0xf9adaa(0x1d3)](),_0x49bb2f=this[_0xf9adaa(0x12a)][_0xf9adaa(0x22f)][_0xf9adaa(0x1d3)](),_0x470991=0x1f4,_0x7b47f8=performance[_0xf9adaa(0xda)]();if(this['isMobile']){const _0x12692b=this[_0xf9adaa(0xe3)]['target'][_0xf9adaa(0x1d3)](),_0x115a6c=this[_0xf9adaa(0x12a)]['target']['clone'](),_0x151f42=_0x38907b=>{const _0x3cb912=_0xf9adaa,_0x447f95=_0x38907b-_0x7b47f8,_0x3e76e1=Math[_0x3cb912(0xe8)](_0x447f95/_0x470991,0x1),_0x329356=0.5-0.5*Math['cos'](Math['PI']*_0x3e76e1);this['camera'][_0x3cb912(0x22f)][_0x3cb912(0x128)](_0x52da10,_0x49bb2f,_0x329356),this['controls'][_0x3cb912(0xf4)][_0x3cb912(0x128)](_0x12692b,_0x115a6c,_0x329356),this[_0x3cb912(0xe3)]['update']();if(_0x3e76e1<0x1)requestAnimationFrame(_0x151f42);else this['isFocused']=![],this[_0x3cb912(0x162)]();};requestAnimationFrame(_0x151f42);}else{const _0x2e18c9=_0x554bc4=>{const _0x5e945f=_0xf9adaa,_0x22dcbf=_0x554bc4-_0x7b47f8,_0x1f79cc=Math[_0x5e945f(0xe8)](_0x22dcbf/_0x470991,0x1),_0x5620e9=0.5-0.5*Math[_0x5e945f(0xe9)](Math['PI']*_0x1f79cc);this[_0x5e945f(0x14e)][_0x5e945f(0x22f)][_0x5e945f(0x128)](_0x52da10,_0x49bb2f,_0x5620e9),this[_0x5e945f(0xe3)]['getObject']()['position'][_0x5e945f(0x9d)](this[_0x5e945f(0x14e)]['position']),this['checkCollisions']();if(_0x1f79cc<0x1)requestAnimationFrame(_0x2e18c9);else this[_0x5e945f(0x1e0)]=![],this[_0x5e945f(0x162)]();};requestAnimationFrame(_0x2e18c9);}}[_0x389c97(0x1fb)](){const _0xb16a66=_0x389c97;this['previousCameraState']={'position':this['camera']['position'][_0xb16a66(0x1d3)](),'rotation':this[_0xb16a66(0x14e)][_0xb16a66(0xad)]['clone'](),'target':this['isMobile']?this[_0xb16a66(0xe3)]['target'][_0xb16a66(0x1d3)]():this[_0xb16a66(0x14e)][_0xb16a66(0x1a8)](new _0x2d4112[(_0xb16a66(0x1f4))]())[_0xb16a66(0xa3)](0x5)[_0xb16a66(0xff)](this[_0xb16a66(0x14e)][_0xb16a66(0x22f)])};}['handleDownload'](){const _0x4acdd6=_0x389c97,_0x56d2a0=this[_0x4acdd6(0xa0)]['domElement'][_0x4acdd6(0x133)]('image/png'),_0x5031c3=document['createElement']('a');_0x5031c3['href']=_0x56d2a0,_0x5031c3[_0x4acdd6(0xcf)]='gallery_view.png',_0x5031c3[_0x4acdd6(0x1eb)]();}['handleZoom'](){const _0x5dbd07=_0x389c97,_0x4b3639=document[_0x5dbd07(0x1f9)](_0x5dbd07(0x18b)),_0x1c204d=document['getElementById'](_0x5dbd07(0xe1)),_0x545264=parseFloat(_0x4b3639[_0x5dbd07(0x219)]);_0x1c204d[_0x5dbd07(0xd1)]=_0x545264[_0x5dbd07(0xdc)](0x1),this[_0x5dbd07(0xfe)]?(this[_0x5dbd07(0xe3)][_0x5dbd07(0x155)]=0x1/_0x545264,this[_0x5dbd07(0xe3)][_0x5dbd07(0x220)]=0xa/_0x545264,this[_0x5dbd07(0xe3)][_0x5dbd07(0xd6)]()):(this[_0x5dbd07(0x229)]=_0x545264/0xa,this[_0x5dbd07(0x14e)][_0x5dbd07(0x16c)]=0x4b/(_0x545264*0.5+0.5),this[_0x5dbd07(0x14e)][_0x5dbd07(0x227)]());}async['handleScreenshotSubmit'](_0x50d411){const _0xf909ec=_0x389c97;_0x50d411[_0xf909ec(0x104)]();const _0x2903d8=document[_0xf909ec(0x1f9)]('url')?.[_0xf909ec(0x219)];if(!_0x2903d8)return;try{const _0x199cc7=await fetch(_0xf909ec(0x202),{'method':'POST','headers':{'Content-Type':_0xf909ec(0x238)},'body':JSON[_0xf909ec(0x1e1)]({'url':_0x2903d8})}),_0x398c0b=await _0x199cc7[_0xf909ec(0x1b3)]();_0x398c0b[_0xf909ec(0xab)]&&(this[_0xf909ec(0xab)]=_0x398c0b[_0xf909ec(0xab)],localStorage[_0xf909ec(0xdd)](_0xf909ec(0xab),this['sessionId']),await this[_0xf909ec(0x1e3)](this[_0xf909ec(0xab)]));}catch(_0x3806a1){console[_0xf909ec(0x244)](_0xf909ec(0xc6),_0x3806a1);}}async[_0x389c97(0x1fc)](_0x1aef3f){const _0x4afd4d=_0x389c97;_0x1aef3f[_0x4afd4d(0x104)]();if(!this[_0x4afd4d(0x1d6)][_0x4afd4d(0x1e2)]||!this[_0x4afd4d(0x1c8)]['length']){console[_0x4afd4d(0x15d)]('No\x20files\x20or\x20metadata\x20to\x20upload');return;}const _0xa7fc78=new FormData();this[_0x4afd4d(0x1d6)][_0x4afd4d(0x21d)]((_0x1194e2,_0x580df6)=>{const _0x2a66c3=_0x4afd4d;_0xa7fc78[_0x2a66c3(0x1d4)](_0x2a66c3(0xac),_0x1194e2),_0xa7fc78[_0x2a66c3(0x1d4)](_0x2a66c3(0x1a6),this[_0x2a66c3(0x1c8)][_0x580df6]['title']),_0xa7fc78[_0x2a66c3(0x1d4)](_0x2a66c3(0x18d),this[_0x2a66c3(0x1c8)][_0x580df6]['description']),_0xa7fc78[_0x2a66c3(0x1d4)]('artist',this[_0x2a66c3(0x1c8)][_0x580df6]['artist']);});try{const _0x5d0df8=await fetch(_0x4afd4d(0x14d)+(this[_0x4afd4d(0xab)]?'/'+this[_0x4afd4d(0xab)]:''),{'method':_0x4afd4d(0xfd),'body':_0xa7fc78}),_0x49d4fc=await _0x5d0df8[_0x4afd4d(0x1b3)]();_0x49d4fc[_0x4afd4d(0x1cf)]&&(this[_0x4afd4d(0xab)]=_0x49d4fc[_0x4afd4d(0xab)],localStorage[_0x4afd4d(0xdd)](_0x4afd4d(0xab),this[_0x4afd4d(0xab)]),this[_0x4afd4d(0x1c8)]=this[_0x4afd4d(0x1d6)][_0x4afd4d(0x1df)]((_0xb3ad33,_0x173f30)=>({'filename':_0xb3ad33[_0x4afd4d(0x240)],'title':this['metadata'][_0x173f30]['title'],'description':this[_0x4afd4d(0x1c8)][_0x173f30][_0x4afd4d(0x18d)],'artist':this['metadata'][_0x173f30]['artist']})),await new Promise(_0x49c2ce=>setTimeout(_0x49c2ce,0x64)),await this['loadImages'](this[_0x4afd4d(0xab)]),this[_0x4afd4d(0x1d6)]=[],document[_0x4afd4d(0x1f9)](_0x4afd4d(0xac))['value']='',this[_0x4afd4d(0x1e5)][_0x4afd4d(0x12c)]='');}catch(_0xdfd000){console[_0x4afd4d(0x244)](_0x4afd4d(0x232),_0xdfd000);}}[_0x389c97(0x1b1)](){const _0x4bf132=_0x389c97;this[_0x4bf132(0x14e)]['aspect']=window['innerWidth']/window[_0x4bf132(0x1ac)],this[_0x4bf132(0x14e)][_0x4bf132(0x227)](),this['renderer'][_0x4bf132(0x119)](window[_0x4bf132(0xe4)],window[_0x4bf132(0x1ac)]);}[_0x389c97(0x120)](){const _0x4e2211=_0x389c97,_0x23f3e9=document[_0x4e2211(0x218)](_0x4e2211(0xbc));_0x23f3e9['id']=_0x4e2211(0x16f),_0x23f3e9[_0x4e2211(0xe5)][_0x4e2211(0x1b7)]=_0x4e2211(0x10e),this[_0x4e2211(0xfe)]?_0x23f3e9[_0x4e2211(0x12c)]=_0x4e2211(0x1fd):_0x23f3e9[_0x4e2211(0x12c)]=_0x4e2211(0x19b),document['body'][_0x4e2211(0xf1)](_0x23f3e9),document[_0x4e2211(0x1f9)]('closeInstructions')[_0x4e2211(0x147)]('click',()=>{const _0x58dd67=_0x4e2211;document[_0x58dd67(0x17b)][_0x58dd67(0x118)](_0x23f3e9);});}}const app=new ThreeJSApp();app[_0x389c97(0x164)]();